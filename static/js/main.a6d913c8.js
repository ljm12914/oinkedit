!function(){var e={335:function(e){"use strict";e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},9485:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return r(e[0],e[1])||null;var n=e.slice(1).reduce((function(e,t){return r(e,t)}),e[0]);return n||null};var n=new WeakMap;function r(e,t){if(e&&t){var r=n.get(e)||new WeakMap;n.set(e,r);var i=r.get(t)||function(n){o(e,n),o(t,n)};return r.set(t,i),i}return e||t}function o(e,t){"function"===typeof e?e(t):e.current=t}},4037:function(e,t,n){"use strict";var r=n(2506),o=n(9722),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&i(e,".prototype.")>-1?o(n):n}},9722:function(e,t,n){"use strict";var r=n(3350),o=n(2506),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(a,i),s=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(d){l=null}e.exports=function(e){var t=u(r,a,arguments);if(s&&l){var n=s(t,"length");n.configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var f=function(){return u(r,i,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},6846:function(e,t){"use strict";t.Q=function(e){var t,n=[],r=String(e||""),o=r.indexOf(","),i=0,a=!1;for(;!a;)-1===o&&(o=r.length,a=!0),!(t=r.slice(i,o).trim())&&a||n.push(t),i=o+1,o=r.indexOf(",",i);return n}},9948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(n){return!1}}function u(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"===typeof n?n:s}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}function s(e,n,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=r;var a=Array.isArray(n);return a===Array.isArray(e)?a?i.arrayMerge(e,n,i):u(e,n,i):r(n,i)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var l=s;e.exports=l},9396:function(e,t,n){"use strict";var r=n(4892),o="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,u=Object.defineProperty,s=n(4510)(),l=u&&s,c=function(e,t,n,r){var o;(!(t in e)||"function"===typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(l?u(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var u=0;u<i.length;u+=1)c(e,i[u],t[i[u]],n[i[u]])};f.supportsDescriptors=!!l,e.exports=f},5663:function(e,t,n){"use strict";var r=n(2506)("%Object.defineProperty%",!0),o=n(4707)(),i=n(8316),a=o?Symbol.toStringTag:null;e.exports=function(e,t){var n=arguments.length>2&&arguments[2]&&arguments[2].force;!a||!n&&i(e,a)||(r?r(e,a,{configurable:!0,enumerable:!1,value:t,writable:!1}):e[a]=t)}},882:function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,o=n(936),i=n(460),a=n(2833),u=n(3137),s=function(e,t){if("undefined"===typeof e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!==typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,u="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<u.length;++a)if(n=e[u[a]],i(n)&&(r=n.call(e),o(r)))return r;throw new TypeError("No default value")},l=function(e,t){var n=e[t];if(null!==n&&"undefined"!==typeof n){if(!i(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(o(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=l(e,Symbol.toPrimitive):u(e)&&(t=Symbol.prototype.valueOf)),"undefined"!==typeof t){var i=t.call(e,n);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||u(e))&&(n="string"),s(e,"default"===n?"number":n)}},936:function(e){"use strict";e.exports=function(e){return null===e||"function"!==typeof e&&"object"!==typeof e}},7093:function(e){"undefined"!==typeof self&&self,e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){function r(){throw new TypeError("The given URL is not a string. Please verify your string|array.")}function o(e){"string"!==typeof e&&r();for(var t=0,n=0,o=0,u=e.length,s=0;u--&&++s&&!(t&&-1<i.indexOf(e[s]));)"."===e[s]&&(++t,n=s);for(t=s,s=n;s--;)if(-1!==a.indexOf(e[s])){o=s+1;break}return 2>o?"":e.slice(o,t)}var i=["/",":","?","#"],a=[".","/","@"];e.exports=function(e){if("string"===typeof e)return o(e);if(Array.isArray(e)){var t,n=[],i=0;for(t=e.length;i<t;i++)n.push(o(e[i]));return n}r()}}])},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},222:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!==typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,u=n.call(arguments,1),s=function(){if(this instanceof a){var t=i.apply(this,u.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,u.concat(n.call(arguments)))},l=Math.max(0,i.length-u.length),c=[],f=0;f<l;f++)c.push("$"+f);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),i.prototype){var d=function(){};d.prototype=i.prototype,a.prototype=new d,d.prototype=null}return a}},3350:function(e,t,n){"use strict";var r=n(222);e.exports=Function.prototype.bind||r},4583:function(e){"use strict";var t=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(o){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof r&&""!==function(){}.bind().name},e.exports=t},2506:function(e,t,n){"use strict";var r,o=SyntaxError,i=Function,a=TypeError,u=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(T){s=null}var l=function(){throw new a},c=s?function(){try{return l}catch(e){try{return s(arguments,"callee").get}catch(t){return l}}}():l,f=n(697)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"===typeof Uint8Array?r:d(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};try{null.error}catch(T){var m=d(d(T));v["%Error.prototype%"]=m}var g=function e(t){var n;if("%AsyncFunction%"===t)n=u("async function () {}");else if("%GeneratorFunction%"===t)n=u("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=u("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return v[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(3350),k=n(8316),w=b.call(Function.call,Array.prototype.concat),x=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),E=b.call(Function.call,String.prototype.slice),C=b.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,O=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,A,(function(e,t,n,o){r[r.length]=n?S(o,D,"$1"):t||e})),r},_=function(e,t){var n,r=e;if(k(y,r)&&(r="%"+(n=y[r])[0]+"%"),k(v,r)){var i=v[r];if(i===p&&(i=g(r)),"undefined"===typeof i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=O(e),r=n.length>0?n[0]:"",i=_("%"+r+"%",t),u=i.name,l=i.value,c=!1,f=i.alias;f&&(r=f[0],x(n,w([0,1],f)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d],m=E(h,0,1),g=E(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&p||(c=!0),k(v,u="%"+(r+="."+h)+"%"))l=v[u];else if(null!=l){if(!(h in l)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&d+1>=n.length){var y=s(l,h);l=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:l[h]}else p=k(l,h),l=l[h];p&&!c&&(v[u]=l)}}return l}},4510:function(e,t,n){"use strict";var r=n(2506)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},2203:function(e){"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},697:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,o=n(3297);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},3297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},4707:function(e,t,n){"use strict";var r=n(3297);e.exports=function(){return r()&&!!Symbol.toStringTag}},8316:function(e,t,n){"use strict";var r=n(3350);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},2597:function(e){"use strict";e.exports=function(e,n){var r,o,i,a=e||"",u=n||"div",s={},l=0;for(;l<a.length;)t.lastIndex=l,i=t.exec(a),(r=a.slice(l,i?i.index:a.length))&&(o?"#"===o?s.id=r:s.className?s.className.push(r):s.className=[r]:u=r,l+=r.length),i&&(o=i[0],l++);return{type:"element",tagName:u,properties:s,children:[]}};var t=/[#.]/g},1174:function(e,t,n){"use strict";var r=n(3644),o=n(15),i=n(2597),a=n(9544).Q,u=n(6846).Q;e.exports=function(e,t,n){var o=n?function(e){var t,n=e.length,r=-1,o={};for(;++r<n;)o[(t=e[r]).toLowerCase()]=t;return o}(n):null;return function(e,n){var r,a=i(e,t),u=Array.prototype.slice.call(arguments,2),f=a.tagName.toLowerCase();a.tagName=o&&s.call(o,f)?o[f]:f,n&&l(n,a)&&(u.unshift(n),n=null);if(n)for(r in n)d(a.properties,r,n[r]);c(a.children,u),"template"===a.tagName&&(a.content={type:"root",children:a.children},a.children=[]);return a};function d(t,n,o){var i,s,l;null!==o&&void 0!==o&&o===o&&(s=(i=r(e,n)).property,"string"===typeof(l=o)&&(i.spaceSeparated?l=a(l):i.commaSeparated?l=u(l):i.commaOrSpaceSeparated&&(l=a(u(l).join(" ")))),"style"===s&&"string"!==typeof o&&(l=function(e){var t,n=[];for(t in e)n.push([t,e[t]].join(": "));return n.join("; ")}(l)),"className"===s&&t.className&&(l=t.className.concat(l)),t[s]=function(e,t,n){var r,o,i;if("object"!==typeof n||!("length"in n))return f(e,t,n);o=n.length,r=-1,i=[];for(;++r<o;)i[r]=f(e,t,n[r]);return i}(i,s,l))}};var s={}.hasOwnProperty;function l(e,t){return"string"===typeof e||"length"in e||function(e,t){var n=t.type;if("input"===e||!n||"string"!==typeof n)return!1;if("object"===typeof t.children&&"length"in t.children)return!0;if(n=n.toLowerCase(),"button"===e)return"menu"!==n&&"submit"!==n&&"reset"!==n&&"button"!==n;return"value"in t}(t.tagName,e)}function c(e,t){var n,r;if("string"!==typeof t&&"number"!==typeof t)if("object"===typeof t&&"length"in t)for(n=-1,r=t.length;++n<r;)c(e,t[n]);else{if("object"!==typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}else e.push({type:"text",value:String(t)})}function f(e,t,n){var r=n;return e.number||e.positiveNumber?isNaN(r)||""===r||(r=Number(r)):(e.boolean||e.overloadedBoolean)&&("string"!==typeof r||""!==r&&o(n)!==o(t)||(r=!0)),r}},8671:function(e,t,n){"use strict";var r=n(5706),o=n(1174)(r,"div");o.displayName="html",e.exports=o},6913:function(e,t,n){"use strict";e.exports=n(8671)},3865:function(e,t,n){"use strict";var r=n(2506),o=n(8316),i=n(581)(),a=r("%TypeError%"),u={assert:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");if(i.assert(e),!u.has(e,t))throw new a("`slot` is not present on `O`")},get:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");var n=i.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");var n=i.get(e);return!!n&&o(n,"$"+t)},set:function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");var r=i.get(e);r||(r={},i.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(u),e.exports=u},6517:function(e){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},4929:function(e,t,n){"use strict";var r=n(6517),o=n(7194);e.exports=function(e){return r(e)||o(e)}},460:function(e){"use strict";var t,n,r=Function.prototype.toString,o="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof o&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,t)}catch(p){p!==n&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},u=function(e){try{return!a(e)&&(r.call(e),!0)}catch(t){return!1}},s=Object.prototype.toString,l="function"===typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),f=function(){return!1};if("object"===typeof document){var d=document.all;s.call(d)===s.call(document.all)&&(f=function(e){if((c||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=s.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(n){}return!1})}e.exports=o?function(e){if(f(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{o(e,null,t)}catch(r){if(r!==n)return!1}return!a(e)&&u(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(l)return u(e);if(a(e))return!1;var t=s.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&u(e)}},2833:function(e,t,n){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(4707)();e.exports=function(e){return"object"===typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===o.call(e))}},7194:function(e){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},9105:function(e,t,n){"use strict";var r=n(4807);e.exports=function(e){return r(e)||"function"===typeof e||Array.isArray(e)}},5821:function(e,t,n){"use strict";var r=n(9447);e.exports=Number.isFinite||function(e){return!("number"!==typeof e||r(e)||e===1/0||e===-1/0)}},5504:function(e){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},7390:function(e,t,n){var r=n(5821);e.exports=Number.isInteger||function(e){return"number"===typeof e&&r(e)&&Math.floor(e)===e}},4807:function(e,t,n){"use strict";var r=n(8863);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"===typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},1146:function(e,t,n){"use strict";var r,o,i,a,u=n(4037),s=n(4707)();if(s){r=u("Object.prototype.hasOwnProperty"),o=u("RegExp.prototype.exec"),i={};var l=function(){throw i};a={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var c=u("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=s?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{o(e,a)}catch(n){return n===i}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},3137:function(e,t,n){"use strict";var r=Object.prototype.toString;if(n(697)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"===typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},8863:function(e){"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},2168:function(e,t,n){"use strict";var r=n(861).default,o=n(2122).default,i=n(6690).default,a=n(9728).default,u=n(8416).default,s=n(215).default,l=n(4704).default,c=["children","ref"],f=["children"],d=["children"],p=["style"];var h=Object.keys;function v(e){return e}function m(e){return"string"===typeof e}function g(e){return"number"===typeof e}function y(e){return"object"===typeof e?null!==e:b(e)}function b(e){return"function"===typeof e}function k(e,t){if(e){var n,r=l(h(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;t(e[o],o)}}catch(i){r.e(i)}finally{r.f()}}}function w(){return Object.seal({current:null})}function x(e){return y(e)&&"current"in e}var S={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0};var E=["Webkit","ms","Moz","O"];h(S).forEach((function(e){E.forEach((function(t){S[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=0}))}));var C,A=Symbol.for("jsx-dom:type");function D(e){var t,n=e.children,r=e.ref,o=s(e,c);return u(t={},A,C.ShadowRoot),u(t,"ref",r),u(t,"attr",o),u(t,"children",n),t}!function(e){e.ShadowRoot="ShadowRoot"}(C||(C={}));var O="http://www.w3.org/2000/svg";function _(e){return!("boolean"===typeof e)&&null!=e}function T(e){return Array.isArray(e)?e.map(T).filter(Boolean).join(" "):y(e)?h(e).filter((function(t){return e[t]})).join(" "):_(e)?""+e:""}var M={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},N=/^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;function R(e){var t=document.createDocumentFragment();return B(e.children,t),t}var P=function(){function e(t){i(this,e),this.props=t}return a(e,[{key:"render",value:function(){return null}}]),e}();function I(e,t){var n,r=t.children,i=s(t,f);if(i.namespaceURI||0!==M[e]||(i=o(o({},i),{},{namespaceURI:O})),m(e)){if(function(e,t){var n,r=l(h(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;U(o,e[o],t)}}catch(i){r.e(i)}finally{r.f()}}(i,n=i.namespaceURI?document.createElementNS(i.namespaceURI,e):document.createElement(e)),B(r,n),n instanceof window.HTMLSelectElement&&null!=i.value)if(!0===i.multiple&&Array.isArray(i.value)){var a=i.value.map((function(e){return String(e)}));n.querySelectorAll("option").forEach((function(e){return e.selected=a.includes(e.value)}))}else n.value=i.value;L(i.ref,n)}else{if(!b(e))throw new TypeError("Invalid JSX element type: ".concat(e));y(e.defaultProps)&&(i=o(o({},e.defaultProps),i)),n=function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e)?function(e,t,n){return new e(t=o(o({},t),{},{children:n})).render()}(e,i,r):e(o(o({},i),{},{children:r}))}return n}function F(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if((m(t)||Array.isArray(t))&&(r.unshift(t),t={}),null!=(t=t||{}).children&&!r.length){var a=t;r=a.children,t=s(a,d)}return I(e,o(o({},t),{},{children:r}),t.key)}function L(e,t){x(e)?e.current=t:b(e)&&e(t)}function B(e,t){if(y(a=e)&&"number"===typeof a.length&&"number"!==typeof a.nodeType)!function(e,t){for(var n=0,o=r(e);n<o.length;n++){B(o[n],t)}}(e,t);else if(m(e)||g(e))j(document.createTextNode(e),t);else if(null===e)j(document.createComment(""),t);else if((i=e)&&"number"===typeof i.nodeType)j(e,t);else if(null!=(o=e)&&o[A]===C.ShadowRoot){var n=t.attachShadow(e.attr);B(e.children,n),L(e.ref,n)}var o,i,a}function j(e,t){t instanceof window.HTMLTemplateElement?t.content.appendChild(e):t.appendChild(e)}function z(e,t){return e.replace(/[A-Z]/g,(function(e){return t+e.toLowerCase()}))}function $(e,t){null==t||!1===t||(Array.isArray(t)?t.forEach((function(t){return $(e,t)})):m(t)?e.setAttribute("style",t):y(t)&&k(t,(function(t,n){g(t)&&0!==S[n]?e.style[n]=t+"px":e.style[n]=t})))}function U(e,t,n){switch(e){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":return void H(n,"http://www.w3.org/1999/xlink",z(e,":"),t);case"xmlnsXlink":return void W(n,z(e,":"),t);case"xmlBase":case"xmlLang":case"xmlSpace":return void H(n,"http://www.w3.org/XML/1998/namespace",z(e,":"),t)}switch(e){case"htmlFor":return void W(n,"for",t);case"dataset":return void k(t,(function(e,t){null!=e&&(n.dataset[t]=e)}));case"innerHTML":case"innerText":case"textContent":return void(_(t)&&(n[e]=t));case"dangerouslySetInnerHTML":return void(y(t)&&(n.innerHTML=t.__html));case"value":if(null==t||n instanceof window.HTMLSelectElement)return;if(n instanceof window.HTMLTextAreaElement)return void(n.value=t);break;case"spellCheck":return void(n.spellcheck=t);case"class":case"className":return void(b(t)?t(n):W(n,"class",T(t)));case"ref":case"namespaceURI":return;case"style":return void $(n,t);case"on":case"onCapture":return void k(t,(function(t,r){n.addEventListener(r,t,"onCapture"===e)}))}if(b(t)){if("o"===e[0]&&"n"===e[1]){var r=e.toLowerCase(),o=r.endsWith("capture");if(o||null!==n[r])if(o)n.addEventListener(r.substring(2,r.length-7),t,!0);else{var i;if(r in window)i=r.substring(2);else i=r[2]+e.slice(3);n.addEventListener(i,t)}else n[r]=t}}else y(t)?n[e]=t:!0===t?W(n,e,""):!1!==t&&null!=t&&(n instanceof SVGElement&&!N.test(e)?W(n,z(e,"-"),t):W(n,e,t))}function W(e,t,n){e.setAttribute(t,n)}function H(e,t,n,r){e.setAttributeNS(t,n,r)}Object.defineProperties(P.prototype,{isReactComponent:{value:!0}});var V=new Map,K=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(n){var i=n.style,a=s(n,p),u=t.length-1,l=t.slice(0,u).reduce((function(e,t,n){return e+t+r[n](a)}),"")+t[u];return F(e,o({style:[l,i]},a))}}},q=new Proxy((function(e){return K(e)}),{get:function(e,t){return function(e,t,n){if(e.has(t))return e.get(t);var r=n(t);return e.set(t,r),r}(V,t,(function(){return K(t)}))}});t.h=F},1064:function(e,t){"use strict";var n="undefined"!==typeof Reflect?Reflect.construct:void 0,r=Object.defineProperty,o=Error.captureStackTrace;function i(e){void 0!==e&&r(this,"message",{configurable:!0,value:e,writable:!0});var t=this.constructor.name;void 0!==t&&t!==this.name&&r(this,"name",{configurable:!0,value:t,writable:!0}),o(this,this.constructor)}void 0===o&&(o=function(e){var t=new Error;r(e,"stack",{configurable:!0,get:function(){var e=t.stack;return r(this,"stack",{configurable:!0,value:e,writable:!0}),e},set:function(t){r(e,"stack",{configurable:!0,value:t,writable:!0})}})}),i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var a=function(){function e(e,t){return r(e,"name",{configurable:!0,value:t})}try{var t=function(){};if(e(t,"foo"),"foo"===t.name)return e}catch(n){}}();t=e.exports=function(e,t){if(null==t||t===Error)t=i;else if("function"!==typeof t)throw new TypeError("super_ should be a function");var r;if("string"===typeof e)r=e,e=void 0!==n?function(){return n(t,arguments,this.constructor)}:function(){t.apply(this,arguments)},void 0!==a&&(a(e,r),r=void 0);else if("function"!==typeof e)throw new TypeError("constructor should be either a string or a function");e.super_=e.super=t;var o={constructor:{configurable:!0,value:e,writable:!0}};return void 0!==r&&(o.name={configurable:!0,value:r,writable:!0}),e.prototype=Object.create(t.prototype,o),e},t.BaseError=i},7950:function(e,t){var n,r,o;r=[],void 0===(o="function"===typeof(n=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n="boolean"===typeof(new RegExp).sticky;function r(e){return e&&"[object RegExp]"===t.call(e)}function o(e){return e&&"object"===typeof e&&!r(e)&&!Array.isArray(e)}function i(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(e){return new RegExp("|"+e).exec("").length-1}function u(e){return"("+e+")"}function s(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function l(e){if("string"===typeof e)return"(?:"+i(e)+")";if(r(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function c(e,t){return e.length>t?e:Array(t-e.length+1).join(" ")+e}function f(e,t){for(var n=e.length,r=0;;){var o=e.lastIndexOf("\n",n-1);if(-1===o)break;if(n=o,++r===t)break;if(0===n)break}var i=r<t?0:n+1;return e.substring(i).split("\n")}function d(e){for(var t=Object.getOwnPropertyNames(e),n=[],r=0;r<t.length;r++){var i=t[r],a=e[i],u=[].concat(a);if("include"!==i){var s=[];u.forEach((function(e){o(e)?(s.length&&n.push(h(i,s)),n.push(h(i,e)),s=[]):s.push(e)})),s.length&&n.push(h(i,s))}else for(var l=0;l<u.length;l++)n.push({include:u[l]})}return n}function p(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.include)for(var o=[].concat(r.include),i=0;i<o.length;i++)t.push({include:o[i]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));t.push(h(r.type,r))}}return t}function h(t,n){if(o(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var i={defaultType:t,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var a in n)e.call(n,a)&&(i[a]=n[a]);if("string"===typeof i.type&&t!==i.type)throw new Error("Type transform cannot be a string (type '"+i.type+"' for token '"+t+"')");var u=i.match;return i.match=Array.isArray(u)?u:u?[u]:[],i.match.sort((function(e,t){return r(e)&&r(t)?0:r(t)?-1:r(e)?1:t.length-e.length})),i}function v(e){return Array.isArray(e)?p(e):d(e)}var m=h("error",{lineBreaks:!0,shouldThrow:!0});function g(e,t){for(var o=null,i=Object.create(null),c=!0,f=null,d=[],p=[],h=0;h<e.length;h++)e[h].fallback&&(c=!1);for(h=0;h<e.length;h++){var v=e[h];if(v.include)throw new Error("Inheritance is not allowed in stateless lexers");if(v.error||v.fallback){if(o)throw!v.fallback===!o.fallback?new Error("Multiple "+(v.fallback?"fallback":"error")+" rules not allowed (for token '"+v.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+v.defaultType+"')");o=v}var g=v.match.slice();if(c)for(;g.length&&"string"===typeof g[0]&&1===g[0].length;)i[g.shift().charCodeAt(0)]=v;if(v.pop||v.push||v.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+v.defaultType+"')");if(v.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+v.defaultType+"')")}if(0!==g.length){c=!1,d.push(v);for(var y=0;y<g.length;y++){var b=g[y];if(r(b))if(null===f)f=b.unicode;else if(f!==b.unicode&&!1===v.fallback)throw new Error("If one rule is /u then all must be")}var k=s(g.map(l)),w=new RegExp(k);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(a(k)>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?: \u2026 ) instead");if(!v.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);p.push(u(k))}}var x=o&&o.fallback,S=n&&!x?"ym":"gm",E=n||x?"":"|";return!0===f&&(S+="u"),{regexp:new RegExp(s(p)+E,S),groups:d,fast:i,error:o||m}}function y(e){var t=g(v(e));return new x({start:t},"start")}function b(e,t,n){var r=e&&(e.push||e.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!==+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}function k(e,t){var n=e.$all?v(e.$all):[];delete e.$all;var r=Object.getOwnPropertyNames(e);t||(t=r[0]);for(var o=Object.create(null),i=0;i<r.length;i++)o[m=r[i]]=v(e[m]).concat(n);for(i=0;i<r.length;i++)for(var a=o[m=r[i]],u=Object.create(null),s=0;s<a.length;s++){var l=a[s];if(l.include){var c=[s,1];if(l.include!==m&&!u[l.include]){u[l.include]=!0;var f=o[l.include];if(!f)throw new Error("Cannot include nonexistent state '"+l.include+"' (in state '"+m+"')");for(var d=0;d<f.length;d++){var p=f[d];-1===a.indexOf(p)&&c.push(p)}}a.splice.apply(a,c),s--}}var h=Object.create(null);for(i=0;i<r.length;i++){var m;h[m=r[i]]=g(o[m],!0)}for(i=0;i<r.length;i++){var y=r[i],k=h[y],w=k.groups;for(s=0;s<w.length;s++)b(w[s],y,h);var S=Object.getOwnPropertyNames(k.fast);for(s=0;s<S.length;s++)b(k.fast[S[s]],y,h)}return new x(h,t)}function w(e){for(var t="undefined"!==typeof Map,n=t?new Map:Object.create(null),r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var i=r[o],a=e[i];(Array.isArray(a)?a:[a]).forEach((function(e){if("string"!==typeof e)throw new Error("keyword must be string (in keyword '"+i+"')");t?n.set(e,i):n[e]=i}))}return function(e){return t?n.get(e):n[e]}}var x=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};x.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedText=t?t.queuedText:"",this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},x.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},x.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},x.prototype.popState=function(){this.setState(this.stack.pop())},x.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var S=n?function(e,t){return e.exec(t)}:function(e,t){var n=e.exec(t);return 0===n[0].length?null:n};function E(){return this.value}if(x.prototype._getGroup=function(e){for(var t=this.groups.length,n=0;n<t;n++)if(void 0!==e[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},x.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var n=this.buffer;if(e!==n.length){if(a=this.fast[n.charCodeAt(e)])return this._token(a,n.charAt(e),e);var r=this.re;r.lastIndex=e;var o=S(r,n),i=this.error;if(null==o)return this._token(i,n.slice(e,n.length),e);var a=this._getGroup(o),u=o[0];return i.fallback&&o.index!==e?(this.queuedGroup=a,this.queuedText=u,this._token(i,n.slice(e,o.index),e)):this._token(a,u,e)}},x.prototype._token=function(e,t,n){var r=0;if(e.lineBreaks){var o=/\n/g,i=1;if("\n"===t)r=1;else for(;o.exec(t);)r++,i=o.lastIndex}var a={type:"function"===typeof e.type&&e.type(t)||e.defaultType,value:"function"===typeof e.value?e.value(t):t,text:t,toString:E,offset:n,lineBreaks:r,line:this.line,col:this.col},u=t.length;if(this.index+=u,this.line+=r,0!==r?this.col=u-i+1:this.col+=u,e.shouldThrow)throw new Error(this.formatError(a,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),a},"undefined"!==typeof Symbol&&Symbol.iterator){var C=function(e){this.lexer=e};C.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},C.prototype[Symbol.iterator]=function(){return this},x.prototype[Symbol.iterator]=function(){return new C(this)}}return x.prototype.formatError=function(e,t){if(null==e){var n=this.buffer.slice(this.index);e={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=2,o=Math.max(e.line-r,1),i=e.line+r,a=String(i).length,u=f(this.buffer,this.line-e.line+r+1).slice(0,5),s=[];s.push(t+" at line "+e.line+" col "+e.col+":"),s.push("");for(var l=0;l<u.length;l++){var d=u[l],p=o+l;s.push(c(String(p),a)+"  "+d),p===e.line&&s.push(c("",a+e.col+1)+"^")}return s.join("\n")},x.prototype.clone=function(){return new x(this.states,this.state)},x.prototype.has=function(e){return!0},{compile:y,states:k,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:w}})?n.apply(t,r):n)||(e.exports=o)},9447:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},2584:function(e,t,n){var r="function"===typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"===typeof o.get?o.get:null,a=r&&Map.prototype.forEach,u="function"===typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=u&&s&&"function"===typeof s.get?s.get:null,c=u&&Set.prototype.forEach,f="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,k=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,S=Array.prototype.concat,E=Array.prototype.join,C=Array.prototype.slice,A=Math.floor,D="function"===typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,T="function"===typeof Symbol&&"object"===typeof Symbol.iterator,M="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,R=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function P(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-A(-e):A(e);if(r!==e){var o=String(r),i=y.call(t,o.length+1);return b.call(o,n,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var I=n(4654),F=I.custom,L=U(F)?F:null;function B(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function j(e){return b.call(String(e),/"/g,"&quot;")}function z(e){return"[object Array]"===V(e)&&(!M||!("object"===typeof e&&M in e))}function $(e){return"[object RegExp]"===V(e)&&(!M||!("object"===typeof e&&M in e))}function U(e){if(T)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!_)return!1;try{return _.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,o){var u=n||{};if(H(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(u,"maxStringLength")&&("number"===typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!H(u,"customInspect")||u.customInspect;if("boolean"!==typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(u,"numericSeparator")&&"boolean"!==typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=u.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return q(t,u);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var k=String(t);return v?P(t,k):k}if("bigint"===typeof t){var x=String(t)+"n";return v?P(t,x):x}var A="undefined"===typeof u.depth?5:u.depth;if("undefined"===typeof r&&(r=0),r>=A&&A>0&&"object"===typeof t)return z(t)?"[Array]":"[Object]";var O=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(u,r);if("undefined"===typeof o)o=[];else if(K(o,t)>=0)return"[Circular]";function F(t,n,i){if(n&&(o=C.call(o)).push(n),i){var a={depth:u.depth};return H(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),e(t,a,r+1,o)}return e(t,u,r+1,o)}if("function"===typeof t&&!$(t)){var W=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),G=Z(t,F);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(G.length>0?" { "+E.call(G,", ")+" }":"")}if(U(t)){var ee=T?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):_.call(t);return"object"!==typeof t||T?ee:J(ee)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var te="<"+w.call(String(t.nodeName)),ne=t.attributes||[],re=0;re<ne.length;re++)te+=" "+ne[re].name+"="+B(j(ne[re].value),"double",u);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+w.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var oe=Z(t,F);return O&&!function(e){for(var t=0;t<e.length;t++)if(K(e[t],"\n")>=0)return!1;return!0}(oe)?"["+Q(oe,O)+"]":"[ "+E.call(oe,", ")+" ]"}if(function(e){return"[object Error]"===V(e)&&(!M||!("object"===typeof e&&M in e))}(t)){var ie=Z(t,F);return"cause"in Error.prototype||!("cause"in t)||N.call(t,"cause")?0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(ie,", ")+" }":"{ ["+String(t)+"] "+E.call(S.call("[cause]: "+F(t.cause),ie),", ")+" }"}if("object"===typeof t&&s){if(L&&"function"===typeof t[L]&&I)return I(t,{depth:A-r});if("symbol"!==s&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!==typeof e)return!1;try{i.call(e);try{l.call(e)}catch(te){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ae=[];return a&&a.call(t,(function(e,n){ae.push(F(n,t,!0)+" => "+F(e,t))})),X("Map",i.call(t),ae,O)}if(function(e){if(!l||!e||"object"!==typeof e)return!1;try{l.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var ue=[];return c&&c.call(t,(function(e){ue.push(F(e,t))})),X("Set",l.call(t),ue,O)}if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(te){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Y("WeakMap");if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(te){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Y("WeakSet");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return Y("WeakRef");if(function(e){return"[object Number]"===V(e)&&(!M||!("object"===typeof e&&M in e))}(t))return J(F(Number(t)));if(function(e){if(!e||"object"!==typeof e||!D)return!1;try{return D.call(e),!0}catch(t){}return!1}(t))return J(F(D.call(t)));if(function(e){return"[object Boolean]"===V(e)&&(!M||!("object"===typeof e&&M in e))}(t))return J(h.call(t));if(function(e){return"[object String]"===V(e)&&(!M||!("object"===typeof e&&M in e))}(t))return J(F(String(t)));if(!function(e){return"[object Date]"===V(e)&&(!M||!("object"===typeof e&&M in e))}(t)&&!$(t)){var se=Z(t,F),le=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,ce=t instanceof Object?"":"null prototype",fe=!le&&M&&Object(t)===t&&M in t?y.call(V(t),8,-1):ce?"Object":"",de=(le||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||ce?"["+E.call(S.call([],fe||[],ce||[]),": ")+"] ":"");return 0===se.length?de+"{}":O?de+"{"+Q(se,O)+"}":de+"{ "+E.call(se,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return W.call(e,t)}function V(e){return v.call(e)}function K(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function q(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return q(y.call(e,0,t.maxStringLength),t)+r}return B(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,G),"single",t)}function G(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+k.call(t.toString(16))}function J(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function X(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):E.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function Z(e,t){var n=z(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=H(e,o)?t(e[o],e):""}var i,a="function"===typeof O?O(e):[];if(T){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var s in e)H(e,s)&&(n&&String(Number(s))===s&&s<e.length||T&&i["$"+s]instanceof Symbol||(x.call(/[^\w$]/,s)?r.push(t(s,e)+": "+t(e[s],e)):r.push(s+": "+t(e[s],e))));if("function"===typeof O)for(var l=0;l<a.length;l++)N.call(e,a[l])&&r.push("["+t(a[l])+"]: "+t(e[a[l]],e));return r}},1949:function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(7635),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),l=u.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===i.call(e),r=a(e),u=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=l&&n;if(u&&e.length>0&&!o.call(e,0))for(var v=0;v<e.length;++v)d.push(String(v));if(r&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)h&&"prototype"===g||!o.call(e,g)||d.push(String(g));if(s)for(var y=function(e){if("undefined"===typeof window||!p)return f(e);try{return f(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!o.call(e,c[b])||d.push(c[b]);return d}}e.exports=r},4892:function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(7635),i=Object.keys,a=i?function(e){return i(e)}:n(1949),u=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?u(r.call(e)):u(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},7635:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},7373:function(e,t,n){"use strict";var r=n(9105);e.exports=function(e,t,n){if(!r(e))return{};"function"===typeof t&&(n=t,t=[]),"string"===typeof t&&(t=[t]);for(var o="function"===typeof n,i=Object.keys(e),a={},u=0;u<i.length;u++){var s=i[u],l=e[s];t&&(-1!==t.indexOf(s)||o&&!n(l,s,e))||(a[s]=l)}return a}},9039:function(e,t,n){"use strict";var r=n(8863);e.exports=function(e,t){if(!r(e)&&"function"!==typeof e)return{};var n={};if("string"===typeof t)return t in e&&(n[t]=e[t]),n;for(var o=t.length,i=-1;++i<o;){var a=t[i];a in e&&(n[a]=e[a])}return n}},3766:function(e){"use strict";function t(e,t){if("string"!==typeof e)return[e];var n=[e];"string"===typeof t||Array.isArray(t)?t={brackets:t}:t||(t={});var r=t.brackets?Array.isArray(t.brackets)?t.brackets:[t.brackets]:["{}","[]","()"],o=t.escape||"___",i=!!t.flat;r.forEach((function(e){var t=new RegExp(["\\",e[0],"[^\\",e[0],"\\",e[1],"]*\\",e[1]].join("")),r=[];function i(t,i,a){var u=n.push(t.slice(e[0].length,-e[1].length))-1;return r.push(u),o+u+o}n.forEach((function(e,r){for(var o,a=0;e!=o;)if(o=e,e=e.replace(t,i),a++>1e4)throw Error("References have circular dependency. Please, check them.");n[r]=e})),r=r.reverse(),n=n.map((function(t){return r.forEach((function(n){t=t.replace(new RegExp("(\\"+o+n+"\\"+o+")","g"),e[0]+"$1"+e[1])})),t}))}));var a=new RegExp("\\"+o+"([0-9]+)\\"+o);return i?n:function e(t,n,r){for(var o,i=[],u=0;o=a.exec(t);){if(u++>1e4)throw Error("Circular references in parenthesis");i.push(t.slice(0,o.index)),i.push(e(n[o[1]],n)),t=t.slice(o.index+o[0].length)}return i.push(t),i}(n[0],n)}function n(e,t){if(t&&t.flat){var n,r=t&&t.escape||"___",o=e[0];if(!o)return"";for(var i=new RegExp("\\"+r+"([0-9]+)\\"+r),a=0;o!=n;){if(a++>1e4)throw Error("Circular references in "+e);n=o,o=o.replace(i,u)}return o}return e.reduce((function e(t,n){return Array.isArray(n)&&(n=n.reduce(e,"")),t+n}),"");function u(t,n){if(null==e[n])throw Error("Reference "+n+"is undefined");return e[n]}}function r(e,r){return Array.isArray(e)?n(e,r):t(e,r)}r.parse=t,r.stringify=n,e.exports=r},6891:function(e){"use strict";var t;e.exports=function(e){var n,r="&"+e+";";if((t=t||document.createElement("i")).innerHTML=r,59===(n=t.textContent).charCodeAt(n.length-1)&&"semi"!==e)return!1;return n!==r&&n}},5434:function(e,t,n){"use strict";var r=n(7452),o=n(3580),i=n(7194),a=n(5504),u=n(4929),s=n(6891);e.exports=function(e,t){var n,i,a={};t||(t={});for(i in d)n=t[i],a[i]=null===n||void 0===n?d[i]:n;(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start);return function(e,t){var n,i,a,d,w,x,S,E,C,A,D,O,_,T,M,N,R,P,I,F=t.additional,L=t.nonTerminated,B=t.text,j=t.reference,z=t.warning,$=t.textContext,U=t.referenceContext,W=t.warningContext,H=t.position,V=t.indent||[],K=e.length,q=0,G=-1,J=H.column||1,Y=H.line||1,X="",Q=[];"string"===typeof F&&(F=F.charCodeAt(0));N=Z(),E=z?ee:f,q--,K++;for(;++q<K;)if(10===w&&(J=V[G]||1),38===(w=e.charCodeAt(q))){if(9===(S=e.charCodeAt(q+1))||10===S||12===S||32===S||38===S||60===S||S!==S||F&&S===F){X+=c(w),J++;continue}for(O=_=q+1,I=_,35===S?(I=++O,88===(S=e.charCodeAt(I))||120===S?(T=h,I=++O):T=v):T=p,n="",D="",d="",M=g[T],I--;++I<K&&M(S=e.charCodeAt(I));)d+=c(S),T===p&&l.call(r,d)&&(n=d,D=r[d]);(a=59===e.charCodeAt(I))&&(I++,(i=T===p&&s(d))&&(n=d,D=i)),P=1+I-_,(a||L)&&(d?T===p?(a&&!D?E(5,1):(n!==d&&(P=1+(I=O+n.length)-O,a=!1),a||(C=n?1:3,t.attribute?61===(S=e.charCodeAt(I))?(E(C,P),D=null):u(S)?D=null:E(C,P):E(C,P))),x=D):(a||E(2,P),b(x=parseInt(d,m[T]))?(E(7,P),x=c(65533)):x in o?(E(6,P),x=o[x]):(A="",k(x)&&E(6,P),x>65535&&(A+=c((x-=65536)>>>10|55296),x=56320|1023&x),x=A+c(x))):T!==p&&E(4,P)),x?(te(),N=Z(),q=I-1,J+=I-_+1,Q.push(x),(R=Z()).offset++,j&&j.call(U,x,{start:N,end:R},e.slice(_-1,I)),N=R):(d=e.slice(_-1,I),X+=d,J+=d.length,q=I-1)}else 10===w&&(Y++,G++,J=0),w===w?(X+=c(w),J++):te();return Q.join("");function Z(){return{line:Y,column:J,offset:q+(H.offset||0)}}function ee(e,t){var n=Z();n.column+=t,n.offset+=t,z.call(W,y[e],n,e)}function te(){X&&(Q.push(X),B&&B.call($,X,{start:N,end:Z()}),X="")}}(e,a)};var l={}.hasOwnProperty,c=String.fromCharCode,f=Function.prototype,d={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},p="named",h="hexadecimal",v="decimal",m={};m[h]=16,m[v]=10;var g={};g[p]=u,g[v]=i,g[h]=a;var y={};function b(e){return e>=55296&&e<=57343||e>1114111}function k(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535===(65535&e)||65534===(65535&e)}y[1]="Named character references must be terminated by a semicolon",y[2]="Numeric character references must be terminated by a semicolon",y[3]="Named character references cannot be empty",y[4]="Numeric character references cannot be empty",y[5]="Named character references must be known",y[6]="Numeric character references cannot be disallowed",y[7]="Numeric character references cannot be outside the permissible Unicode range"},2797:function(e){"use strict";var t=/^(-?\d?\.?\d+)e([\+\-]\d)+/;e.exports=function(e){var n=e.match(t);if(!n)throw new Error("Invalid exponential");return n.slice(1)}},9887:function(e,t,n){"use strict";var r=n(5821),o=n(2797);e.exports=function(e){if(!r(e))throw new Error("Value must be a finite number");var t=o(e.toExponential()),n=t[0],i=parseInt(t[1],10),a=(n.split(".")[1]||"").length;return!a&&i>0?0:a+-1*i}},3693:function(e,t,n){var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var a in r={},n[i]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"===typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],a={};for(var u in i)if(i.hasOwnProperty(u)){if(u==t)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);n.hasOwnProperty(u)||(a[u]=i[u])}var l=r[e];return r[e]=a,o.languages.DFS(o.languages,(function(t,n){n===l&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,i){i=i||{};var a=o.util.objId;for(var u in t)if(t.hasOwnProperty(u)){n.call(t,u,t[u],r||u);var s=t[u],l=o.util.type(s);"Object"!==l||i[a(s)]?"Array"!==l||i[a(s)]||(i[a(s)]=!0,e(s,n,u,i)):(i[a(s)]=!0,e(s,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,a=0;i=r.elements[a++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),a=o.languages[i];o.util.setLanguage(t,i);var u=t.parentElement;u&&"pre"===u.nodeName.toLowerCase()&&o.util.setLanguage(u,i);var s={element:t,language:i,grammar:a,code:t.textContent};function l(e){s.highlightedCode=e,o.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,o.hooks.run("after-highlight",s),o.hooks.run("complete",s),r&&r.call(s.element)}if(o.hooks.run("before-sanity-check",s),(u=s.element.parentElement)&&"pre"===u.nodeName.toLowerCase()&&!u.hasAttribute("tabindex")&&u.setAttribute("tabindex","0"),!s.code)return o.hooks.run("complete",s),void(r&&r.call(s.element));if(o.hooks.run("before-highlight",s),s.grammar)if(n&&e.Worker){var c=new Worker(o.filename);c.onmessage=function(e){l(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else l(o.highlight(s.code,s.grammar,s.language));else l(o.util.encode(s.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new s;return l(o,o.head,e),u(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function u(e,t,n,r,s,f){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(f&&f.cause==d+","+h)return;var v=p[h],m=v.inside,g=!!v.lookbehind,y=!!v.greedy,b=v.alias;if(y&&!v.pattern.global){var k=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,k+"g")}for(var w=v.pattern||v,x=r.next,S=s;x!==t.tail&&!(f&&S>=f.reach);S+=x.value.length,x=x.next){var E=x.value;if(t.length>e.length)return;if(!(E instanceof i)){var C,A=1;if(y){if(!(C=a(w,S,e,g))||C.index>=e.length)break;var D=C.index,O=C.index+C[0].length,_=S;for(_+=x.value.length;D>=_;)_+=(x=x.next).value.length;if(S=_-=x.value.length,x.value instanceof i)continue;for(var T=x;T!==t.tail&&(_<O||"string"===typeof T.value);T=T.next)A++,_+=T.value.length;A--,E=e.slice(S,_),C.index-=S}else if(!(C=a(w,0,E,g)))continue;D=C.index;var M=C[0],N=E.slice(0,D),R=E.slice(D+M.length),P=S+E.length;f&&P>f.reach&&(f.reach=P);var I=x.prev;if(N&&(I=l(t,I,N),S+=N.length),c(t,I,A),x=l(t,I,new i(d,m?o.tokenize(M,m):M,b,M)),R&&l(t,x,R),A>1){var F={cause:d+","+h,reach:P};u(e,t,n,x.prev,S,F),f&&F.reach>f.reach&&(f.reach=F.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function l(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function c(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(i.classes,a):i.classes.push(a)),o.hooks.run("wrap",i);var u="";for(var s in i.attributes)u+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+u+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,a=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),a&&e.close()}),!1),o):o;var f=o.util.currentScript();function d(){o.manual||o.highlightAll()}if(f&&(o.filename=f.src,f.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var p=document.readyState;"loading"===p||"interactive"===p&&f&&f.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return o}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),"undefined"!==typeof n.g&&(n.g.Prism=r)},3644:function(e,t,n){"use strict";var r=n(15),o=n(9110),i=n(6966),a="data";e.exports=function(e,t){var n=r(t),d=t,p=i;if(n in e.normal)return e.property[e.normal[n]];n.length>4&&n.slice(0,4)===a&&u.test(t)&&("-"===t.charAt(4)?d=function(e){var t=e.slice(5).replace(s,f);return a+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(s.test(t))return e;t=t.replace(l,c),"-"!==t.charAt(0)&&(t="-"+t);return a+t}(t),p=o);return new p(d,t)};var u=/^data[-\w.:]+$/i,s=/-[a-z]/g,l=/[A-Z]/g;function c(e){return"-"+e.toLowerCase()}function f(e){return e.charAt(1).toUpperCase()}},5706:function(e,t,n){"use strict";var r=n(5132),o=n(7743),i=n(238),a=n(6744),u=n(3388),s=n(6485);e.exports=r([i,o,a,u,s])},3388:function(e,t,n){"use strict";var r=n(8056),o=n(6863),i=r.booleanish,a=r.number,u=r.spaceSeparated;e.exports=o({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:u,ariaCurrent:null,ariaDescribedBy:u,ariaDetails:null,ariaDisabled:i,ariaDropEffect:u,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:u,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:u,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:u,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:u,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},6485:function(e,t,n){"use strict";var r=n(8056),o=n(6863),i=n(1736),a=r.boolean,u=r.overloadedBoolean,s=r.booleanish,l=r.number,c=r.spaceSeparated,f=r.commaSeparated;e.exports=o({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:f,acceptCharset:c,accessKey:c,action:null,allow:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:c,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:c,cols:l,colSpan:null,content:null,contentEditable:s,controls:a,controlsList:c,coords:l|f,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:u,draggable:s,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:c,height:l,hidden:a,high:l,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,imageSizes:null,imageSrcSet:f,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:c,itemRef:c,itemScope:a,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:a,low:l,manifest:null,max:null,maxLength:l,media:null,method:null,min:null,minLength:l,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:a,optimum:l,pattern:null,ping:c,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:c,required:a,reversed:a,rows:l,rowSpan:l,sandbox:c,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:l,sizes:null,slot:null,span:l,spellCheck:s,src:null,srcDoc:null,srcLang:null,srcSet:f,start:l,step:null,style:null,tabIndex:l,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:s,width:l,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:l,borderColor:null,bottomMargin:l,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:l,leftMargin:l,link:null,longDesc:null,lowSrc:null,marginHeight:l,marginWidth:l,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:l,rules:null,scheme:null,scrolling:s,standby:null,summary:null,text:null,topMargin:l,valueType:null,version:null,vAlign:null,vLink:null,vSpace:l,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:a,disableRemotePlayback:a,prefix:null,property:null,results:l,security:null,unselectable:null}})},1736:function(e,t,n){"use strict";var r=n(1408);e.exports=function(e,t){return r(e,t.toLowerCase())}},1408:function(e){"use strict";e.exports=function(e,t){return t in e?e[t]:t}},6863:function(e,t,n){"use strict";var r=n(15),o=n(1609),i=n(9110);e.exports=function(e){var t,n,a=e.space,u=e.mustUseProperty||[],s=e.attributes||{},l=e.properties,c=e.transform,f={},d={};for(t in l)n=new i(t,c(s,t),l[t],a),-1!==u.indexOf(t)&&(n.mustUseProperty=!0),f[t]=n,d[r(t)]=t,d[r(n.attribute)]=t;return new o(f,d,a)}},9110:function(e,t,n){"use strict";var r=n(6966),o=n(8056);e.exports=u,u.prototype=new r,u.prototype.defined=!0;var i=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],a=i.length;function u(e,t,n,u){var l,c=-1;for(s(this,"space",u),r.call(this,e,t);++c<a;)s(this,l=i[c],(n&o[l])===o[l])}function s(e,t,n){n&&(e[t]=n)}},6966:function(e){"use strict";e.exports=n;var t=n.prototype;function n(e,t){this.property=e,this.attribute=t}t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1},5132:function(e,t,n){"use strict";var r=n(5887),o=n(1609);e.exports=function(e){var t,n,i=e.length,a=[],u=[],s=-1;for(;++s<i;)t=e[s],a.push(t.property),u.push(t.normal),n=t.space;return new o(r.apply(null,a),r.apply(null,u),n)}},1609:function(e){"use strict";e.exports=n;var t=n.prototype;function n(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}t.space=null,t.normal={},t.property={}},8056:function(e,t){"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},7743:function(e,t,n){"use strict";var r=n(6863);e.exports=r({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},238:function(e,t,n){"use strict";var r=n(6863);e.exports=r({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},6744:function(e,t,n){"use strict";var r=n(6863),o=n(1736);e.exports=r({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:o,properties:{xmlns:null,xmlnsXLink:null}})},15:function(e){"use strict";e.exports=function(e){return e.toLowerCase()}},6814:function(e){"use strict";e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},6962:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function o(e){try{return encodeURIComponent(e)}catch(t){return null}}t.P=function(e,t){t=t||"";var r,i,a=[];for(i in"string"!==typeof t&&(t="?"),e)if(n.call(e,i)){if((r=e[i])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),i=o(i),r=o(r),null===i||null===r)continue;a.push(i+"="+r)}return a.length?t+a.join("&"):""},t.Q=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,o={};t=n.exec(e);){var i=r(t[1]),a=r(t[2]);null===i||null===a||i in o||(o[i]=a)}return o}},4463:function(e,t,n){"use strict";var r=n(2791),o=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var F,L=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(1!==a||1!==u)do{if(a--,0>--u||o[a]!==i[u]){var s="\n"+o[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function $(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=ko(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Ae(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function De(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Oe(e,t){return e(t)}function _e(){}var Te=!1;function Me(e,t,n){if(Te)return e(t,n);Te=!0;try{return Oe(e,t,n)}finally{Te=!1,(null!==Se||null!==Ee)&&(_e(),De())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Re=!1}function Ie(e,t,n,r,o,i,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Fe=!1,Le=null,Be=!1,je=null,ze={onError:function(e){Fe=!0,Le=e}};function $e(e,t,n,r,o,i,a,u,s){Fe=!1,Le=null,Ie.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,s=o.child;s;){if(s===n){u=!0,n=o,r=a;break}if(s===r){u=!0,r=o,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=o;break}if(s===r){u=!0,r=a,n=o;break}s=s.sibling}if(!u)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,Je=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Xe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var u=a&~o;0!==u?r=ft(u):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,Ct,At=!1,Dt=[],Ot=null,_t=null,Tt=null,Mt=new Map,Nt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ft(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=ko(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ko(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Bt(e)&&n.delete(t)}function zt(){At=!1,null!==Ot&&Bt(Ot)&&(Ot=null),null!==_t&&Bt(_t)&&(_t=null),null!==Tt&&Bt(Tt)&&(Tt=null),Mt.forEach(jt),Nt.forEach(jt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return $t(t,e)}if(0<Dt.length){$t(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&$t(Ot,e),null!==_t&&$t(_t,e),null!==Tt&&$t(Tt,e),Mt.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Wt=k.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Kt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function qt(e,t,n,r){if(Ht){var o=Jt(e,t,n,r);if(null===o)Hr(e,t,r,Gt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ot=Ft(Ot,e,t,n,r,o),!0;case"dragenter":return _t=Ft(_t,e,t,n,r,o),!0;case"mouseover":return Tt=Ft(Tt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mt.set(i,Ft(Mt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nt.set(i,Ft(Nt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var i=ko(o);if(null!==i&&wt(i),null===(i=Jt(e,t,n,r))&&Hr(e,t,r,Gt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=L({},ln,{view:0,detail:0}),dn=on(fn),pn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:un}}),hn=on(pn),vn=on(L({},pn,{dataTransfer:0})),mn=on(L({},fn,{relatedTarget:0})),gn=on(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),kn=on(L({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var An=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(An),On=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=on(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Mn),Rn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Fn=c&&"TextEvent"in window&&!In,Ln=c&&(!Pn||In&&8<In&&11>=In),Bn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Gn(e){Br(e,0)}function Jn(e){if(q(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Qn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(qn)){var t=[];Vn(t,qn,e,we(e)),Me(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function ir(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!ur(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var a=cr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ar=Cr("animationend"),Dr=Cr("animationiteration"),Or=Cr("animationstart"),_r=Cr("transitionend"),Tr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Tr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Mr.length;Rr++){var Pr=Mr[Rr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Ar,"onAnimationEnd"),Nr(Dr,"onAnimationIteration"),Nr(Or,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(_r,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,u,s,l){if($e.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var c=Le;Fe=!1,Le=null,Be||(Be=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==i&&o.isPropagationStopped())break e;Lr(o,u,l),i=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,l=u.currentTarget,u=u.listener,s!==i&&o.isPropagationStopped())break e;Lr(o,u,l),i=s}}}if(Be)throw e=je,Be=!1,je=null,e}function jr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[$r]){e[$r]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var o=Vt;break;case 4:o=Kt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===o||8===u.nodeType&&u.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;a=a.return}for(;null!==u;){if(null===(a=bo(u)))return;if(5===(s=a.tag)||6===s){r=i=a;continue e}u=u.parentNode}}r=r.return}Me((function(){var r=i,o=we(n),a=[];e:{var u=Tr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Dn;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Ar:case Dr:case Or:s=gn;break;case _r:s=Tn;break;case"scroll":s=dn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=Ne(h,d))&&c.push(Vr(h,v,p)))),f)break;h=h.return}0<c.length&&(u=new s(u,l,null,n,o),a.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!bo(l)&&!l[vo])&&(s||u)&&(u=o.window===o?o:(u=o.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?bo(l):null)&&(l!==(f=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=hn,v="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==s?u:wo(s),p=null==l?u:wo(l),(u=new c(v,h+"leave",s,n,o)).target=f,u.relatedTarget=p,v=null,bo(o)===r&&((c=new c(d,h+"enter",l,n,o)).target=p,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(d=l,h=0,p=c=s;p;p=qr(p))h++;for(p=0,v=d;v;v=qr(v))p++;for(;0<h-p;)c=qr(c),h--;for(;0<p-h;)d=qr(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=qr(c),d=qr(d)}c=null}else c=null;null!==s&&Gr(a,u,s,c,!1),null!==l&&null!==f&&Gr(a,f,l,c,!0)}if("select"===(s=(u=r?wo(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Hn(u))if(Xn)m=ar;else{m=or;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ir);switch(m&&(m=m(e,r))?Vn(a,m,n,o):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?wo(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(a,n,o);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(a,n,o)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Qt="value"in(Xt=o)?Xt.value:Xt.textContent,Un=!0)),0<(g=Kr(r,b)).length&&(b=new kn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(jn=!0,Bn);case"textInput":return(e=t.data)===Bn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Pn&&zn(e,t)?(e=en(),Zt=Qt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new kn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Br(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ne(e,n))&&r.unshift(Vr(e,i,o)),null!=(i=Ne(e,t))&&r.push(Vr(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,o?null!=(s=Ne(n,i))&&a.unshift(Vr(n,s,u)):o||null!=(s=Ne(n,i))&&a.push(Vr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(uo)}:ro;function uo(e){setTimeout((function(){throw e}))}function so(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,vo="__reactContainer$"+fo,mo="__reactEvents$"+fo,go="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[po])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function ko(e){return!(e=e[po]||e[vo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[ho]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function Ao(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Do(e,t){Eo++,So[Eo]=e.current,e.current=t}var Oo={},_o=Co(Oo),To=Co(!1),Mo=Oo;function No(e,t){var n=e.type.contextTypes;if(!n)return Oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Po(){Ao(To),Ao(_o)}function Io(e,t,n){if(_o.current!==Oo)throw Error(i(168));Do(_o,t),Do(To,n)}function Fo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,Mo=_o.current,Do(_o,e),Do(To,To.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fo(e,t,Mo),r.__reactInternalMemoizedMergedChildContext=e,Ao(To),Ao(_o),Do(_o,e)):Ao(To),Do(To,n)}var jo=null,zo=!1,$o=!1;function Uo(e){null===jo?jo=[e]:jo.push(e)}function Wo(){if(!$o&&null!==jo){$o=!0;var e=0,t=bt;try{var n=jo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}jo=null,zo=!1}catch(o){throw null!==jo&&(jo=jo.slice(e+1)),qe(Ze,Wo),o}finally{bt=t,$o=!1}}return null}var Ho=[],Vo=0,Ko=null,qo=0,Go=[],Jo=0,Yo=null,Xo=1,Qo="";function Zo(e,t){Ho[Vo++]=qo,Ho[Vo++]=Ko,Ko=e,qo=t}function ei(e,t,n){Go[Jo++]=Xo,Go[Jo++]=Qo,Go[Jo++]=Yo,Yo=e;var r=Xo;e=Qo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Xo=1<<32-at(t)+o|n<<o|r,Qo=i+e}else Xo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Ko;)Ko=Ho[--Vo],Ho[Vo]=null,qo=Ho[--Vo],Ho[Vo]=null;for(;e===Yo;)Yo=Go[--Jo],Go[Jo]=null,Qo=Go[--Jo],Go[Jo]=null,Xo=Go[--Jo],Go[Jo]=null}var ri=null,oi=null,ii=!1,ai=null;function ui(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Xo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&si(e,t)?ui(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw pi(),Error(i(418));for(;t;)ui(e,t),t=lo(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=lo(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function vi(e){null===ai?ai=[e]:ai.push(e)}var mi=k.ReactCurrentBatchConfig;function gi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=Co(null),bi=null,ki=null,wi=null;function xi(){wi=ki=bi=null}function Si(e){var t=yi.current;Ao(yi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){bi=e,wi=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===bi)throw Error(i(308));ki=e,bi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Di=null;function Oi(e){null===Di?Di=[e]:Di.push(e)}function _i(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ti(e,r)}function Ti(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Os)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ti(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ti(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var s=u,l=s.next;s.next=null,null===a?i=l:a.next=l,a=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==i){var f=o.baseState;for(a=0,c=l=s=null,u=i;;){var d=u.lane,p=u.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=e,v=u;switch(d=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=v.payload)?h.call(p,f,d):h)||void 0===d)break e;f=L({},f,d);break e;case 2:Mi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[u]:d.push(u))}else p={eventTime:p,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=p,s=f):c=c.next=p,a|=d;if(null===(u=u.next)){if(null===(u=o.shared.pending))break;u=(d=u).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===c&&(s=f),o.baseState=s,o.firstBaseUpdate=l,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Fs|=a,e.lanes=a,e.memoizedState=f}}function ji(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var zi=(new r.Component).refs;function $i(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Pi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,o))&&(nl(t,e,o,r),Fi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Pi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,o))&&(nl(t,e,o,r),Fi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Pi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ii(e,o,r))&&(nl(t,e,r,n),Fi(t,e,r))}};function Wi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(o,i))}function Hi(e,t,n){var r=!1,o=Oo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(o=Ro(t)?Mo:_o.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?No(e,o):Oo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=zi,Ni(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ai(i):(i=Ro(t)?Mo:_o.current,o.context=No(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&($i(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ui.enqueueReplaceState(o,o.state,null),Bi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function qi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===zi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ji(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===N&&Ji(i)===t.type)?((r=o(t,n.props)).ref=qi(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=qi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Il(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=qi(e,null,t),n.return=e,n;case x:return(t=Bl(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Il(t,e.mode,n,null)).return=e,t;Gi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?l(e,t,n,r):null;case x:return n.key===o?c(e,t,n,r):null;case N:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:f(e,t,n,r,null);Gi(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return f(t,e=e.get(n)||null,r,o,null);Gi(t,r)}return null}function v(o,i,u,s){for(var l=null,c=null,f=i,v=i=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(o,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),i=a(g,i,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===u.length)return n(o,f),ii&&Zo(o,v),l;if(null===f){for(;v<u.length;v++)null!==(f=d(o,u[v],s))&&(i=a(f,i,v),null===c?l=f:c.sibling=f,c=f);return ii&&Zo(o,v),l}for(f=r(o,f);v<u.length;v++)null!==(m=h(f,o,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),i=a(m,i,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(o,e)})),ii&&Zo(o,v),l}function m(o,u,s,l){var c=I(s);if("function"!==typeof c)throw Error(i(150));if(null==(s=c.call(s)))throw Error(i(151));for(var f=c=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(o,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(o,v),u=a(b,u,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(o,v),ii&&Zo(o,m),c;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(o,y.value,l))&&(u=a(y,u,m),null===f?c=y:f.sibling=y,f=y);return ii&&Zo(o,m),c}for(v=r(o,v);!y.done;m++,y=s.next())null!==(y=h(v,o,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=a(y,u,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),c}return function e(r,i,a,s){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,c=i;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Ji(l)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=qi(r,c,a),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((i=Il(a.props.children,r.mode,s,a.key)).return=r,r=i):((s=Pl(a.type,a.key,a.props,null,r.mode,s)).ref=qi(r,i,a),s.return=r,r=s)}return u(r);case x:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bl(a,r.mode,s)).return=r,r=i}return u(r);case N:return e(r,i,(c=a._init)(a._payload),s)}if(te(a))return v(r,i,a,s);if(I(a))return m(r,i,a,s);Gi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Ll(a,r.mode,s)).return=r,r=i),u(r)):n(r,i)}}var Xi=Yi(!0),Qi=Yi(!1),Zi={},ea=Co(Zi),ta=Co(Zi),na=Co(Zi);function ra(e){if(e===Zi)throw Error(i(174));return e}function oa(e,t){switch(Do(na,t),Do(ta,e),Do(ea,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ao(ea),Do(ea,t)}function ia(){Ao(ea),Ao(ta),Ao(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=se(t,e.type);t!==n&&(Do(ta,e),Do(ea,n))}function ua(e){ta.current===e&&(Ao(ea),Ao(ta))}var sa=Co(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=k.ReactCurrentDispatcher,pa=k.ReactCurrentBatchConfig,ha=0,va=null,ma=null,ga=null,ya=!1,ba=!1,ka=0,wa=0;function xa(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,o,a){if(ha=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?uu:su,e=n(r,o),ba){a=0;do{if(ba=!1,ka=0,25<=a)throw Error(i(301));a+=1,ga=ma=null,t.updateQueue=null,da.current=lu,e=n(r,o)}while(ba)}if(da.current=au,t=null!==ma&&null!==ma.next,ha=0,ga=ma=va=null,ya=!1,t)throw Error(i(300));return e}function Ca(){var e=0!==ka;return ka=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Da(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Oa(e,t){return"function"===typeof t?t(e):t}function _a(e){var t=Da(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ma,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var s=u=null,l=null,c=a;do{var f=c.lane;if((ha&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,u=r):l=l.next=d,va.lanes|=f,Fs|=f}c=c.next}while(null!==c&&c!==a);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,va.lanes|=a,Fs|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Da(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var u=o=o.next;do{a=e(a,u.action),u=u.next}while(u!==o);ur(a,t.memoizedState)||(ku=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Na(e,t){var n=va,r=Da(),o=t(),a=!ur(r.memoizedState,o);if(a&&(r.memoizedState=o,ku=!0),r=r.queue,Ha(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,ja(9,Pa.bind(null,n,r,o,t),void 0,null),null===_s)throw Error(i(349));0!==(30&ha)||Ra(n,t,o)}return o}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&La(e)}function Ia(e,t,n){return n((function(){Fa(t)&&La(e)}))}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function La(e){var t=Ti(e,1);null!==t&&nl(t,e,1,-1)}function Ba(e){var t=Aa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,va,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Da().memoizedState}function $a(e,t,n,r){var o=Aa();va.flags|=e,o.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var o=Da();r=void 0===r?null:r;var i=void 0;if(null!==ma){var a=ma.memoizedState;if(i=a.destroy,null!==r&&Sa(r,a.deps))return void(o.memoizedState=ja(t,n,i,r))}va.flags|=e,o.memoizedState=ja(1|t,n,i,r)}function Wa(e,t){return $a(8390656,8,e,t)}function Ha(e,t){return Ua(2048,8,e,t)}function Va(e,t){return Ua(4,2,e,t)}function Ka(e,t){return Ua(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,qa.bind(null,t,e),n)}function Ja(){}function Ya(e,t){var n=Da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),va.lanes|=n,Fs|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function eu(){return Da().memoizedState}function tu(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))ou(t,n);else if(null!==(n=_i(e,t,n,r))){nl(n,e,r,el()),iu(n,t,r)}}function nu(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))ou(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=i(a,n);if(o.hasEagerState=!0,o.eagerState=u,ur(u,a)){var s=t.interleaved;return null===s?(o.next=o,Oi(t)):(o.next=s.next,s.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=_i(e,t,o,r))&&(nl(n,e,r,o=el()),iu(n,t,r))}}function ru(e){var t=e.alternate;return e===va||null!==t&&t===va}function ou(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var au={readContext:Ai,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},uu={readContext:Ai,useCallback:function(e,t){return Aa().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$a(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $a(4194308,4,e,t)},useInsertionEffect:function(e,t){return $a(4,2,e,t)},useMemo:function(e,t){var n=Aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Aa().memoizedState=e},useState:Ba,useDebugValue:Ja,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Za.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,o=Aa();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_s)throw Error(i(349));0!==(30&ha)||Ra(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Wa(Ia.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Aa(),t=_s.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Xo&~(1<<32-at(Xo)-1)).toString(32)+n),0<(n=ka++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ai,useCallback:Ya,useContext:Ai,useEffect:Ha,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Ka,useMemo:Xa,useReducer:_a,useRef:za,useState:function(){return _a(Oa)},useDebugValue:Ja,useDeferredValue:function(e){return Qa(Da(),ma.memoizedState,e)},useTransition:function(){return[_a(Oa)[0],Da().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Na,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Ai,useCallback:Ya,useContext:Ai,useEffect:Ha,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Ka,useMemo:Xa,useReducer:Ta,useRef:za,useState:function(){return Ta(Oa)},useDebugValue:Ja,useDeferredValue:function(e){var t=Da();return null===ma?t.memoizedState=e:Qa(t,ma.memoizedState,e)},useTransition:function(){return[Ta(Oa)[0],Da().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Na,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=Pi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Vs=r),du(0,t)},n}function vu(e,t,n){(n=Pi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){du(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pi(-1,1)).tag=2,Ii(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Qi(t,null,n,r):Xi(t,e.child,n,r)}function xu(e,t,n,r,o){n=n.render;var i=t.ref;return Ci(t,o),r=Ea(e,t,n,r,i,o),n=Ca(),null===e||ku?(ii&&n&&ti(t),t.flags|=1,wu(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hu(e,t,o))}function Su(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Nl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Eu(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Hu(e,t,o)}return t.flags|=1,(e=Rl(i,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(sr(i,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hu(e,t,o);0!==(131072&e.flags)&&(ku=!0)}}return Du(e,t,n,r,o)}function Cu(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Do(Rs,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Do(Rs,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Do(Rs,Ns),Ns|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Do(Rs,Ns),Ns|=r;return wu(e,t,o,n),t.child}function Au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Du(e,t,n,r,o){var i=Ro(n)?Mo:_o.current;return i=No(t,i),Ci(t,o),n=Ea(e,t,n,r,i,o),r=Ca(),null===e||ku?(ii&&r&&ti(t),t.flags|=1,wu(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hu(e,t,o))}function Ou(e,t,n,r,o){if(Ro(n)){var i=!0;Lo(t)}else i=!1;if(Ci(t,o),null===t.stateNode)Wu(e,t),Hi(t,n,r),Ki(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ai(l):l=No(t,l=Ro(n)?Mo:_o.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==l)&&Vi(t,a,r,l),Mi=!1;var d=t.memoizedState;a.state=d,Bi(t,r,a,o),s=t.memoizedState,u!==r||d!==s||To.current||Mi?("function"===typeof c&&($i(t,n,c,r),s=t.memoizedState),(u=Mi||Wi(t,n,u,r,d,s,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ri(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:gi(t.type,u),a.props=l,f=t.pendingProps,d=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ai(s):s=No(t,s=Ro(n)?Mo:_o.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||d!==s)&&Vi(t,a,r,s),Mi=!1,d=t.memoizedState,a.state=d,Bi(t,r,a,o);var h=t.memoizedState;u!==f||d!==h||To.current||Mi?("function"===typeof p&&($i(t,n,p,r),h=t.memoizedState),(l=Mi||Wi(t,n,l,r,d,h,s)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=l):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,i,o)}function _u(e,t,n,r,o,i){Au(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Bo(t,n,!1),Hu(e,t,i);r=t.stateNode,bu.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,u,i)):wu(e,t,u,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),oa(e,t.containerInfo)}function Mu(e,t,n,r,o){return hi(),vi(o),t.flags|=256,wu(e,t,n,r),t.child}var Nu,Ru,Pu,Iu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t,n){var r,o=t.pendingProps,a=sa.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Do(sa,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=o.children,e=o.fallback,u?(o=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&o)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fl(s,o,0,null),e=Il(e,o,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Iu,e):Bu(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Fl({mode:"visible",children:r.children},o,0,null),(a=Il(a,o,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xi(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Iu,a);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(a=Error(i(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=_s)){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|u))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ti(e,o),nl(r,e,o,-1))}return vl(),ju(e,t,u,r=fu(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Dl.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Go[Jo++]=Xo,Go[Jo++]=Qo,Go[Jo++]=Yo,Xo=e.id,Qo=e.overflow,Yo=t),t=Bu(t,r.children),t.flags|=4096,t)}(e,t,s,o,r,a,n);if(u){u=o.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&s)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?u=Rl(r,u):(u=Il(u,s,n,null)).flags|=2,u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Iu,o}return e=(u=e.child).sibling,o=Rl(u,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bu(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&vi(r),Xi(t,e.child,null,n),(e=Bu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function $u(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Uu(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Do(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$u(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===la(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$u(t,!0,n,null,i);break;case"together":$u(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vu(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qu(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Ro(t.type)&&Po(),Ku(t),null;case 3:return r=t.stateNode,ia(),Ao(To),Ao(_o),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(al(ai),ai=null))),Ku(t),null;case 5:ua(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ku(t),null}if(e=ra(ea.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)jr(Ir[o],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":oe(r,a),jr("invalid",r)}for(var s in ye(n,a),o=null,a)if(a.hasOwnProperty(s)){var l=a[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,e),o=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[po]=t,e[ho]=r,Nu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),o=r;break;case"iframe":case"object":case"embed":jr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)jr(Ir[o],e);o=r;break;case"source":jr("error",e),o=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),o=r;break;case"details":jr("toggle",e),o=r;break;case"input":Y(e,r),o=J(e,r),jr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),jr("invalid",e)}for(a in ye(n,o),l=o)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=c&&"onScroll"===a&&jr("scroll",e):null!=c&&b(e,a,c,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ao(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),hi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),a=!1}else null!==ai&&(al(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Ps&&(Ps=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return ia(),null===e&&Ur(t.stateNode.containerInfo),Ku(t),null;case 10:return Si(t.type._context),Ku(t),null;case 19:if(Ao(sa),null===(a=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Vu(a,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=la(e))){for(t.flags|=128,Vu(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Do(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Us&&(t.flags|=128,r=!0,Vu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!ii)return Ku(t),null}else 2*Xe()-a.renderingStartTime>Us&&1073741824!==n&&(t.flags|=128,r=!0,Vu(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=sa.current,Do(sa,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Gu(e,t){switch(ni(t),t.tag){case 1:return Ro(t.type)&&Po(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Ao(To),Ao(_o),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ua(t),null;case 13:if(Ao(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ao(sa),null;case 4:return ia(),null;case 10:return Si(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Nu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=J(e,o),r=J(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Qu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){El(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&es(t,n,i)}o=o.next}while(o!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function is(e){var t=e.alternate;null!==t&&(e.alternate=null,is(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[mo],delete t[go],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var cs=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=cs,o=fs;cs=null,ds(e,t,n),fs=o,null!==(cs=r)&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?so(e.parentNode,n):1===e.nodeType&&so(e,n),Ut(e)):so(cs,n.stateNode));break;case 4:r=cs,o=fs,cs=n.stateNode.containerInfo,fs=!0,ds(e,t,n),cs=r,fs=o;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&es(n,t,a),o=o.next}while(o!==r)}ds(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){El(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ol.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,fs=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===cs)throw Error(i(160));ps(a,u,o),cs=null,fs=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(c){El(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),gs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){El(e,e.return,m)}try{ns(5,e,e.return)}catch(m){El(e,e.return,m)}}break;case 1:vs(t,e),gs(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),gs(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(m){El(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,u=null!==n?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(o,a),be(s,u);var c=be(s,a);for(u=0;u<l.length;u+=2){var f=l[u],d=l[u+1];"style"===f?me(o,d):"dangerouslySetInnerHTML"===f?fe(o,d):"children"===f?de(o,d):b(o,f,d,c)}switch(s){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(m){El(e,e.return,m)}}break;case 6:if(vs(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){El(e,e.return,m)}}break;case 3:if(vs(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){El(e,e.return,m)}break;case 4:default:vs(t,e),gs(e);break;case 13:vs(t,e),gs(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||($s=Xe())),4&r&&hs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(c=Yu)||f,vs(t,e),Yu=c):vs(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Qu=e,f=e.child;null!==f;){for(d=Qu=f;null!==Qu;){switch(h=(p=Qu).child,p.tag){case 0:case 11:case 14:case 15:ns(4,p,p.return);break;case 1:Zu(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){El(r,n,m)}}break;case 5:Zu(p,p.return);break;case 22:if(null!==p.memoizedState){ws(d);continue}}null!==h?(h.return=p,Qu=h):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{o=d.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=d.stateNode,u=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){El(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){El(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),gs(e),4&r&&hs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),ls(e,us(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,us(e),a);break;default:throw Error(i(161))}}catch(u){El(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Qu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var o=Qu,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ju;if(!a){var u=o.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Ju;var l=Yu;if(Ju=a,(Yu=s)&&!l)for(Qu=o;null!==Qu;)s=(a=Qu).child,22===a.tag&&null!==a.memoizedState?xs(o):null!==s?(s.return=a,Qu=s):xs(o);for(;null!==i;)Qu=i,bs(i,t,n),i=i.sibling;Qu=o,Ju=u,Yu=l}ks(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qu=i):ks(e)}}function ks(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ji(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ji(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(i(163))}Yu||512&t.flags&&os(t)}catch(p){El(t,t.return,p)}}if(t===e){Qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qu=n;break}Qu=t.return}}function ws(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function xs(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){El(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(s){El(t,o,s)}}var i=t.return;try{os(t)}catch(s){El(t,i,s)}break;case 5:var a=t.return;try{os(t)}catch(s){El(t,a,s)}}}catch(s){El(t,t.return,s)}if(t===e){Qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Qu=u;break}Qu=t.return}}var Ss,Es=Math.ceil,Cs=k.ReactCurrentDispatcher,As=k.ReactCurrentOwner,Ds=k.ReactCurrentBatchConfig,Os=0,_s=null,Ts=null,Ms=0,Ns=0,Rs=Co(0),Ps=0,Is=null,Fs=0,Ls=0,Bs=0,js=null,zs=null,$s=0,Us=1/0,Ws=null,Hs=!1,Vs=null,Ks=null,qs=!1,Gs=null,Js=0,Ys=0,Xs=null,Qs=-1,Zs=0;function el(){return 0!==(6&Os)?Xe():-1!==Qs?Qs:Qs=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Os)&&0!==Ms?Ms&-Ms:null!==mi.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(i(185));gt(e,n,r),0!==(2&Os)&&e===_s||(e===_s&&(0===(2&Os)&&(Ls|=n),4===Ps&&ul(e,Ms)),rl(e,r),1===n&&0===Os&&0===(1&t.mode)&&(Us=Xe()+500,zo&&Wo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),u=1<<a,s=o[a];-1===s?0!==(u&n)&&0===(u&r)||(o[a]=pt(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}}(e,t);var r=dt(e,e===_s?Ms:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){zo=!0,Uo(e)}(sl.bind(null,e)):Uo(sl.bind(null,e)),ao((function(){0===(6&Os)&&Wo()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_l(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Qs=-1,Zs=0,0!==(6&Os))throw Error(i(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=dt(e,e===_s?Ms:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var o=Os;Os|=2;var a=hl();for(_s===e&&Ms===t||(Ws=null,Us=Xe()+500,dl(e,t));;)try{yl();break}catch(s){pl(e,s)}xi(),Cs.current=a,Os=o,null!==Ts?t=0:(_s=null,Ms=0,t=Ps)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=il(e,o))),1===t)throw n=Is,dl(e,0),ul(e,r),rl(e,Xe()),n;if(6===t)ul(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ur(i(),o))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=ml(e,r))&&(0!==(a=ht(e))&&(r=a,t=il(e,a))),1===t))throw n=Is,dl(e,0),ul(e,r),rl(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wl(e,zs,Ws);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=$s+500-Xe())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wl.bind(null,e,zs,Ws),t);break}wl(e,zs,Ws);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-at(r);a=1<<u,(u=t[u])>o&&(o=u),r&=~a}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ro(wl.bind(null,e,zs,Ws),r);break}wl(e,zs,Ws);break;default:throw Error(i(329))}}}return rl(e,Xe()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=zs,zs=n,null!==t&&al(t)),e}function al(e){null===zs?zs=e:zs.push.apply(zs,e)}function ul(e,t){for(t&=~Bs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Os))throw Error(i(327));xl();var t=dt(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Is,dl(e,0),ul(e,t),rl(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zs,Ws),rl(e,Xe()),null}function ll(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Us=Xe()+500,zo&&Wo())}}function cl(e){null!==Gs&&0===Gs.tag&&0===(6&Os)&&xl();var t=Os;Os|=1;var n=Ds.transition,r=bt;try{if(Ds.transition=null,bt=1,e)return e()}finally{bt=r,Ds.transition=n,0===(6&(Os=t))&&Wo()}}function fl(){Ns=Rs.current,Ao(Rs)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Po();break;case 3:ia(),Ao(To),Ao(_o),fa();break;case 5:ua(r);break;case 4:ia();break;case 13:case 19:Ao(sa);break;case 10:Si(r.type._context);break;case 22:case 23:fl()}n=n.return}if(_s=e,Ts=e=Rl(e.current,null),Ms=Ns=t,Ps=0,Is=null,Bs=Ls=Fs=0,zs=js=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(r=(n=Di[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Di=null}return e}function pl(e,t){for(;;){var n=Ts;try{if(xi(),da.current=au,ya){for(var r=va.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ya=!1}if(ha=0,ga=ma=va=null,ba=!1,ka=0,As.current=null,null===n||null===n.return){Ps=1,Is=t,Ts=null;break}e:{var a=e,u=n.return,s=n,l=t;if(t=Ms,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=gu(u);if(null!==h){h.flags&=-257,yu(h,u,s,0,t),1&h.mode&&mu(a,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(a,c,t),vl();break e}l=Error(i(426))}else if(ii&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),vi(cu(l,s));break e}}a=l=cu(l,s),4!==Ps&&(Ps=2),null===js?js=[a]:js.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Li(a,hu(0,l,t));break e;case 1:s=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Li(a,vu(a,s,t));break e}}a=a.return}while(null!==a)}kl(n)}catch(k){t=k,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function hl(){var e=Cs.current;return Cs.current=au,null===e?au:e}function vl(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===_s||0===(268435455&Fs)&&0===(268435455&Ls)||ul(_s,Ms)}function ml(e,t){var n=Os;Os|=2;var r=hl();for(_s===e&&Ms===t||(Ws=null,dl(e,t));;)try{gl();break}catch(o){pl(e,o)}if(xi(),Os=n,Cs.current=r,null!==Ts)throw Error(i(261));return _s=null,Ms=0,Ps}function gl(){for(;null!==Ts;)bl(Ts)}function yl(){for(;null!==Ts&&!Je();)bl(Ts)}function bl(e){var t=Ss(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?kl(e):Ts=t,As.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qu(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ps=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ps&&(Ps=5)}function wl(e,t,n){var r=bt,o=Ds.transition;try{Ds.transition=null,bt=1,function(e,t,n,r){do{xl()}while(null!==Gs);if(0!==(6&Os))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===_s&&(Ts=_s=null,Ms=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qs||(qs=!0,_l(tt,(function(){return xl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ds.transition,Ds.transition=null;var u=bt;bt=1;var s=Os;Os|=4,As.current=null,function(e,t){if(eo=Ht,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==o&&3!==d.nodeType||(s=u+o),d!==a||0!==r&&3!==d.nodeType||(l=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===o&&(s=u),p===a&&++f===r&&(l=u),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Qu=t;null!==Qu;)if(e=(t=Qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:gi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(i(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qu=e;break}Qu=t.return}v=ts,ts=!1}(e,n),ms(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,ys(n,e,o),Ye(),Os=s,bt=u,Ds.transition=a}else e.current=n;if(qs&&(qs=!1,Gs=e,Js=o),a=e.pendingLanes,0===a&&(Ks=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hs)throw Hs=!1,e=Vs,Vs=null,e;0!==(1&Js)&&0!==e.tag&&xl(),a=e.pendingLanes,0!==(1&a)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Wo()}(e,t,n,r)}finally{Ds.transition=o,bt=r}return null}function xl(){if(null!==Gs){var e=kt(Js),t=Ds.transition,n=bt;try{if(Ds.transition=null,bt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,Js=0,0!==(6&Os))throw Error(i(331));var o=Os;for(Os|=4,Qu=e.current;null!==Qu;){var a=Qu,u=a.child;if(0!==(16&Qu.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Qu=c;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:ns(8,f,a)}var d=f.child;if(null!==d)d.return=f,Qu=d;else for(;null!==Qu;){var p=(f=Qu).sibling,h=f.return;if(is(f),f===c){Qu=null;break}if(null!==p){p.return=h,Qu=p;break}Qu=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Qu=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,Qu=u;else e:for(;null!==Qu;){if(0!==(2048&(a=Qu).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qu=y;break e}Qu=a.return}}var b=e.current;for(Qu=b;null!==Qu;){var k=(u=Qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Qu=k;else e:for(u=b;null!==Qu;){if(0!==(2048&(s=Qu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){El(s,s.return,x)}if(s===u){Qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qu=w;break e}Qu=s.return}}if(Os=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{bt=n,Ds.transition=t}}return!1}function Sl(e,t,n){e=Ii(e,t=hu(0,t=cu(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function El(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Ii(t,e=vu(t,e=cu(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Ms&n)===n&&(4===Ps||3===Ps&&(130023424&Ms)===Ms&&500>Xe()-$s?dl(e,0):Bs|=n),rl(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ti(e,t))&&(gt(e,t,n),rl(e,n))}function Dl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Ol(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Al(e,n)}function _l(e,t){return qe(e,t)}function Tl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Tl(e,t,n,r)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,o,a){var u=2;if(r=e,"function"===typeof e)Nl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Il(n.children,o,a,t);case E:u=8,o|=8;break;case C:return(e=Ml(12,n,t,2|o)).elementType=C,e.lanes=a,e;case _:return(e=Ml(13,n,t,o)).elementType=_,e.lanes=a,e;case T:return(e=Ml(19,n,t,o)).elementType=T,e.lanes=a,e;case R:return Fl(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case D:u=9;break e;case O:u=11;break e;case M:u=14;break e;case N:u=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ml(u,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Il(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,o,i,a,u,s){return e=new jl(e,t,n,u,s),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ml(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ni(i),e}function $l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ul(e){if(!e)return Oo;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Fo(e,n,t)}return t}function Wl(e,t,n,r,o,i,a,u,s){return(e=zl(n,r,!0,e,0,i,0,u,s)).context=Ul(null),n=e.current,(i=Pi(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Ii(n,i,o),e.current.lanes=o,gt(e,o,r),rl(e,r),e}function Hl(e,t,n,r){var o=t.current,i=el(),a=tl(o);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ii(o,t,a))&&(nl(e,o,a,i),Fi(e,o,a)),a}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),hi();break;case 5:aa(t);break;case 1:Ro(t.type)&&Lo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Do(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Do(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lu(e,t,n):(Do(sa,1&sa.current),null!==(e=Hu(e,t,n))?e.sibling:null);Do(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uu(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Do(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return Hu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ii&&0!==(1048576&t.flags)&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var o=No(t,_o.current);Ci(t,n),o=Ea(null,t,r,e,o,n);var a=Ca();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ni(t),o.updater=Ui,t.stateNode=o,o._reactInternals=t,Ki(t,r,e,n),t=_u(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),wu(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Nl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===M)return 14}return 2}(r),e=gi(r,e),o){case 0:t=Du(null,t,r,e,n);break e;case 1:t=Ou(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,gi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Du(e,t,r,o=t.elementType===r?o:gi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ou(e,t,r,o=t.elementType===r?o:gi(r,o),n);case 3:e:{if(Tu(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Ri(e,t),Bi(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mu(e,t,r,n,o=cu(Error(i(423)),t));break e}if(r!==o){t=Mu(e,t,r,n,o=cu(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&ci(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,u=o.children,no(r,o)?u=null:null!==a&&no(r,a)&&(t.flags|=32),Au(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Lu(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xu(e,t,r,o=t.elementType===r?o:gi(r,o),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,Do(yi,r._currentValue),r._currentValue=u,null!==a)if(ur(a.value,u)){if(a.children===o.children&&!To.current){t=Hu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Pi(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(i(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ei(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}wu(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ci(t,n),r=r(o=Ai(o)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return o=gi(r=t.type,t.pendingProps),Su(e,t,r,o=gi(r.type,o),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gi(r,o),Wu(e,t),t.tag=1,Ro(r)?(e=!0,Lo(t)):e=!1,Ci(t,n),Hi(t,r,o),Ki(t,r,o,n),_u(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return Cu(e,t,n)}throw Error(i(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var u=o;o=function(){var e=Vl(a);u.call(e)}}Hl(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Vl(a);i.call(e)}}var a=Wl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[vo]=a.current,Ur(8===e.nodeType?e.parentNode:e),cl(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var u=r;r=function(){var e=Vl(s);u.call(e)}}var s=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[vo]=s.current,Ur(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,s,n,r)})),s}(n,t,e,o,r);return Vl(a)}Yl.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hl(e,t,null,null)},Yl.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[vo]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Xe()),0===(6&Os)&&(Us=Xe()+500,Wo()))}break;case 13:cl((function(){var t=Ti(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),ql(e,1)}},xt=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)nl(t,e,134217728,el());ql(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Ti(e,t);if(null!==n)nl(n,e,t,el());ql(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));q(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=ll,_e=cl;var tc={usingClientEntryPoint:!1,Events:[ko,wo,xo,Ae,De,ll]},nc={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ot=oc.inject(rc),it=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(i(200));return $l(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(i(299));var n=!1,r="",o=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,o),e[vo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Jl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",u=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,o,0,a,u),e[vo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yl(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(i(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[vo]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:c,props:i,_owner:u.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,u=null;if(null!=t)for(o in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===i[o]&&(i[o]=s[o]);return{$$typeof:n,type:e,key:a,ref:u,props:i,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,o,i,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===i?"."+O(s,0):i,w(a)?(o="",null!=e&&(o=e.replace(D,"$&/")+"/"),_(a,t,o,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(D,"$&/")+"/")+e)),t.push(a)),1;if(s=0,i=""===i?".":i+":",w(e))for(var l=0;l<e.length;l++){var c=i+O(u=e[l],l);s+=_(u,t,o,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=_(u=u.value,t,o,c=i+O(u,l++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function T(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=v({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)x.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},8959:function(e,t,n){"use strict";var r="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n.g?n.g:{},o=function(){var e="Prism"in r,t=e?r.Prism:void 0;return function(){e?r.Prism=t:delete r.Prism;e=void 0,t=void 0}}();r.Prism={manual:!0,disableWorkerMessageHandler:!0};var i=n(6913),a=n(5434),u=n(3693),s=n(2357),l=n(9625),c=n(3052),f=n(7556);o();var d={}.hasOwnProperty;function p(){}p.prototype=u;var h=new p;function v(e){if("function"!==typeof e||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");void 0===h.languages[e.displayName]&&e(h)}e.exports=h,h.highlight=function(e,t){var n,r=u.highlight;if("string"!==typeof e)throw new Error("Expected `string` for `value`, got `"+e+"`");if("Object"===h.util.type(t))n=t,t=null;else{if("string"!==typeof t)throw new Error("Expected `string` for `name`, got `"+t+"`");if(!d.call(h.languages,t))throw new Error("Unknown language: `"+t+"` is not registered");n=h.languages[t]}return r.call(this,e,n,t)},h.register=v,h.alias=function(e,t){var n,r,o,i,a=h.languages,u=e;t&&((u={})[e]=t);for(n in u)for(o=(r="string"===typeof(r=u[n])?[r]:r).length,i=-1;++i<o;)a[r[i]]=a[n]},h.registered=function(e){if("string"!==typeof e)throw new Error("Expected `string` for `language`, got `"+e+"`");return d.call(h.languages,e)},h.listLanguages=function(){var e,t=h.languages,n=[];for(e in t)d.call(t,e)&&"object"===typeof t[e]&&n.push(e);return n},v(s),v(l),v(c),v(f),h.util.encode=function(e){return e},h.Token.stringify=function(e,t,n){var r;if("string"===typeof e)return{type:"text",value:e};if("Array"===h.util.type(e))return function(e,t){var n,r=[],o=e.length,i=-1;for(;++i<o;)""!==(n=e[i])&&null!==n&&void 0!==n&&r.push(n);i=-1,o=r.length;for(;++i<o;)n=r[i],r[i]=h.Token.stringify(n,t,r);return r}(e,t);r={type:e.type,content:h.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias));return h.hooks.run("wrap",r),i(r.tag+"."+r.classes.join("."),function(e){var t;for(t in e)e[t]=a(e[t]);return e}(r.attributes),r.content)}},3052:function(e){"use strict";function t(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}e.exports=t,t.displayName="clike",t.aliases=[]},9625:function(e){"use strict";function t(e){!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e)}e.exports=t,t.displayName="css",t.aliases=[]},7556:function(e){"use strict";function t(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}e.exports=t,t.displayName="javascript",t.aliases=["js"]},2357:function(e){"use strict";function t(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}e.exports=t,t.displayName="markup",t.aliases=["html","mathml","svg","xml","ssml","atom","rss"]},5844:function(e,t,n){"use strict";var r=n(4583).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},3535:function(e,t,n){"use strict";var r=n(9396),o=n(9722),i=n(5844),a=n(1334),u=n(7888),s=o(a());r(s,{getPolyfill:a,implementation:i,shim:u}),e.exports=s},1334:function(e,t,n){"use strict";var r=n(5844),o=n(9396).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},7888:function(e,t,n){"use strict";var r=n(9396).supportsDescriptors,o=n(1334),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,u=TypeError,s=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!s)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=s(l),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},248:function(e,t,n){"use strict";var r=n(5821),o=n(7390);e.exports=function(e,t){if(!r(e))throw new Error("Value must be a finite number");if(!o(t)||t<0)throw new Error("Precision must be a non-negative integer");return parseFloat(e.toFixed(t))}},3810:function(e,t,n){"use strict";var r=n(248),o=n(9887);e.exports=a;var i={down:"floor",up:"ceil"};function a(e,t,n){if(t=t||1,n){if(!i.hasOwnProperty(n))throw new Error("invalid direction");var u=i[n];return r(Math[u](e/t)*t,o(t))}var s=a(e,t,"down"),l=a(e,t,"up");return e-s<l-e?s:l}a.up=function(e,t){return a(e,t,"up")},a.down=function(e,t){return a(e,t,"down")}},417:function(e,t,n){"use strict";var r=n(4037),o=n(2506),i=n(1146),a=r("RegExp.prototype.exec"),u=o("%TypeError%");e.exports=function(e){if(!i(e))throw new u("`regex` must be a RegExp");return function(t){return null!==a(e,t)}}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>i(s,n))l<o&&0>i(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<o&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,d=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,k(e),!v)if(null!==r(l))v=!0,R(x);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(A),A=-1),h=!0;var i=p;try{for(k(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!_());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var u=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(l)&&o(l),k(n)}else o(l);d=r(l)}if(null!==d)var s=!0;else{var f=r(c);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{d=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,A=-1,D=5,O=-1;function _(){return!(t.unstable_now()-O<D)}function T(){if(null!==C){var e=t.unstable_now();O=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,N=M.port2;M.port1.onmessage=T,S=function(){N.postMessage(null)}}else S=function(){g(T,0)};function R(e){C=e,E||(E=!0,S())}function P(e,n){A=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(m?(y(A),A=-1):m=!0,P(w,i-a))):(e.sortIndex=u,n(l,e),v||h||(v=!0,R(x))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},581:function(e,t,n){"use strict";var r=n(2506),o=n(4037),i=n(2584),a=r("%TypeError%"),u=r("%WeakMap%",!0),s=r("%Map%",!0),l=o("WeakMap.prototype.get",!0),c=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),p=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(u&&r&&("object"===typeof r||"function"===typeof r)){if(e)return l(e,r)}else if(s){if(t)return d(t,r)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,r)},has:function(r){if(u&&r&&("object"===typeof r||"function"===typeof r)){if(e)return f(e,r)}else if(s){if(t)return h(t,r)}else if(n)return function(e,t){return!!v(e,t)}(n,r);return!1},set:function(r,o){u&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new u),c(e,r,o)):s?(t||(t=new s),p(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},9544:function(e,t){"use strict";t.Q=function(e){var t=String(e||"").trim();return""===t?[]:t.split(n)};var n=/[ \t\n\r\f]+/g},5086:function(e,t,n){"use strict";var r=n(6149),o=n(4093),i=n(1383),a=n(9201),u=n(344),s=n(5243),l=n(4037),c=n(697)(),f=n(3535),d=l("String.prototype.indexOf"),p=n(3017),h=function(e){var t=p();if(c&&"symbol"===typeof Symbol.matchAll){var n=i(e,Symbol.matchAll);return n===RegExp.prototype[Symbol.matchAll]&&n!==t?t:n}if(a(e))return t};e.exports=function(e){var t=s(this);if("undefined"!==typeof e&&null!==e){if(a(e)){var n="flags"in e?o(e,"flags"):f(e);if(s(n),d(u(n),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var i=h(e);if("undefined"!==typeof i)return r(i,e,[t])}var l=u(t),c=new RegExp(e,"g");return r(h(c),c,[l])}},9354:function(e,t,n){"use strict";var r=n(9722),o=n(9396),i=n(5086),a=n(6651),u=n(3038),s=r(i);o(s,{getPolyfill:a,implementation:i,shim:u}),e.exports=s},3017:function(e,t,n){"use strict";var r=n(697)(),o=n(999);e.exports=function(){return r&&"symbol"===typeof Symbol.matchAll&&"function"===typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:o}},6651:function(e,t,n){"use strict";var r=n(5086);e.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch(e){return String.prototype.matchAll}return r}},999:function(e,t,n){"use strict";var r=n(8614),o=n(4093),i=n(125),a=n(3664),u=n(1885),s=n(344),l=n(8711),c=n(3535),f=n(4037)("String.prototype.indexOf"),d=RegExp,p="flags"in RegExp.prototype,h=function(e){var t=this;if("Object"!==l(t))throw new TypeError('"this" value must be an Object');var n=s(e),h=function(e,t){var n="flags"in t?o(t,"flags"):s(c(t));return{flags:n,matcher:new e(p&&"string"===typeof n?t:e===d?t.source:t,n)}}(a(t,d),t),v=h.flags,m=h.matcher,g=u(o(t,"lastIndex"));i(m,"lastIndex",g,!0);var y=f(v,"g")>-1,b=f(v,"u")>-1;return r(m,n,y,b)},v=Object.defineProperty,m=Object.getOwnPropertyDescriptor;if(v&&m){var g=m(h,"name");g&&g.configurable&&v(h,"name",{value:"[Symbol.matchAll]"})}e.exports=h},3038:function(e,t,n){"use strict";var r=n(9396),o=n(697)(),i=n(6651),a=n(3017),u=Object.defineProperty,s=Object.getOwnPropertyDescriptor;e.exports=function(){var e=i();if(r(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),o){var t=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(r(Symbol,{matchAll:t},{matchAll:function(){return Symbol.matchAll!==t}}),u&&s){var n=s(Symbol,t);n&&!n.configurable||u(Symbol,t,{configurable:!1,enumerable:!1,value:t,writable:!1})}var l=a(),c={};c[t]=l;var f={};f[t]=function(){return RegExp.prototype[t]!==l},r(RegExp.prototype,c,f)}return e}},5887:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e};var t=Object.prototype.hasOwnProperty},4654:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),o=n(9617);function i(t,n,a){return o()?(e.exports=i=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),o=n(9617),i=n(4993);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,o=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),o=n(9498),i=n(6116),a=n(2281);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,o=n(5036);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),o=n(6015),i=n(6035),a=n(3515);function u(t){var n="function"===typeof Map?new Map:void 0;return e.exports=u=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},2020:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.lexer=t.states=void 0;var o=r(n(7950));t.states={body:{doubleapos:{match:"''",value:function(){return"'"}},quoted:{lineBreaks:!0,match:/'[#\{\}](?:(?:(?![])[\s\S])*?(?:(?!')[\s\S]))?'(?!')/,value:function(e){return e.slice(1,-1).replace(/''/g,"'")}},argument:{lineBreaks:!0,match:/\{[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,push:"arg",value:function(e){return e.substring(1).trim()}},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/(?:(?![])[\s\S])(?:(?![#'\{\}])[\s\S])*/}},arg:{select:{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:plural|select|selectordinal)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,next:"select",value:function(e){return e.split(",")[1].trim()}},"func-args":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,/,next:"body",value:function(e){return e.split(",")[1].trim()}},"func-simple":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(e){return e.substring(1).trim()}},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*offset[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*[0-9]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(e){return e.split(":")[1].trim()}},case:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:=[0-9]+|(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{/,push:"body",value:function(e){return e.substring(0,e.indexOf("{")).trim()}},end:{match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\}/,pop:1}}},t.lexer=o.default.states(t.states)},6091:function(e,t,n){"use strict";var r=n(9728).default,o=n(6690).default,i=n(1655).default,a=n(6389).default,u=n(3496).default,s=n(4704).default;var l=n(2020),c=function(e){return{offset:e.offset,line:e.line,col:e.col,text:e.text,lineBreaks:e.lineBreaks}},f=function(e){return"plural"===e||"select"===e||"selectordinal"===e};var d=["number","date","time","spellout","ordinal","duration"],p=["zero","one","two","few","many","other"],h=function(e){i(n,e);var t=a(n);function n(e,r){return o(this,n),t.call(this,l.lexer.formatError(e,r))}return r(n)}(u(Error));var v=function(){function e(t,n){o(this,e),this.lexer=l.lexer.reset(t),this.cardinalKeys=n&&n.cardinal||p,this.ordinalKeys=n&&n.ordinal||p,this.strict=n&&n.strict||!1}return r(e,[{key:"parse",value:function(){return this.parseBody(!1,!0)}},{key:"checkSelectKey",value:function(e,t,n){if("="===n[0]){if("select"===t)throw new h(e,"The case ".concat(n," is not valid with select"))}else if("select"!==t){var r="plural"===t?this.cardinalKeys:this.ordinalKeys;if(r.length>0&&!r.includes(n)){var o="The ".concat(t," case ").concat(n," is not valid in this locale");throw new h(e,o)}}}},{key:"parseSelect",value:function(e,t,n,r){var o={type:r,arg:e.value,cases:[],ctx:n};"plural"===r||"selectordinal"===r?t=!0:this.strict&&(t=!1);var i,a=s(this.lexer);try{for(a.s();!(i=a.n()).done;){var u=i.value;switch(u.type){case"offset":if("select"===r)throw new h(u,"Unexpected plural offset for select");if(o.cases.length>0)throw new h(u,"Plural offset must be set before cases");o.pluralOffset=Number(u.value),n.text+=u.text,n.lineBreaks+=u.lineBreaks;break;case"case":this.checkSelectKey(u,r,u.value),o.cases.push({key:u.value,tokens:this.parseBody(t),ctx:c(u)});break;case"end":return o;default:throw new h(u,"Unexpected lexer token: ".concat(u.type))}}}catch(l){a.e(l)}finally{a.f()}throw new h(null,"Unexpected message end")}},{key:"parseArgToken",value:function(e,t){var n=c(e),r=this.lexer.next();if(!r)throw new h(null,"Unexpected message end");if(n.text+=r.text,n.lineBreaks+=r.lineBreaks,this.strict&&("func-simple"===r.type||"func-args"===r.type)&&!d.includes(r.value)){var o="Invalid strict mode function arg type: ".concat(r.value);throw new h(e,o)}switch(r.type){case"end":return{type:"argument",arg:e.value,ctx:n};case"func-simple":var i=this.lexer.next();if(!i)throw new h(null,"Unexpected message end");if("end"!==i.type)throw new h(i,"Unexpected lexer token: ".concat(i.type));if(n.text+=i.text,f(r.value.toLowerCase()))throw new h(r,"Invalid type identifier: ".concat(r.value));return{type:"function",arg:e.value,key:r.value,ctx:n};case"func-args":if(f(r.value.toLowerCase())){var a="Invalid type identifier: ".concat(r.value);throw new h(r,a)}var u=this.parseBody(!this.strict&&t);return this.strict&&u.length>0&&(u=function(e,t){var n,r="",o="",i=s(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=a.ctx.text;switch(o+=u,a.type){case"content":r+=a.value;break;case"argument":case"function":case"octothorpe":r+=u;break;default:throw new h(e,"Unsupported part in strict mode function arg style: ".concat(u))}}}catch(l){i.e(l)}finally{i.f()}return[{type:"content",value:r.trim(),ctx:Object.assign({},t[0].ctx,{text:o})}]}(e,u)),{type:"function",arg:e.value,key:r.value,param:u,ctx:n};case"select":if(f(r.value))return this.parseSelect(e,t,n,r.value);throw new h(r,"Unexpected select type ".concat(r.value));default:throw new h(r,"Unexpected lexer token: ".concat(r.type))}}},{key:"parseBody",value:function(e,t){var n,r=[],o=null,i=s(this.lexer);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("argument"===a.type)o&&(o=null),r.push(this.parseArgToken(a,e));else if("octothorpe"===a.type&&e)o&&(o=null),r.push({type:"octothorpe",ctx:c(a)});else{if("end"===a.type&&!t)return r;var u=a.value;if(!e&&"quoted"===a.type&&"#"===u[0]){if(u.includes("{")){var l="Unsupported escape pattern: ".concat(u);throw new h(a,l)}u=a.text}o?(o.value+=u,o.ctx.text+=a.text,o.ctx.lineBreaks+=a.lineBreaks):(o={type:"content",value:u,ctx:c(a)},r.push(o))}}}catch(f){i.e(f)}finally{i.f()}if(t)return r;throw new h(null,"Unexpected message end")}}]),e}()},5741:function(e,t,n){"use strict";var r=n(2506),o=n(3891),i=n(3337),a=n(8711),u=n(2066),s=r("%TypeError%");e.exports=function(e,t,n){if("String"!==a(e))throw new s("Assertion failed: `S` must be a String");if(!i(t)||t<0||t>u)throw new s("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("Boolean"!==a(n))throw new s("Assertion failed: `unicode` must be a Boolean");return n?t+1>=e.length?t+1:t+o(e,t)["[[CodeUnitCount]]"]:t+1}},6149:function(e,t,n){"use strict";var r=n(2506),o=n(4037),i=r("%TypeError%"),a=n(5177),u=r("%Reflect.apply%",!0)||o("%Function.prototype.apply%");e.exports=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!a(n))throw new i("Assertion failed: optional `argumentsList`, if provided, must be a List");return u(e,t,n)}},3891:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(4037),i=n(7329),a=n(3287),u=n(8711),s=n(6858),l=o("String.prototype.charAt"),c=o("String.prototype.charCodeAt");e.exports=function(e,t){if("String"!==u(e))throw new r("Assertion failed: `string` must be a String");var n=e.length;if(t<0||t>=n)throw new r("Assertion failed: `position` must be >= 0, and < the length of `string`");var o=c(e,t),f=l(e,t),d=i(o),p=a(o);if(!d&&!p)return{"[[CodePoint]]":f,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(p||t+1===n)return{"[[CodePoint]]":f,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var h=c(e,t+1);return a(h)?{"[[CodePoint]]":s(o,h),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":f,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},5636:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(8711);e.exports=function(e,t){if("Boolean"!==o(t))throw new r("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}}},1674:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(1714),i=n(3241),a=n(7398),u=n(8777),s=n(8245),l=n(8711);e.exports=function(e,t,n){if("Object"!==l(e))throw new r("Assertion failed: Type(O) is not Object");if(!u(t))throw new r("Assertion failed: IsPropertyKey(P) is not true");return o(a,s,i,e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":n,"[[Writable]]":!0})}},8614:function(e,t,n){"use strict";var r=n(2506),o=n(697)(),i=r("%TypeError%"),a=r("%IteratorPrototype%",!0),u=n(5741),s=n(5636),l=n(1674),c=n(4093),f=n(5676),d=n(8444),p=n(125),h=n(1885),v=n(344),m=n(8711),g=n(3865),y=n(5663),b=function(e,t,n,r){if("String"!==m(t))throw new i("`S` must be a string");if("Boolean"!==m(n))throw new i("`global` must be a boolean");if("Boolean"!==m(r))throw new i("`fullUnicode` must be a boolean");g.set(this,"[[IteratingRegExp]]",e),g.set(this,"[[IteratedString]]",t),g.set(this,"[[Global]]",n),g.set(this,"[[Unicode]]",r),g.set(this,"[[Done]]",!1)};a&&(b.prototype=f(a));if(l(b.prototype,"next",(function(){var e=this;if("Object"!==m(e))throw new i("receiver must be an object");if(!(e instanceof b)||!g.has(e,"[[IteratingRegExp]]")||!g.has(e,"[[IteratedString]]")||!g.has(e,"[[Global]]")||!g.has(e,"[[Unicode]]")||!g.has(e,"[[Done]]"))throw new i('"this" value must be a RegExpStringIterator instance');if(g.get(e,"[[Done]]"))return s(void 0,!0);var t=g.get(e,"[[IteratingRegExp]]"),n=g.get(e,"[[IteratedString]]"),r=g.get(e,"[[Global]]"),o=g.get(e,"[[Unicode]]"),a=d(t,n);if(null===a)return g.set(e,"[[Done]]",!0),s(void 0,!0);if(r){if(""===v(c(a,"0"))){var l=h(c(t,"lastIndex")),f=u(n,l,o);p(t,"lastIndex",f,!0)}return s(a,!1)}return g.set(e,"[[Done]]",!0),s(a,!1)})),o&&(y(b.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!==typeof b.prototype[Symbol.iterator])){l(b.prototype,Symbol.iterator,(function(){return this}))}e.exports=function(e,t,n,r){return new b(e,t,n,r)}},2078:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(6182),i=n(1714),a=n(3241),u=n(7605),s=n(7398),l=n(8777),c=n(8245),f=n(8023),d=n(8711);e.exports=function(e,t,n){if("Object"!==d(e))throw new r("Assertion failed: Type(O) is not Object");if(!l(t))throw new r("Assertion failed: IsPropertyKey(P) is not true");var p=o({Type:d,IsDataDescriptor:s,IsAccessorDescriptor:u},n)?n:f(n);if(!o({Type:d,IsDataDescriptor:s,IsAccessorDescriptor:u},p))throw new r("Assertion failed: Desc is not a valid Property Descriptor");return i(s,c,a,e,t,p)}},3241:function(e,t,n){"use strict";var r=n(9013),o=n(6460),i=n(8711);e.exports=function(e){return"undefined"!==typeof e&&r(i,"Property Descriptor","Desc",e),o(e)}},4093:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(2584),i=n(8777),a=n(8711);e.exports=function(e,t){if("Object"!==a(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(t))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+o(t));return e[t]}},1383:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(8415),i=n(4642),a=n(8777),u=n(2584);e.exports=function(e,t){if(!a(t))throw new r("Assertion failed: IsPropertyKey(P) is not true");var n=o(e,t);if(null!=n){if(!i(n))throw new r(t+" is not a function: "+u(n));return n}}},8415:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(8777),i=n(6318);e.exports=function(e,t){if(!o(t))throw new r("Assertion failed: IsPropertyKey(P) is not true");return i(e)[t]}},7605:function(e,t,n){"use strict";var r=n(8316),o=n(9013),i=n(8711);e.exports=function(e){return"undefined"!==typeof e&&(o(i,"Property Descriptor","Desc",e),!(!r(e,"[[Get]]")&&!r(e,"[[Set]]")))}},5177:function(e,t,n){"use strict";e.exports=n(2726)},4642:function(e,t,n){"use strict";e.exports=n(460)},9886:function(e,t,n){"use strict";var r=n(2049)("%Reflect.construct%",!0),o=n(2078);try{o({},"",{"[[Get]]":function(){}})}catch(u){o=null}if(o&&r){var i={},a={};o(a,"length",{"[[Get]]":function(){throw i},"[[Enumerable]]":!0}),e.exports=function(e){try{r(e,a)}catch(t){return t===i}}}else e.exports=function(e){return"function"===typeof e&&!!e.prototype}},7398:function(e,t,n){"use strict";var r=n(8316),o=n(9013),i=n(8711);e.exports=function(e){return"undefined"!==typeof e&&(o(i,"Property Descriptor","Desc",e),!(!r(e,"[[Value]]")&&!r(e,"[[Writable]]")))}},3337:function(e,t,n){"use strict";var r=n(6853),o=n(6053),i=n(8711),a=n(6370),u=n(1968);e.exports=function(e){if("Number"!==i(e)||a(e)||!u(e))return!1;var t=r(e);return o(t)===t}},8777:function(e){"use strict";e.exports=function(e){return"string"===typeof e||"symbol"===typeof e}},9201:function(e,t,n){"use strict";var r=n(2506)("%Symbol.match%",!0),o=n(1146),i=n(6837);e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(r){var t=e[r];if("undefined"!==typeof t)return i(t)}return o(e)}},5676:function(e,t,n){"use strict";var r=n(2506),o=r("%Object.create%",!0),i=r("%TypeError%"),a=r("%SyntaxError%"),u=n(5177),s=n(8711),l=n(9747),c=n(3865),f=n(2203)();e.exports=function(e){if(null!==e&&"Object"!==s(e))throw new i("Assertion failed: `proto` must be null or an object");var t,n=arguments.length<2?[]:arguments[1];if(!u(n))throw new i("Assertion failed: `additionalInternalSlotsList` must be an Array");if(o)t=o(e);else if(f)t={__proto__:e};else{if(null===e)throw new a("native Object.create support is required to create null objects");var r=function(){};r.prototype=e,t=new r}return n.length>0&&l(n,(function(e){c.set(t,e,void 0)})),t}},8444:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(4037)("RegExp.prototype.exec"),i=n(6149),a=n(4093),u=n(4642),s=n(8711);e.exports=function(e,t){if("Object"!==s(e))throw new r("Assertion failed: `R` must be an Object");if("String"!==s(t))throw new r("Assertion failed: `S` must be a String");var n=a(e,"exec");if(u(n)){var l=i(n,e,[t]);if(null===l||"Object"===s(l))return l;throw new r('"exec" method must return `null` or an Object')}return o(e,t)}},5243:function(e,t,n){"use strict";e.exports=n(642)},8245:function(e,t,n){"use strict";var r=n(6370);e.exports=function(e,t){return e===t?0!==e||1/e===1/t:r(e)&&r(t)}},125:function(e,t,n){"use strict";var r=n(2506)("%TypeError%"),o=n(8777),i=n(8245),a=n(8711),u=function(){try{return delete[].length,!0}catch(e){return!1}}();e.exports=function(e,t,n,s){if("Object"!==a(e))throw new r("Assertion failed: `O` must be an Object");if(!o(t))throw new r("Assertion failed: `P` must be a Property Key");if("Boolean"!==a(s))throw new r("Assertion failed: `Throw` must be a Boolean");if(s){if(e[t]=n,u&&!i(e[t],n))throw new r("Attempted to assign to readonly property.");return!0}try{return e[t]=n,!u||i(e[t],n)}catch(l){return!1}}},3664:function(e,t,n){"use strict";var r=n(2506),o=r("%Symbol.species%",!0),i=r("%TypeError%"),a=n(9886),u=n(8711);e.exports=function(e,t){if("Object"!==u(e))throw new i("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"===typeof n)return t;if("Object"!==u(n))throw new i("O.constructor is not an Object");var r=o?n[o]:void 0;if(null==r)return t;if(a(r))return r;throw new i("no constructor found")}},4517:function(e,t,n){"use strict";var r=n(2506),o=r("%Number%"),i=r("%RegExp%"),a=r("%TypeError%"),u=r("%parseInt%"),s=n(4037),l=n(417),c=s("String.prototype.slice"),f=l(/^0b[01]+$/i),d=l(/^0o[0-7]+$/i),p=l(/^[-+]0x[0-9a-f]+$/i),h=l(new i("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),v=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),m=new RegExp("(^["+v+"]+)|(["+v+"]+$)","g"),g=s("String.prototype.replace"),y=n(8711);e.exports=function e(t){if("String"!==y(t))throw new a("Assertion failed: `argument` is not a String");if(f(t))return o(u(c(t,2),2));if(d(t))return o(u(c(t,2),8));if(h(t)||p(t))return NaN;var n=g(t,m,"");return n!==t?e(n):o(t)}},6837:function(e){"use strict";e.exports=function(e){return!!e}},3023:function(e,t,n){"use strict";var r=n(6853),o=n(6053),i=n(2354),a=n(6370),u=n(1968),s=n(9213);e.exports=function(e){var t=i(e);if(a(t)||0===t)return 0;if(!u(t))return t;var n=o(r(t));return 0===n?0:s(t)*n}},1885:function(e,t,n){"use strict";var r=n(2066),o=n(3023);e.exports=function(e){var t=o(e);return t<=0?0:t>r?r:t}},2354:function(e,t,n){"use strict";var r=n(2506),o=r("%TypeError%"),i=r("%Number%"),a=n(5893),u=n(433),s=n(4517);e.exports=function(e){var t=a(e)?e:u(e,i);if("symbol"===typeof t)throw new o("Cannot convert a Symbol value to a number");if("bigint"===typeof t)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");return"string"===typeof t?s(t):i(t)}},6318:function(e,t,n){"use strict";var r=n(2506)("%Object%"),o=n(5243);e.exports=function(e){return o(e),r(e)}},433:function(e,t,n){"use strict";var r=n(882);e.exports=function(e){return arguments.length>1?r(e,arguments[1]):r(e)}},8023:function(e,t,n){"use strict";var r=n(8316),o=n(2506)("%TypeError%"),i=n(8711),a=n(6837),u=n(4642);e.exports=function(e){if("Object"!==i(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(r(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),r(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),r(e,"value")&&(t["[[Value]]"]=e.value),r(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),r(e,"get")){var n=e.get;if("undefined"!==typeof n&&!u(n))throw new o("getter must be a function");t["[[Get]]"]=n}if(r(e,"set")){var s=e.set;if("undefined"!==typeof s&&!u(s))throw new o("setter must be a function");t["[[Set]]"]=s}if((r(t,"[[Get]]")||r(t,"[[Set]]"))&&(r(t,"[[Value]]")||r(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},344:function(e,t,n){"use strict";var r=n(2506),o=r("%String%"),i=r("%TypeError%");e.exports=function(e){if("symbol"===typeof e)throw new i("Cannot convert a Symbol value to a string");return o(e)}},8711:function(e,t,n){"use strict";var r=n(1866);e.exports=function(e){return"symbol"===typeof e?"Symbol":"bigint"===typeof e?"BigInt":r(e)}},6858:function(e,t,n){"use strict";var r=n(2506),o=r("%TypeError%"),i=r("%String.fromCharCode%"),a=n(7329),u=n(3287);e.exports=function(e,t){if(!a(e)||!u(t))throw new o("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return i(e)+i(t)}},6853:function(e,t,n){"use strict";var r=n(2506)("%Math.abs%");e.exports=function(e){return r(e)}},6053:function(e,t,n){"use strict";var r=n(8711),o=Math.floor;e.exports=function(e){return"BigInt"===r(e)?e:o(e)}},642:function(e,t,n){"use strict";var r=n(2506)("%TypeError%");e.exports=function(e,t){if(null==e)throw new r(t||"Cannot call method on "+e);return e}},1866:function(e){"use strict";e.exports=function(e){return null===e?"Null":"undefined"===typeof e?"Undefined":"function"===typeof e||"object"===typeof e?"Object":"number"===typeof e?"Number":"boolean"===typeof e?"Boolean":"string"===typeof e?"String":void 0}},2049:function(e,t,n){"use strict";e.exports=n(2506)},1714:function(e,t,n){"use strict";var r=n(4510),o=n(2506),i=r()&&o("%Object.defineProperty%",!0),a=r.hasArrayLengthDefineBug(),u=a&&n(2726),s=n(4037)("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,n,r,o,l){if(!i){if(!e(l))return!1;if(!l["[[Configurable]]"]||!l["[[Writable]]"])return!1;if(o in r&&s(r,o)!==!!l["[[Enumerable]]"])return!1;var c=l["[[Value]]"];return r[o]=c,t(r[o],c)}return a&&"length"===o&&"[[Value]]"in l&&u(r)&&r.length!==l["[[Value]]"]?(r.length=l["[[Value]]"],r.length===l["[[Value]]"]):(i(r,o,n(l)),!0)}},2726:function(e,t,n){"use strict";var r=n(2506)("%Array%"),o=!r.isArray&&n(4037)("Object.prototype.toString");e.exports=r.isArray||function(e){return"[object Array]"===o(e)}},9013:function(e,t,n){"use strict";var r=n(2506),o=r("%TypeError%"),i=r("%SyntaxError%"),a=n(8316),u={"Property Descriptor":function(e){var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(a(e,n)&&!t[n])return!1;var r=a(e,"[[Value]]"),i=a(e,"[[Get]]")||a(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":n(3607),"Iterator Record":function(e){return a(e,"[[Iterator]]")&&a(e,"[[NextMethod]]")&&a(e,"[[Done]]")},"PromiseCapability Record":function(e){return e&&a(e,"[[Resolve]]")&&"function"===typeof e["[[Resolve]]"]&&a(e,"[[Reject]]")&&"function"===typeof e["[[Reject]]"]&&a(e,"[[Promise]]")&&e["[[Promise]]"]&&"function"===typeof e["[[Promise]]"].then},"AsyncGeneratorRequest Record":function(e){return e&&a(e,"[[Completion]]")&&a(e,"[[Capability]]")&&u["PromiseCapability Record"](e["[[Capability]]"])}};e.exports=function(e,t,n,r){var a=u[t];if("function"!==typeof a)throw new i("unknown record type: "+t);if("Object"!==e(r)||!a(r))throw new o(n+" must be a "+t)}},9747:function(e){"use strict";e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},6460:function(e){"use strict";e.exports=function(e){if("undefined"===typeof e)return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}},1968:function(e,t,n){"use strict";var r=n(6370);e.exports=function(e){return("number"===typeof e||"bigint"===typeof e)&&!r(e)&&e!==1/0&&e!==-1/0}},7329:function(e){"use strict";e.exports=function(e){return"number"===typeof e&&e>=55296&&e<=56319}},3607:function(e,t,n){"use strict";var r=n(8316);e.exports=function(e){return r(e,"[[StartIndex]]")&&r(e,"[[EndIndex]]")&&e["[[StartIndex]]"]>=0&&e["[[EndIndex]]"]>=e["[[StartIndex]]"]&&String(parseInt(e["[[StartIndex]]"],10))===String(e["[[StartIndex]]"])&&String(parseInt(e["[[EndIndex]]"],10))===String(e["[[EndIndex]]"])}},6370:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},5893:function(e){"use strict";e.exports=function(e){return null===e||"function"!==typeof e&&"object"!==typeof e}},6182:function(e,t,n){"use strict";var r=n(2506),o=n(8316),i=r("%TypeError%");e.exports=function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(o(t,r)&&!n[r])return!1;if(e.IsDataDescriptor(t)&&e.IsAccessorDescriptor(t))throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}},3287:function(e){"use strict";e.exports=function(e){return"number"===typeof e&&e>=56320&&e<=57343}},2066:function(e,t,n){"use strict";var r=n(2506),o=r("%Math%"),i=r("%Number%");e.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},9213:function(e){"use strict";e.exports=function(e){return e>=0?1:-1}},7452:function(e){"use strict";e.exports=JSON.parse('{"AElig":"\xc6","AMP":"&","Aacute":"\xc1","Acirc":"\xc2","Agrave":"\xc0","Aring":"\xc5","Atilde":"\xc3","Auml":"\xc4","COPY":"\xa9","Ccedil":"\xc7","ETH":"\xd0","Eacute":"\xc9","Ecirc":"\xca","Egrave":"\xc8","Euml":"\xcb","GT":">","Iacute":"\xcd","Icirc":"\xce","Igrave":"\xcc","Iuml":"\xcf","LT":"<","Ntilde":"\xd1","Oacute":"\xd3","Ocirc":"\xd4","Ograve":"\xd2","Oslash":"\xd8","Otilde":"\xd5","Ouml":"\xd6","QUOT":"\\"","REG":"\xae","THORN":"\xde","Uacute":"\xda","Ucirc":"\xdb","Ugrave":"\xd9","Uuml":"\xdc","Yacute":"\xdd","aacute":"\xe1","acirc":"\xe2","acute":"\xb4","aelig":"\xe6","agrave":"\xe0","amp":"&","aring":"\xe5","atilde":"\xe3","auml":"\xe4","brvbar":"\xa6","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","eacute":"\xe9","ecirc":"\xea","egrave":"\xe8","eth":"\xf0","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","iacute":"\xed","icirc":"\xee","iexcl":"\xa1","igrave":"\xec","iquest":"\xbf","iuml":"\xef","laquo":"\xab","lt":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","ntilde":"\xf1","oacute":"\xf3","ocirc":"\xf4","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","oslash":"\xf8","otilde":"\xf5","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","raquo":"\xbb","reg":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","thorn":"\xfe","times":"\xd7","uacute":"\xfa","ucirc":"\xfb","ugrave":"\xf9","uml":"\xa8","uuml":"\xfc","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},3580:function(e){"use strict";e.exports=JSON.parse('{"0":"\ufffd","128":"\u20ac","130":"\u201a","131":"\u0192","132":"\u201e","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02c6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017d","145":"\u2018","146":"\u2019","147":"\u201c","148":"\u201d","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02dc","153":"\u2122","154":"\u0161","155":"\u203a","156":"\u0153","158":"\u017e","159":"\u0178"}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.d(r,{jK:function(){return HL},l$:function(){return UL}});var e={};n.r(e),n.d(e,{_in:function(){return Wa},af:function(){return Ha},ak:function(){return Va},am:function(){return Ka},an:function(){return qa},ar:function(){return Ga},ars:function(){return Ja},as:function(){return Ya},asa:function(){return Xa},ast:function(){return Qa},az:function(){return Za},be:function(){return eu},bem:function(){return tu},bez:function(){return nu},bg:function(){return ru},bho:function(){return ou},bm:function(){return iu},bn:function(){return au},bo:function(){return uu},br:function(){return su},brx:function(){return lu},bs:function(){return cu},ca:function(){return fu},ce:function(){return du},ceb:function(){return pu},cgg:function(){return hu},chr:function(){return vu},ckb:function(){return mu},cs:function(){return gu},cy:function(){return yu},da:function(){return bu},de:function(){return ku},dsb:function(){return wu},dv:function(){return xu},dz:function(){return Su},ee:function(){return Eu},el:function(){return Cu},en:function(){return Au},eo:function(){return Du},es:function(){return Ou},et:function(){return _u},eu:function(){return Tu},fa:function(){return Mu},ff:function(){return Nu},fi:function(){return Ru},fil:function(){return Pu},fo:function(){return Iu},fr:function(){return Fu},fur:function(){return Lu},fy:function(){return Bu},ga:function(){return ju},gd:function(){return zu},gl:function(){return $u},gsw:function(){return Uu},gu:function(){return Wu},guw:function(){return Hu},gv:function(){return Vu},ha:function(){return Ku},haw:function(){return qu},he:function(){return Gu},hi:function(){return Ju},hr:function(){return Yu},hsb:function(){return Xu},hu:function(){return Qu},hy:function(){return Zu},ia:function(){return es},id:function(){return ts},ig:function(){return ns},ii:function(){return rs},io:function(){return is},is:function(){return as},it:function(){return us},iu:function(){return ss},iw:function(){return ls},ja:function(){return cs},jbo:function(){return fs},jgo:function(){return ds},ji:function(){return ps},jmc:function(){return hs},jv:function(){return vs},jw:function(){return ms},ka:function(){return gs},kab:function(){return ys},kaj:function(){return bs},kcg:function(){return ks},kde:function(){return ws},kea:function(){return xs},kk:function(){return Ss},kkj:function(){return Es},kl:function(){return Cs},km:function(){return As},kn:function(){return Ds},ko:function(){return Os},ks:function(){return _s},ksb:function(){return Ts},ksh:function(){return Ms},ku:function(){return Ns},kw:function(){return Rs},ky:function(){return Ps},lag:function(){return Is},lb:function(){return Fs},lg:function(){return Ls},lkt:function(){return Bs},ln:function(){return js},lo:function(){return zs},lt:function(){return $s},lv:function(){return Us},mas:function(){return Ws},mg:function(){return Hs},mgo:function(){return Vs},mk:function(){return Ks},ml:function(){return qs},mn:function(){return Gs},mo:function(){return Js},mr:function(){return Ys},ms:function(){return Xs},mt:function(){return Qs},my:function(){return Zs},nah:function(){return el},naq:function(){return tl},nb:function(){return nl},nd:function(){return rl},ne:function(){return ol},nl:function(){return il},nn:function(){return al},nnh:function(){return ul},no:function(){return sl},nqo:function(){return ll},nr:function(){return cl},nso:function(){return fl},ny:function(){return dl},nyn:function(){return pl},om:function(){return hl},or:function(){return vl},os:function(){return ml},osa:function(){return gl},pa:function(){return yl},pap:function(){return bl},pl:function(){return kl},prg:function(){return wl},ps:function(){return xl},pt:function(){return Sl},pt_PT:function(){return El},rm:function(){return Cl},ro:function(){return Al},rof:function(){return Dl},root:function(){return Ol},ru:function(){return _l},rwk:function(){return Tl},sah:function(){return Ml},saq:function(){return Nl},sc:function(){return Rl},scn:function(){return Pl},sd:function(){return Il},sdh:function(){return Fl},se:function(){return Ll},seh:function(){return Bl},ses:function(){return jl},sg:function(){return zl},sh:function(){return $l},shi:function(){return Ul},si:function(){return Wl},sk:function(){return Hl},sl:function(){return Vl},sma:function(){return Kl},smi:function(){return ql},smj:function(){return Gl},smn:function(){return Jl},sms:function(){return Yl},sn:function(){return Xl},so:function(){return Ql},sq:function(){return Zl},sr:function(){return ec},ss:function(){return tc},ssy:function(){return nc},st:function(){return rc},su:function(){return oc},sv:function(){return ic},sw:function(){return ac},syr:function(){return uc},ta:function(){return sc},te:function(){return lc},teo:function(){return cc},th:function(){return fc},ti:function(){return dc},tig:function(){return pc},tk:function(){return hc},tl:function(){return vc},tn:function(){return mc},to:function(){return gc},tr:function(){return yc},ts:function(){return bc},tzm:function(){return kc},ug:function(){return wc},uk:function(){return xc},ur:function(){return Sc},uz:function(){return Ec},ve:function(){return Cc},vi:function(){return Ac},vo:function(){return Dc},vun:function(){return Oc},wa:function(){return _c},wae:function(){return Tc},wo:function(){return Mc},xh:function(){return Nc},xog:function(){return Rc},yi:function(){return Pc},yo:function(){return Ic},yue:function(){return Fc},zh:function(){return Lc},zu:function(){return Bc}});var t=n(2791),o=n(1250);function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||c(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Xe){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function E(e){var t=w();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var C="main_noselect__P0UNX",A="main_reselect__3Kfyw",D="main_nodrag__5SOZJ",O="Oinkedit_tasks__cpo3m",_="Oinkedit_right__dTViG",T="Oinkedit_taskbar__A8pMb";function M(e){for(var t="",n=0;n<e;n++){var r=Math.floor(36*Math.random());t+=r<10?r:String.fromCharCode(r+87)}return t}function N(e,t){for(var n=Math.max(e.length,t.length),r=[],o=0;o<n;o++)e[o]&&(r[o]?r[o]=[].concat(d(r[o]),d(e[o])):r[o]=d(e[o])),t[o]&&(r[o]?r[o]=[].concat(d(r[o]),d(t[o])):r[o]=d(t[o]));return r}function R(e){for(var t=[],n=0;n<e.length;n++)e[n]&&(t=[].concat(d(t),d(e[n])));return t}var P={version:"0.9 pre3",dev:!0,skipSW:!1,isPreVersion:!0,timeLimit:120,whatsnew:{},themePoem:""};!function e(t){for(var n in Object.freeze(t),t)"object"==typeof t[n]&&e(t[n])}(P),Object.defineProperty(window,"oeMeta",{configurable:!1,enumerable:!0,writable:!1,value:P});var I=P,F="Logo_svg__GHNE9",L=n(184),B=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"render",value:function(){return(0,L.jsx)("div",{className:"".concat(C," ").concat(D),title:this.props.title,style:{width:this.props.size,height:this.props.size},children:(0,L.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 400",className:F,children:[(0,L.jsx)("path",{d:"M368.5 148.2c-2.4 1-52 20.3-90-9.8-6.1-4.8-34.3-28.5-30.4-64 3.1-28.9 25.4-44.7 28.2-46.6 20.2-14 50.3-17.9 73.8-2.2 32.9 22 26.7 65.4 26 69.4-3.9 24.8-20.4 41.3-28.2 48.8C308 182 195.3 265.2 40.9 368.4c51.1-67.9 192-258.7 182.8-296.7-.7-2.9-2.5-10.3-7.6-11.9-12.4-4-35.5 28.9-46.6 55.3-8.1 19.5-12.3 40.6-11.9 61.8",fill:"none",stroke:"#000",strokeWidth:"12",strokeMiterlimit:"10"}),(0,L.jsx)("path",{d:"M339 154.2c-1 .2-2.3.4-3.9.8-29.2 4.6-53.8-14.3-56.7-16.6-5.4-4.2-34.4-28-30.4-64 3.1-28.9 25.4-44.7 28.2-46.6 20.2-13.9 50.3-17.9 73.8-2.2 33 22.1 26.6 65.8 26 69.4-4 24.9-21.5 42.6-27.2 48.4-4.3 4.3-9 8.4-14.1 11.9",fill:"#3cf",stroke:"#000",strokeWidth:"12",strokeMiterlimit:"10"})]})})}}]),n}(t.Component),j="VWSpace_VWSpace__g3wpk";function z(e){return(0,L.jsx)("div",{className:j,style:{height:e.height}})}function $(e,t,n){return n?(localStorage.setItem(e,t),t):void 0!==t?null!==(r=localStorage.getItem(e))&&void 0!==r?r:(localStorage.setItem(e,t),t):localStorage.getItem(e);var r}var U={taskbar:{customText:"Double click here to edit motto",timeMaster:{title:"Task Management"},noLabel:"Untitled"},contentEditor:{placeholder:"Start your story..."},start:{titleTip:"Menu"},background:{tips:[(0,L.jsx)("div",{children:"Open main menu\u3000\u3000Click on the logo in the left of taskbar"},"menu"),(0,L.jsxs)("div",{children:["Open external files\u3000\u3000",(0,L.jsx)("kbd",{children:"Ctrl"})," + ",(0,L.jsx)("kbd",{children:"O"})]},"external")]},errors:{rootElNotFound:{main:"Cannot find the root HTML DOM element used to mount the app.",causedByOriginEl:"Cannot find an element with id `oinkedit` in the document. If you use a custom element, please confirm that `window.oeRoot` is set as the ID of the element.",causedByCustomEl:"Cannot find the custom element in the document. If you do not use a custom element, please take a look at `window.oeRoot`."},windowGeneric:"The app inside this window had encountered an error and crashed. Try restarting this app.",intrinsicApps:{indexer:{noSuchBook:"No books matched with specific ID."}}},debug:{skipSW_Electron:"Skipped Service Worker registration in Elecrton environment",skipSW_Dev:"Skipped Service Worker registration in development environment"}},W={taskbar:{customText:"\u51fb\u6b64\u518d\u4ee5\u8f91\u6b64\u7bb4\u8a00",timeMaster:{title:"\u89c8\u8bf8\u52a1"},noLabel:"\u65e0\u9898"},contentEditor:{placeholder:"\u59cb\u8457\u4e8e\u6b64\u2026\u2026"},start:{titleTip:"\u83dc\u5355"},background:{tips:[(0,L.jsx)("div",{children:"\u542f\u5927\u83dc\u5355\u3000\u3000\u51fb\u516c\u52a1\u67b6\u5de6\u4fa7\u4e4b\u8bc6\u8bb0"},"menu"),(0,L.jsxs)("div",{children:["\u53d6\u4e66\u81ea\u57df\u5916\u4e4b\u7252\u3000\u3000\u9f50\u51fb ",(0,L.jsx)("kbd",{children:"Ctrl"})," \u4e0e ",(0,L.jsx)("kbd",{children:"O"})]},"external")]},errors:{rootElNotFound:{main:"\u5bfb\u8f7d\u7a0b\u5f0f\u4e4b\u6839\u800c\u65e0\u6240\u5f97\u3002",causedByOriginEl:"\u7252\u4e2d\u65e0\u7d20\u540d `oinkedit`\u3002\u82e5\u81ea\u5b9a\u7d20\uff0c\u8bf7\u7acb\u5176\u540d\u4e8e `window.oeRoot`\u3002",causedByCustomEl:"\u7252\u4e2d\u65e0\u81ea\u5b9a\u4e4b\u7d20\u3002\u82e5\u975e\u81ea\u5b9a\u7d20\uff0c\u8bf7\u4fdd `window.oeRoot` \u4e0d\u67d3\u6c61\u3002"},windowGeneric:"\u6b64\u7a0b\u5f0f\u6709\u5931\uff0c\u5df2\u5352\u3002\u8bf7\u8bd5\u800c\u590d\u542f\u4e4b\u3002",intrinsicApps:{indexer:{noSuchBook:"\u5faa\u5fd7\uff0c\u672a\u80fd\u5f97\u5176\u4e66\u3002"}}},debug:{skipSW_Electron:"\u7a0b\u5f0f\u884c\u4e8e\u672c\u5730\uff0c\u4e0d\u5f81\u4ee3\u7406\u4e4b\u5f79",skipSW_Dev:"\u9002\u9022\u6d4b\u8bd5\u4e4b\u51b5\uff0c\u4e0d\u5f81\u4ee3\u7406\u4e4b\u5f79"}},H={en_US:U,zh_hans:{taskbar:{customText:"\u53cc\u51fb\u6b64\u5904\u7f16\u8f91\u683c\u8a00",timeMaster:{title:"\u4efb\u52a1\u7ba1\u7406"},noLabel:"\u65e0\u6807\u9898"},contentEditor:{placeholder:"\u5f00\u59cb\u521b\u4f5c\u2026\u2026"},start:{titleTip:"\u83dc\u5355"},background:{tips:[(0,L.jsx)("div",{children:"\u6253\u5f00\u4e3b\u83dc\u5355\u3000\u3000\u5355\u51fb\u4efb\u52a1\u680f\u5de6\u4fa7 Logo"},"menu"),(0,L.jsxs)("div",{children:["\u6253\u5f00\u5916\u90e8\u6587\u4ef6\u3000\u3000",(0,L.jsx)("kbd",{children:"Ctrl"})," + ",(0,L.jsx)("kbd",{children:"O"})]},"external")]},errors:{rootElNotFound:{main:"\u627e\u4e0d\u5230\u7528\u4e8e\u6302\u8f7d\u5e94\u7528\u7684\u6839 HTML DOM \u5143\u7d20\u3002",causedByOriginEl:"\u65e0\u6cd5\u5728\u6587\u6863\u4e2d\u627e\u5230 ID \u4e3a `oinkedit` \u7684\u5143\u7d20\u3002\u5982\u679c\u60a8\u4f7f\u7528\u81ea\u5b9a\u4e49\u5143\u7d20\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5c06 `window.oeRoot` \u8bbe\u7f6e\u4e3a\u8be5\u5143\u7d20\u7684 ID\u3002",causedByCustomEl:"\u65e0\u6cd5\u5728\u6587\u6863\u4e2d\u627e\u5230\u81ea\u5b9a\u4e49\u5143\u7d20\u3002\u5982\u679c\u60a8\u4e0d\u4f7f\u7528\u81ea\u5b9a\u4e49\u5143\u7d20\uff0c\u8bf7\u786e\u8ba4 `window.oeRoot` \u662f\u5426\u88ab\u6c61\u67d3\u3002"},windowGeneric:"\u8be5\u7a97\u53e3\u4e2d\u7684\u5e94\u7528\u51fa\u73b0\u4e86\u4e00\u4e2a\u9519\u8bef\u5e76\u5df2\u5d29\u6e83\u3002\u5c1d\u8bd5\u91cd\u65b0\u542f\u52a8\u8fd9\u4e2a\u5e94\u7528\u3002",intrinsicApps:{indexer:{noSuchBook:"\u672a\u627e\u5230\u8be5 ID \u5bf9\u5e94\u7684\u4e66\u7c4d\u3002"}}},debug:{skipSW_Electron:"\u684c\u9762\u7248\uff0c\u8df3\u8fc7 Service Worker \u6ce8\u518c",skipSW_Dev:"\u5f00\u53d1\u6a21\u5f0f\uff0c\u8df3\u8fc7 Service Worker \u6ce8\u518c"}},zh_hant:{taskbar:{customText:"\u6309\u5169\u4e0b\u6b64\u8655\u6765\u7de8\u8f2f\u683c\u8a00",timeMaster:{title:"\u4efb\u52d9\u7ba1\u7406"},noLabel:"\u7121\u6a19\u984c"},contentEditor:{placeholder:"\u958b\u59cb\u5275\u4f5c\u2026\u2026"},start:{titleTip:"\u9078\u55ae"},background:{tips:[(0,L.jsx)("div",{children:"\u6253\u958b\u4e3b\u9078\u55ae\u3000\u3000\u6309\u4e0b\u5de5\u4f5c\u5217\u5de6\u5074 Logo"},"menu"),(0,L.jsxs)("div",{children:["\u6253\u958b\u5916\u90e8\u6a94\u6848\u3000\u3000",(0,L.jsx)("kbd",{children:"Ctrl"})," + ",(0,L.jsx)("kbd",{children:"O"})]},"external")]},errors:{rootElNotFound:{main:"\u627e\u4e0d\u5230\u7528\u65bc\u52a0\u8f09\u61c9\u7528\u7684\u6839 HTML DOM\u5143\u7d20\u3002",causedByOriginEl:"\u7121\u6cd5\u5728\u6a94\u6848\u4e2d\u627e\u5230 ID \u70ba `oinkedit` \u7684\u5143\u7d20\u3002\u5982\u679c\u60a8\u4f7f\u7528\u81ea\u5b9a\u7fa9\u5143\u7d20\uff0c\u8acb\u78ba\u8a8d\u662f\u5426\u5c07 `window.oeRoot` \u8a2d\u5b9a\u70ba\u8a72\u5143\u7d20\u7684 ID\u3002",causedByCustomEl:"\u7121\u6cd5\u5728\u6a94\u6848\u4e2d\u627e\u5230\u81ea\u5b9a\u7fa9\u5143\u7d20\u3002\u5982\u679c\u60a8\u4e0d\u4f7f\u7528\u81ea\u5b9a\u7fa9\u5143\u7d20\uff0c\u8acb\u78ba\u8a8d `window.oeRoot` \u662f\u5426\u88ab\u6c61\u67d3\u3002"},windowGeneric:"\u8a72\u8996\u7a97\u5185\u61c9\u7528\u51fa\u73fe\u4e86\u4e00\u500b\u932f\u8aa4\u4e26\u5df2\u5d29\u6f70\u3002\u5617\u8a66\u91cd\u65b0\u555f\u52d5\u9019\u500b\u61c9\u7528\u3002",intrinsicApps:{indexer:{noSuchBook:"\u672a\u627e\u5230\u8a72 ID \u5c0d\u61c9\u7684\u66f8\u7c4d\u3002"}}},debug:{skipSW_Electron:"\u684c\u9762\u7248\uff0c\u8df3\u904e Service Worker \u6ce8\u518c",skipSW_Dev:"\u958b\u767c\u6a21\u5f0f\uff0c\u8df3\u904e Service Worker \u6ce8\u518c"}},zh_ac:W},V={get current(){return H[$("i18n","zh_hans")]||H.zh_hans},data:H},K=function(e){b(n,e);var t=E(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).contextMenuCB=function(e){e.preventDefault()},e}return g(n,[{key:"render",value:function(){return(0,L.jsxs)("div",{style:{height:"calc(100vh - var(--cf-tbtaskbar))",width:"100vw",textAlign:"center",display:"flex",flexFlow:"column nowrap",alignItems:"center",color:"var(--c-grey-2)",backgroundColor:"var(--c-base)",zIndex:0},className:"".concat(C," ").concat(D),onContextMenu:this.contextMenuCB,children:[(0,L.jsx)(z,{height:"6vh"}),(0,L.jsx)("div",{style:{opacity:.25},children:(0,L.jsx)(B,{size:"10rem"})}),(0,L.jsx)(z,{height:"3vh"}),(0,L.jsx)("div",{style:{fontSize:".9rem"},children:V.current.background.tips}),(0,L.jsx)(z,{height:"8vh"}),(0,L.jsxs)("div",{children:["Oinkedit\xa0\xa0",I.version]}),(0,L.jsx)(z,{height:"1vh"}),(0,L.jsx)("div",{children:I.themePoem})]})}}]),n}(t.Component),q="VerticalList_ul__i2+2h",G="VerticalList_li__RFFql";function J(e){return(0,L.jsx)("ul",{className:q,children:e.children.map((function(e){return(0,L.jsx)("li",{className:G,children:e},null===e||void 0===e?void 0:e.toString())}))})}var Y=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"render",value:function(){return(0,L.jsx)("div",{children:"\u4e66\u7c4d\u5386\u53f2"})}}]),n}(t.Component),X=function(e){b(n,e);var t=E(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).clickCB=function(){$e.current.createOverlay({allowClose:!0,cover:!0,darken:!1,animate:!0,children:(0,L.jsxs)("div",{style:{position:"fixed",top:"var(--cf-tbtaskbar)",left:"var(--cf-lrtaskbar)",display:"flex",flexFlow:"row nowrap"},children:[(0,L.jsx)("div",{style:{display:"flex",flexFlow:"column nowrap",borderRightWidth:".125rem",borderRightColor:"#000"},children:(0,L.jsxs)(J,{children:[(0,L.jsx)("div",{children:"\u65b0\u5efa"}),(0,L.jsx)("div",{children:"\u6253\u5f00"}),(0,L.jsx)("div",{}),(0,L.jsx)("div",{onClick:function(){$e.current.createOverlay({children:(0,L.jsx)("div",{children:"fasafsa"}),cover:!0,darken:!0,allowClose:!0,animate:!0})},children:"\u6d4b\u8bd5"}),(0,L.jsx)("div",{children:"gyrdeyh"}),(0,L.jsx)("div",{children:"gwrehehreded"})]})}),(0,L.jsx)(Y,{})]})})},e.contextMenuCB=function(e){e.preventDefault(),document.body.requestFullscreen()},e}return g(n,[{key:"render",value:function(){return(0,L.jsx)("div",{style:{margin:".25rem",cursor:"pointer"},onClick:this.clickCB,onContextMenu:this.contextMenuCB,children:(0,L.jsx)(B,{size:"2.4rem",title:V.current.start.titleTip})})}}]),n}(t.Component),Q=function(e){b(r,e);var n=E(r);function r(e){var o;return v(this,r),(o=n.call(this,e)).ref=t.createRef(),o.dblClickCB=function(e){o.state.editing||o.setState({editing:!0},(function(){o.ref.current.focus(),getSelection().selectAllChildren(o.ref.current),document.addEventListener("keypress",o.keyDoneCB)}))},o.keyDoneCB=function(e){"Enter"===e.key&&(e.preventDefault(),o.reset())},o.blurCB=function(){o.state.editing&&o.reset()},o.state={editing:!1},o}return g(r,[{key:"reset",value:function(){this.setState({editing:!1});var e=$("text"),t=this.ref.current.innerText;$("text",t,!0),document.removeEventListener("keypress",this.keyDoneCB),getSelection().empty(),e!==t&&$("textEdited",parseInt($("textEdited"))+1+"",!0)}},{key:"render",value:function(){return(0,L.jsx)("div",{className:A,onDoubleClick:this.dblClickCB,onBlur:this.blurCB,contentEditable:this.state.editing,ref:this.ref,style:{height:"1rem",paddingBottom:".25rem",whiteSpace:"pre"},children:$("text","\u200d")})}}]),r}(t.Component),Z=function(e){b(n,e);var t=E(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).id=0,r.state={date:new Date},r}return g(n,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){e.setState({date:new Date})}),1e3);this.id=t}},{key:"componentWillUnmount",value:function(){clearInterval(this.id)}},{key:"render",value:function(){var e=this.state.date;return(0,L.jsxs)("div",{title:V.current.taskbar.timeMaster.title,style:{color:"var(--c-grey)",cursor:"pointer"},children:[e.getFullYear(),".",e.getMonth()+1,".",e.getDate()," ",e.getHours(),":",e.getMinutes().toString().padStart(2,"0")]})}}]),n}(t.Component),ee=document.addEventListener,te=null;ee("pointerdown",(function(e){te=e})),ee("pointerup",(function(e){te=e})),ee("pointercancel",(function(e){te=e}));var ne=function(){var e=navigator.platform;return e.includes("Mac")?"Mac":e.includes("Win")?"Win":e.includes("iPad")?"iPad":e.includes("Linux")?"Linux":"Unknown"}(),re=[];ee("keydown",(function(e){for(var t=!1,n=0;n<re.length;n++)if(re[n][0]===e.key&&re[n][1]===e.code){t=!0;break}t||re.push([e.key,e.code])})),ee("keyup",(function(e){for(var t=0;t<re.length;t++)re[t][0]===e.key&&re[t][1]===e.code&&re.splice(t,1)})),ee("blur",(function(){re=[]})),ee("keydown",(function(e){"Alt"===e.key&&e.preventDefault()})),ee("keyup",(function(e){"Alt"===e.key&&(console.log("a"),e.preventDefault())}));var oe={get pointerDown(){return te},hasKey:function(e){for(var t=0;t<re.length;t++)if(re[t][0]===e)return!0;return!1},hasCode:function(e){for(var t=0;t<re.length;t++)if(re[t][1]===e)return!0;return!1},get userInfo(){return{OS:ne}}},ie=oe;function ae(e,t){if(0===e)return 0;var n=document.createElement("div");n.setAttribute("style","height:".concat("string"==typeof e?e:"".concat(e).concat(t),";position:absolute;top:-9999999px;left:-99px")),document.getElementById(window.oeRoot||"oinkedit").append(n);var r=parseInt(getComputedStyle(n).height);return n.remove(),r}function ue(){return{height:ae("var(--cf-tbtaskbar)"),width:ae("var(--cf-lrtaskbar)")}}function se(e){var t=ue(),n=document.body,r=n.clientHeight,o=n.clientWidth;return{attached_t:e.top<=t.height,attached_b:e.top+e.height>=r,attached_l:e.left<=t.width,attached_r:e.left+e.width>=o}}function le(e,t,n){var r=ue(),o=ce(),i=document.body,a=i.clientHeight,u=i.clientWidth,s=h(h({},e),t),l=s.top,c=s.left,f=s.height,d=s.width;return ie.hasKey("Alt")?(l>=a-f&&(!0===n?s.height=a-l:s.top=a-f),c>=u-d&&(!0===n?s.width=u-c:s.left=u-d),l<=r.height&&(s.top=r.height),c<=r.width&&(s.left=r.width)):(l>=a-o.tb&&(s.top=a-o.tb),c>=u-o.lr&&(s.left=u-o.lr),l<=r.height-f+o.tb&&(s.top=r.height-f+o.tb),c<=r.width-d+o.lr&&(s.left=r.width-d+o.lr)),s}function ce(){return{lr:ae(1,"rem"),tb:ae(.8,"rem")}}function fe(e,t,n){if("object"==typeof t){if(function(e){if("object"==typeof e)try{var t=JSON.stringify(e);return!("string"!=typeof t||!t)}catch(Xe){return!1}return!1}(t))for(var r in t)e.style.setProperty(r,t[r])}else{if(void 0===n)return getComputedStyle(e)[t];e.style.setProperty(t,n)}return n}var de="Resizer_resizer__ubotw",pe="Resizer_closing__ZTFei";var he=function(e){b(r,e);var n=E(r);function r(e){var o;return v(this,r),(o=n.call(this,e)).originTop=0,o.originLeft=0,o.ref=t.createRef(),o.pointerDownCB=function(e){e.isPrimary&&(document.addEventListener("pointermove",o.pointerMoveCB),document.addEventListener("pointerup",o.pointerUpCB),1===e.buttons?(o.setState({resizing:!0}),o.props.startResize(),document.body.classList.add("resizing"),o.originTop=e.clientY,o.originLeft=e.clientX):2===e.buttons&&o.setState({closing:!0}))},o.pointerMoveCB=function(e){o.state.resizing&&o.props.updateResize(e.clientY-o.originTop,e.clientX-o.originLeft),o.state.closing&&2!==e.buttons&&o.setState({closing:!1})},o.pointerUpCB=function(e){o.state.resizing?(o.setState({resizing:!1}),o.props.endResize(),document.body.classList.remove("resizing"),document.removeEventListener("pointermove",o.pointerMoveCB),document.removeEventListener("pointerup",o.pointerUpCB)):o.state.closing&&e.target===o.ref.current&&(e.preventDefault(),function(e){var t=function(e){e.preventDefault()};document.addEventListener("contextmenu",t),setTimeout((function(){document.removeEventListener("contextmenu",t)}),null!==e&&void 0!==e?e:0)}(),o.setState({closing:!1}),o.props.closeWindow())},o.state={resizing:!1,closing:!1},o}return g(r,[{key:"render",value:function(){return(0,L.jsx)("div",{ref:this.ref,"aria-hidden":!0,onPointerDown:this.pointerDownCB,className:"".concat(de," ").concat(C," ").concat(D).concat(this.state.closing?" ".concat(pe):""),children:"\u25e2"})}}]),r}(t.Component),ve="WindowComp_window__KOWw4",me="WindowComp_windowUI__tJV3K",ge="WindowComp_windowHidden__a64qS",ye="WindowComp_hoverWindow__u-lyp",be="WindowComp_windowInner__CKFK-",ke="WindowComp_attached_t__zMrGB",we="WindowComp_attached_b__g4ect",xe="WindowComp_attached_l__KAbV5",Se="WindowComp_attached_r__Cwe+V",Ee="WindowComp_error__UM-ei",Ce=function(e){b(r,e);var n=E(r);function r(e){var o,i,a;v(this,r),(a=n.call(this,e)).deltaTop=0,a.deltaLeft=0,a.outerDivRef=t.createRef(),a.resizing=!1,a.resizeOriginHeight=0,a.resizeOriginWidth=0,a.startResize=function(){a.props.resizerAPIs.startResize(),a.resizing=!0,a.resizeOriginHeight=a.props.height,a.resizeOriginWidth=a.props.width},a.checkPos_updateAttachWhileResize=function(e,t){var n=le({top:a.props.top,left:a.props.left},{height:a.resizeOriginHeight+e,width:a.resizeOriginWidth+t},!0);a.props.resizerAPIs.updateResize(n.height,n.width),a.props.requestUpdateAttachedStatus()},a.endResize=function(){a.props.resizerAPIs.endResize(),a.resizing=!1},a.pointerDownCB=function(e){a.resizing||2===e.buttons||((ie.hasKey("Alt")||e.target===a.outerDivRef.current)&&e.isPrimary?(a.props.onFocus(),a.props.requestToTop(),a.setState({moving:!0}),a.deltaTop=e.clientY-a.props.top,a.deltaLeft=e.clientX-a.props.left,document.body.classList.add("moving"),document.addEventListener("pointermove",a.pointerMoveCB),document.addEventListener("pointerup",a.pointerUpCB)):a.props.requestZIndex())},a.pointerMoveCB=function(e){if(a.state.moving){a.props.requestUpdateAttachedStatus();var t=a.props,n=t.height,r=t.width,o=le({top:e.clientY-a.deltaTop,left:e.clientX-a.deltaLeft},{height:n,width:r});a.props.updateTL(o.top,o.left)}},a.pointerUpCB=function(e){a.state.moving&&(a.props.onUnFocus(),a.props.requestFallZIndex(),a.setState({moving:!1}),document.body.classList.remove("moving"),document.removeEventListener("pointermove",a.pointerMoveCB),document.removeEventListener("pointerup",a.pointerUpCB))},a.contextMenuCB=function(e){e.target===a.outerDivRef.current&&e.preventDefault()};var u=ue(),s=le({top:null!==(o=e.top)&&void 0!==o?o:u.height,left:null!==(i=e.left)&&void 0!==i?i:u.width},{height:e.height,width:e.width});return e.updateTL(s.top,s.left),a.state={moving:!1,focusingWithIn:!1,hovered:!1,onError:!1},a}return g(r,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){var e=this;return(0,L.jsxs)("div",{className:"".concat(ve).concat(this.props.noWrapperUI?"":" ".concat(me)).concat(this.props.minimized?" ".concat(ge):"").concat(this.state.moving||this.resizing||this.props.hoveredInTask||this.state.hovered&&!this.state.focusingWithIn?" ".concat(ye):"").concat(this.props.attached_t?" ".concat(ke):"").concat(this.props.attached_b?" ".concat(we):"").concat(this.props.attached_l?" ".concat(xe):"").concat(this.props.attached_r?" ".concat(Se):""),style:{top:"".concat(this.props.top,"px"),left:"".concat(this.props.left,"px"),height:"".concat(this.props.height,"px"),width:"".concat(this.props.width,"px"),cursor:this.state.moving?"grabbing":"grab",zIndex:this.props.zIndex},onPointerDown:this.pointerDownCB,onPointerEnter:function(){return e.setState({hovered:!0})},onPointerLeave:function(){return e.setState({hovered:!1})},onFocus:this.props.onFocus,onBlur:function(){e.state.moving||e.props.onUnFocus()},onContextMenu:this.contextMenuCB,ref:this.outerDivRef,children:[(0,L.jsx)("div",{className:be,onPointerEnter:function(){return e.setState({focusingWithIn:!0})},onPointerLeave:function(){return e.setState({focusingWithIn:!1})},children:this.state.onError?(0,L.jsx)("div",{className:Ee,children:(0,L.jsx)("div",{children:V.current.errors.windowGeneric})}):this.props.children}),this.props.noWrapperUI?null:(0,L.jsx)(he,h(h({},this.props.resizerAPIs),{},{startResize:this.startResize,updateResize:this.checkPos_updateAttachWhileResize,endResize:this.endResize}))]})}}],[{key:"getDerivedStateFromError",value:function(e,t){return{onError:!0}}}]),r}(t.Component),Ae="Task_li__Rydr0",De="Task_windowMinimized__6f51X",Oe="Task_focus__HHCp8";function _e(e,t){var n=o(e),r=o(t);return(n.top>=r.top&&n.top<=r.bottom||n.bottom>=r.top&&n.bottom<=r.bottom||r.top>=n.top&&r.top<=n.bottom||r.bottom>=n.top&&r.bottom<=n.bottom)&&(n.left>=r.left&&n.left<=r.right||n.right>=r.left&&n.right<=r.right||r.left>=n.left&&r.left<=n.right||r.right>=n.left&&r.right<=n.right);function o(e){return{top:e.top,left:e.left,bottom:e.top+e.height,right:e.left+e.width}}}function Te(e,t){var n=0;return t.includes("-")?(t.includes("--")&&(o("width"),t.replace("--","-")),r(t.substring(0,t.indexOf("-")),"left"),r(t.substring(t.indexOf("-")+1,t.length),"right")):t.includes("|")&&(t.includes("||")&&(o("height"),t.replace("||","|")),r(t.substring(0,t.indexOf("|")),"top"),r(t.substring(t.indexOf("|")+1,t.length),"bottom")),n;function r(e,t){e.includes("m")&&(n+=i("margin-"+t)),e.includes("b")&&(n+=i("border-"+t+"-width")),e.includes("p")&&(n+=i("padding-"+t))}function o(t){if("auto"===fe(e,t)){var r=e.cloneNode(!0);fe(r,{display:"block",position:"absolute",top:"-9999rem"}),document.body.append(r),n+=i(t,r),document.body.removeChild(r)}else n+=i(t)}function i(t,n){return void 0===n&&(n=e),parseFloat(fe(n,t).replace("px",""))}}function Me(e,t){switch(t){case"t":return r("top");case"b":return Me(e,"t")+Te(e,"bp||pb");case"l":return r("left");case"r":return Me(e,"l")+Te(e,"bp--pb");case"ft":return n().t;case"fb":return Me(e,"ft")+Te(e,"bp||pb");case"fl":return n().l;case"fr":return Me(e,"fl")+Te(e,"bp--pb");default:throw new SyntaxError("Incorrect magic letter")}function n(){for(var t=e.offsetTop,n=e.offsetLeft,r=e.offsetParent;null!==r;)t+=r.offsetTop-r.scrollTop,n+=r.offsetLeft-r.scrollLeft,r=r.offsetParent;return{t:t,l:n}}function r(t,n){return void 0===n&&(n=e),parseFloat(fe(n,t).replace("px",""))}}We({rect:Me});var Ne=function(e){b(r,e);var n=E(r);function r(e){var o;return v(this,r),(o=n.call(this,e)).innerRef=t.createRef(),o.deltaTop=0,o.deltaLeft=0,o.overlayCreated=!1,o.overlayID="",o.hovered=!1,o.pointerDownCB=function(e){if(e.isPrimary){o.setState({moving:!0}),document.body.classList.add("moving"),document.addEventListener("pointermove",o.pointerMoveCB),document.addEventListener("pointerup",o.pointerUpCB);var t=Me(o.innerRef.current,"ft"),n=Me(o.innerRef.current,"fl");o.deltaTop=e.clientY-t,o.deltaLeft=e.clientX-n}},o.pointerMoveCB=function(e){o.state.moving&&(o.props.taskMoving||o.props.startMove(),o.overlayCreated?""!==o.overlayID&&$e.current.refreshOverlay(o.overlayID,{children:(0,L.jsx)("div",{style:{position:"fixed",fontSize:".9rem",wordBreak:"keep-all",whiteSpace:"pre",top:e.clientY-o.deltaTop,left:e.clientX-o.deltaLeft},children:o.props.label}),noWrapperUI:!0,cursor:"grabbing"}):(o.overlayCreated=!0,o.overlayID=$e.current.createOverlay({children:(0,L.jsx)("div",{className:"".concat(C," ").concat(D),style:{position:"fixed",fontSize:".9rem",wordBreak:"keep-all",top:e.clientY-o.deltaTop,left:e.clientX-o.deltaLeft},children:o.props.label}),noWrapperUI:!0,cursor:"grabbing"})))},o.pointerUpCB=function(){o.state.moving&&(o.setState({moving:!1}),o.props.endMove(),document.body.classList.remove("moving"),document.removeEventListener("pointermove",o.pointerMoveCB),document.removeEventListener("pointerup",o.pointerUpCB),$e.current.removeOverlay(o.overlayID),o.overlayID="",o.overlayCreated=!1)},o.state={moving:!1},o}return g(r,[{key:"render",value:function(){var e=this;return(0,L.jsx)("li",{onClick:function(){e.props.minimized?e.props.showWindow():e.props.hideWindow()},onPointerDown:this.pointerDownCB,onPointerEnter:function(t){t.isPrimary&&e.props.hoverInTask()},onPointerLeave:this.props.dehoverInTask,className:"".concat(Ae).concat(this.props.minimized?" ".concat(De):"").concat(this.props.focusingInWindow?" ".concat(Oe):""),style:{cursor:this.state.moving?"grabbing":"grab"},children:(0,L.jsx)("div",{ref:this.innerRef,children:this.props.label})})}}]),r}(t.Component),Re="Overlay_overlay__5Qfno",Pe="Overlay_darken__0bOIC",Ie="Overlay_cover__xvWY6",Fe="Overlay_overlayWrap__bdXRp",Le="Overlay_animate__zWd6Q",Be=function(e){b(r,e);var n=E(r);function r(){var e;v(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).containerRef=t.createRef(),e.pointerDownTarget=void 0,e.pointerDownCB=function(t){e.pointerDownTarget=t.target},e.pointerUpCB=function(t){!e.props.allowClose||e.pointerDownTarget!==t.target||t.target!==e.containerRef.current||e.props.shouldClose&&!e.props.shouldClose(e.props)?e.props.allowClose||console.log("".concat(e.props.id," \u4e0d\u5141\u8bb8\u7528\u6237\u81ea\u884c\u5173\u95ed\u3002\u8bf7\u5728\u63a7\u5236\u53f0\u8c03\u7528","`",'overlay.current.removeOverlay("').concat(e.props.id,'")',"`","\u3002")):($e.current.removeOverlay(e.props.id),e.props.postClose&&e.props.postClose(e.props))},e}return g(r,[{key:"render",value:function(){return(0,L.jsx)("div",{className:"".concat(Re).concat(this.props.noWrapperUI?"":" ".concat(Fe)).concat(this.props.animate?" ".concat(Le):"").concat(this.props.darken?" ".concat(Pe):"").concat(this.props.cover?" ".concat(Ie):""),style:{cursor:""===this.props.cursor?"unset":this.props.cursor},onPointerDown:this.pointerDownCB,onPointerUp:this.pointerUpCB,ref:this.containerRef,children:this.props.children})}}]),r}(t.Component),je=function(e){b(r,e);var n=E(r);function r(e){var t;return v(this,r),(t=n.call(this,e)).state={overlayArray:[]},t}return g(r,[{key:"createOverlay",value:function(e){var t=M(15);return this.setState((function(n){var r,o,i,a,u,s,l,c,f;return{overlayArray:[].concat(d(n.overlayArray),[{id:t,allowClose:null!==(r=e.allowClose)&&void 0!==r&&r,animate:null!==(o=e.animate)&&void 0!==o&&o,children:null!==(i=e.children)&&void 0!==i?i:null,cover:null!==(a=e.cover)&&void 0!==a&&a,cursor:null!==(u=e.cursor)&&void 0!==u?u:"",darken:null!==(s=e.darken)&&void 0!==s&&s,noWrapperUI:null!==(l=e.noWrapperUI)&&void 0!==l&&l,postClose:null!==(c=e.postClose)&&void 0!==c?c:null,shouldClose:null!==(f=e.shouldClose)&&void 0!==f?f:null}])}})),t}},{key:"refreshOverlay",value:function(e,t){for(var n=this,r=!1,o=0;o<this.state.overlayArray.length;o++)if(this.state.overlayArray[o].id===e){r=!0,this.setState((function(r){return n.bulkUpdateOverlayArray(r,e,h({},t))}));break}return r}},{key:"removeOverlay",value:function(e){for(var t=!1,n=0;n<this.state.overlayArray.length;n++)if(this.state.overlayArray[n].id===e){t=!0,this.setState((function(t){for(var n=d(t.overlayArray),r=0;r<t.overlayArray.length;r++)t.overlayArray[r].id===e&&n.splice(r,1);return{overlayArray:n}}));break}return t}},{key:"getOverlayData",value:function(e){var t;return null!==(t=this.getDescFromId(e))&&void 0!==t?t:null}},{key:"getDescFromId",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.overlayArray,n=0;n<t.length;n++)if(t[n].id===e)return t[n]}},{key:"bulkUpdateOverlayArray",value:function(e,t,n){for(var r=d(e.overlayArray),o=0;o<r.length;o++)r[o].id===t&&(r[o]=h(h({},r[o]),n));return{overlayArray:r}}},{key:"getOverlayAPIs",value:function(e){return{}}},{key:"render",value:function(){var e=this,n=this.state.overlayArray.map((function(n){return(0,t.createElement)(Be,h(h(h({},e.getOverlayAPIs(n.id)),n),{},{key:n.id}),n.children)}));return(0,L.jsx)("div",{style:{zIndex:12},children:n})}}]),r}(t.Component),ze=["label"],$e=t.createRef();We({OMRef:$e});var Ue=function(e){b(r,e);var n=E(r);function r(e){var t;return v(this,r),(t=n.call(this,e)).taskMove_currentHoveredID=void 0,t.resizeCB=function(e){for(var n=0;n<e.length;n++){if(e[n].target===UL)for(var r=function(e){var n=t.state.windowArray[e],r=le({top:n.top,left:n.left},{height:n.height,width:n.width}),o=r.top,i=r.left,a=r.height,u=r.width;t.setState((function(n){return t.bulkUpdateWindowArray(n,n.windowArray[e].id,h({top:o,left:i,height:a,width:u},se({top:o,left:i,height:a,width:u})))}))},o=0;o<t.state.windowArray.length;o++)r(o);break}},t.resizeObserver=new ResizeObserver(t.resizeCB),t.state={windowArray:[],taskMoving:!1},t}return g(r,[{key:"componentDidMount",value:function(){this.resizeObserver.observe(UL)}},{key:"componentWillUnmount",value:function(){this.resizeObserver.unobserve(UL),this.resizeObserver.disconnect()}},{key:"createWindow",value:function(e,t){var n,r,o=this,i=M(15),a=ue(),u=ce(),s=e.top&&e.top>a.height?e.top:a.height,l=e.left&&e.left>a.width?e.left:a.width,c=null!==(n=e.height)&&void 0!==n?n:2*u.tb,f=null!==(r=e.width)&&void 0!==r?r:2*u.lr;return this.setState((function(t){var n,r,a;return h(h({},t),{},{windowArray:[].concat(d(t.windowArray),[h({label:null!==(n=e.label)&&void 0!==n?n:V.current.taskbar.noLabel,children:null!==(r=e.children)&&void 0!==r?r:null,top:s,left:l,height:c,width:f,id:i,zIndex:o.getTopZIndex(o.state.windowArray,i),hoveredInTask:!1,minimized:!1,focusingInWindow:!1,noWrapperUI:null!==(a=e.noWrapperUI)&&void 0!==a&&a},se({top:s,left:l,height:c,width:f}))])})}),t),i}},{key:"refreshWindow",value:function(e,t,n){for(var r=this,o=!1,i=0;i<this.state.windowArray.length;i++)if(this.state.windowArray[i].id===e){o=!0,this.setState((function(n){return r.bulkUpdateWindowArray(n,e,h({},t))}),n);break}return o}},{key:"removeWindow",value:function(e,t){for(var n=!1,r=0;r<this.state.windowArray.length;r++)if(this.state.windowArray[r].id===e){n=!0,this.setState((function(t){for(var n=d(t.windowArray),r=0;r<t.windowArray.length;r++)t.windowArray[r].id===e&&n.splice(r,1);return h(h({},t),{},{windowArray:n})}),t);break}return n}},{key:"getWindowData",value:function(e){var t;return null!==(t=this.getDescFromId(e))&&void 0!==t?t:null}},{key:"getDescFromId",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.windowArray,n=0;n<t.length;n++)if(t[n].id===e)return t[n]}},{key:"updateWindowArray",value:function(e,t,n,r){for(var o=d(e.windowArray),i=0;i<o.length;i++)o[i].id===t&&(o[i]=h(h({},o[i]),{},s({},n,r)));return h(h({},this.state),{},{windowArray:o})}},{key:"bulkUpdateWindowArray",value:function(e,t,n){for(var r=d(e.windowArray),o=0;o<r.length;o++)r[o].id===t&&(r[o]=h(h({},r[o]),n));return h(h({},this.state),{},{windowArray:r})}},{key:"setZIndex",value:function(e,t,n){var r=this;this.setState((function(n){return r.updateWindowArray(n,e,"zIndex",t)}))}},{key:"getTopZIndex",value:function(e,t){for(var n=50,r=0;r<e.length;r++)e[r].id!==t&&(n=Math.max(n,e[r].zIndex+1));return n}},{key:"getWholeZMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.windowArray,n=d(t),r=new Map,o=this.getDescFromId(e);if(void 0!==o)return i(o);function i(e){var t=[];r.set(e.id,!0);var o=e.zIndex-50;void 0!==t[o]?t[o].push(e):t[o]=[e];for(var a=0;a<n.length;a++)!0!==r.get(n[a].id)&&_e(e,n[a])&&(t=N(t,i(n[a])));return t}}},{key:"getLocalZMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.windowArray,n=d(t),r=this.getDescFromId(e),o=[];if(void 0!==r){for(var i=0;i<n.length;i++)if(_e(r,n[i])){var a=n[i].zIndex-50;o[a]?o[a].push(n[i]):o[a]=[n[i]]}return o}}},{key:"getMinAcceptableZIndex",value:function(e,t){var n=e.zIndex-50,r=null!==t&&void 0!==t?t:this.getLocalZMap(e.id);if(r){for(var o=n-1;o>=0;o--)if(r[o])return o+50+1;return 50}}},{key:"getWindowAPIs",value:function(e){return{requestToTop:this.goToGlobalTop.bind(this,e),requestZIndex:this.zIndex.bind(this,e),requestFallZIndex:this.fallZIndex.bind(this,e),requestUpdateAttachedStatus:this.requestUpdateAttachedStatus.bind(this,e),updateTL:this.updateTL.bind(this,e),onFocus:this.onFocus.bind(this,e),onUnFocus:this.onUnFocus.bind(this,e),resizerAPIs:{startResize:this.startResize.bind(this,e),updateResize:this.updateResize.bind(this,e),endResize:this.endResize.bind(this,e),closeWindow:this.closeWindow.bind(this,e)}}}},{key:"goToGlobalTop",value:function(e){this.setZIndex(e,this.getTopZIndex(this.state.windowArray,e))}},{key:"zIndex",value:function(e){var t=this.getWholeZMap(e);if(t)if(Object.keys(t).length>1){var n=this.getDescFromId(e,R(t));if(n){var r=n.zIndex-50;if(t[r].length>1)this.setZIndex(e,t.length+50);else{this.setZIndex(e,t.length+49);for(var o=r+1;o<t.length;o++)if(t[o])for(var i=0;i<t[o].length;i++)this.setZIndex(t[o][i].id,t[o][i].zIndex-1)}}}else this.setZIndex(e,50)}},{key:"fallZIndex",value:function(e){var t=this.getWholeZMap(e);if(t)if(Object.keys(t).length>1){for(var n=[],r=0;r<t.length;r++)t[r]&&(n[r]=d(t[r]));for(var o=1;o<t.length;o++)if(t[o])for(var i=0;i<t[o].length;i++){var a=t[o][i],u=this.getMinAcceptableZIndex(a,this.getLocalZMap(a.id,R(n))),s=u-50;n[a.zIndex-50].splice(n[a.zIndex-50].indexOf(a)),n[s]?n[s].push(a):n[s]=[a],this.setZIndex(a.id,u)}}else this.setZIndex(e,50)}},{key:"requestUpdateAttachedStatus",value:function(e){var t=this,n=this.getDescFromId(e);if(n){var r=n.top,o=n.left,i=n.height,a=n.width;this.setState((function(n){return t.bulkUpdateWindowArray(n,e,h({},se({top:r,left:o,height:i,width:a})))}))}}},{key:"updateTL",value:function(e,t,n){var r=this;this.setState((function(o){return r.bulkUpdateWindowArray(o,e,{top:t,left:n})}))}},{key:"onFocus",value:function(e){var t=this;this.setState((function(n){return t.updateWindowArray(n,e,"focusingInWindow",!0)}))}},{key:"onUnFocus",value:function(e){var t=this;this.setState((function(n){return t.updateWindowArray(n,e,"focusingInWindow",!1)}))}},{key:"startResize",value:function(e){this.goToGlobalTop(e)}},{key:"updateResize",value:function(e,t,n){var r=this;this.setState((function(o){return r.bulkUpdateWindowArray(o,e,{height:t,width:n})}))}},{key:"endResize",value:function(e){this.fallZIndex(e)}},{key:"closeWindow",value:function(e){console.log("".concat(e," close")),this.removeWindow(e)}},{key:"getTaskAPIs",value:function(e){return{hideWindow:this.hideWindow.bind(this,e),showWindow:this.showWindow.bind(this,e),hoverInTask:this.hoverInTask.bind(this,e),dehoverInTask:this.dehoverInTask.bind(this,e),startMove:this.startMove.bind(this,e),endMove:this.endMove.bind(this,e)}}},{key:"hideWindow",value:function(e){var t=this;this.setState((function(n){return t.updateWindowArray(n,e,"minimized",!0)}))}},{key:"showWindow",value:function(e){var t=this;this.setState((function(n){return t.updateWindowArray(n,e,"minimized",!1)}),(function(){t.goToGlobalTop(e)}))}},{key:"hoverInTask",value:function(e){var t=this;this.state.taskMoving?this.taskMove_currentHoveredID=e:this.setState((function(n){return t.updateWindowArray(n,e,"hoveredInTask",!0)}))}},{key:"dehoverInTask",value:function(e){var t=this;this.setState((function(n){return t.updateWindowArray(n,e,"hoveredInTask",!1)}))}},{key:"startMove",value:function(e){this.setState({taskMoving:!0}),this.taskMove_currentHoveredID=e}},{key:"endMove",value:function(e){if(this.setState({taskMoving:!1}),void 0!==this.taskMove_currentHoveredID){for(var t=0,n=0,r=0;r<this.state.windowArray.length;r++)this.state.windowArray[r].id===this.taskMove_currentHoveredID&&(n=r),this.state.windowArray[r].id===e&&(t=r);if(t!==n){var o=d(this.state.windowArray);!function(e,t,n){var r=t in e,o=n in e;if(r||o){if(!r){var i=e[n];return e[t]=i,void delete e[n]}if(!o){var a=e[t];return e[n]=a,void delete e[t]}var u=e[t];e[t]=e[n],e[n]=u}}(o,t,n),this.setState({windowArray:o})}this.taskMove_currentHoveredID=void 0}}},{key:"render",value:function(){var e=this,n=this.state.windowArray.map((function(n){n.label;var r=i(n,ze);return(0,t.createElement)(Ce,h(h(h({},e.getWindowAPIs(n.id)),r),{},{key:n.id}),n.children)})),r=this.state.windowArray.map((function(n){var r={label:n.label,focusingInWindow:n.focusingInWindow,minimized:n.minimized,children:n.children};return(0,t.createElement)(Ne,h(h(h({},e.getTaskAPIs(n.id)),{},{taskMoving:e.state.taskMoving},r),{},{key:n.id}))}));return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{style:{zIndex:6,color:"var(--c-text-main)"},children:n}),(0,L.jsxs)("div",{className:"".concat(C," ").concat(T),children:[(0,L.jsx)(X,{}),(0,L.jsx)("ul",{className:O,style:{opacity:this.state.taskMoving?.6:"unset"},children:r}),(0,L.jsxs)("div",{className:_,children:[(0,L.jsx)(Q,{}),(0,L.jsx)(Z,{})]})]}),(0,L.jsx)(je,{ref:$e}),(0,L.jsx)(K,{})]})}}]),r}(t.Component);function We(e){if(!0===I.dev)for(var t in e)window[t]=e[t]}function He(){He=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(_){l=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new A(o||[]);return r(a,"_invoke",{value:x(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=c;var d={};function p(){}function h(){}function v(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(D([])));y&&y!==t&&n.call(y,i)&&(m=y);var b=v.prototype=p.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,u,s){var l=f(e[r],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,u,s)}),(function(e){o("throw",e,u,s)})):t.resolve(d).then((function(e){c.value=e,u(c)}),(function(e){return o("throw",e,u,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),l(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),l(b,s,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Ve(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ve(i,r,o,a,u,"next",e)}function u(e){Ve(i,r,o,a,u,"throw",e)}a(void 0)}))}}function qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ge(e){if(Array.isArray(e))return e}function Je(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(e,t){return Ge(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,o=c}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||f(e,t)||Je()}var Xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Qe=Object.keys,Ze=Array.isArray;function et(e,t){return"object"!=typeof t||Qe(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Xe.Promise||(Xe.Promise=Promise);var tt=Object.getPrototypeOf,nt={}.hasOwnProperty;function rt(e,t){return nt.call(e,t)}function ot(e,t){"function"==typeof t&&(t=t(tt(e))),("undefined"==typeof Reflect?Qe:Reflect.ownKeys)(t).forEach((function(n){at(e,n,t[n])}))}var it=Object.defineProperty;function at(e,t,n,r){it(e,t,et(n&&rt(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ut(e){return{from:function(t){return e.prototype=Object.create(t.prototype),at(e.prototype,"constructor",e),{extend:ot.bind(null,e.prototype)}}}}var st=Object.getOwnPropertyDescriptor;function lt(e,t){var n;return st(e,t)||(n=tt(e))&&lt(n,t)}var ct=[].slice;function ft(e,t,n){return ct.call(e,t,n)}function dt(e,t){return t(e)}function pt(e){if(!e)throw new Error("Assertion Failed")}function ht(e){Xe.setImmediate?setImmediate(e):setTimeout(e,0)}function vt(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function mt(e,t){if(rt(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=mt(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:mt(u,t.substr(a+1))}}function gt(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){pt("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)gt(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),u=t.substr(i+1);if(""===u)void 0===n?Ze(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];s&&rt(e,a)||(s=e[a]={}),gt(s,u,n)}}else void 0===n?Ze(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function yt(e){var t={};for(var n in e)rt(e,n)&&(t[n]=e[n]);return t}var bt=[].concat;function kt(e){return bt.apply([],e)}var wt="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(kt([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return Xe[e]})),xt=wt.map((function(e){return Xe[e]}));vt(wt,(function(e){return[e,!0]}));var St=null;function Et(e){St="undefined"!=typeof WeakMap&&new WeakMap;var t=Ct(e);return St=null,t}function Ct(e){if(!e||"object"!=typeof e)return e;var t=St&&St.get(e);if(t)return t;if(Ze(e)){t=[],St&&St.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Ct(e[n]))}else if(xt.indexOf(e.constructor)>=0)t=e;else{var o=tt(e);for(var i in t=o===Object.prototype?{}:Object.create(o),St&&St.set(e,t),e)rt(e,i)&&(t[i]=Ct(e[i]))}return t}var At={}.toString;function Dt(e){return At.call(e).slice(8,-1)}var Ot="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",_t="symbol"==typeof Ot?function(e){var t;return null!=e&&(t=e[Ot])&&t.apply(e)}:function(){return null},Tt={};function Mt(e){var t,n,r,o;if(1===arguments.length){if(Ze(e))return e.slice();if(this===Tt&&"string"==typeof e)return[e];if(o=_t(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Nt="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Rt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pt(e,t){Rt=e,It=t}var It=function(){return!0},Ft=!new Error("").stack;function Lt(){if(Ft)try{throw Lt.arguments,new Error}catch(Xe){return Xe}return new Error}function Bt(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(It).map((function(e){return"\n"+e})).join("")):""}var jt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],zt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(jt),$t={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ut(e,t){this._e=Lt(),this.name=e,this.message=t}function Wt(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function Ht(e,t,n,r){this._e=Lt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Wt(e,t)}function Vt(e,t){this._e=Lt(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=Wt(e,t)}ut(Ut).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Bt(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ut(Ht).from(Ut),ut(Vt).from(Ut);var Kt=zt.reduce((function(e,t){return e[t]=t+"Error",e}),{}),qt=Ut,Gt=zt.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Lt(),this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=$t[t]||n,this.inner=null)}return ut(r).from(qt),e[t]=r,e}),{});Gt.Syntax=SyntaxError,Gt.Type=TypeError,Gt.Range=RangeError;var Jt=jt.reduce((function(e,t){return e[t+"Error"]=Gt[t],e}),{}),Yt=zt.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Gt[t]),e}),{});function Xt(){}function Qt(e){return e}function Zt(e,t){return null==e||e===Qt?t:function(n){return t(e(n))}}function en(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function tn(e,t){return e===Xt?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?en(r,this.onsuccess):r),o&&(this.onerror=this.onerror?en(o,this.onerror):o),void 0!==i?i:n}}function nn(e,t){return e===Xt?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?en(n,this.onsuccess):n),r&&(this.onerror=this.onerror?en(r,this.onerror):r)}}function rn(e,t){return e===Xt?t:function(n){var r=e.apply(this,arguments);et(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?en(o,this.onsuccess):o),i&&(this.onerror=this.onerror?en(i,this.onerror):i),void 0===r?void 0===a?void 0:a:et(r,a)}}function on(e,t){return e===Xt?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function an(e,t){return e===Xt?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Yt.ModifyError=Ht,Yt.DexieError=Ut,Yt.BulkError=Vt;var un={},sn="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,tt(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,tt(t),e]}(),ln=Ye(sn,3),cn=ln[0],fn=ln[1],dn=ln[2],pn=fn&&fn.then,hn=cn&&cn.constructor,vn=!!dn,mn=!1,gn=dn?function(){dn.then(zn)}:Xe.setImmediate?setImmediate.bind(null,zn):Xe.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){zn(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(zn,0)},yn=function(e,t){Dn.push([e,t]),kn&&(gn(),kn=!1)},bn=!0,kn=!0,wn=[],xn=[],Sn=null,En=Qt,Cn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:cr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{cr(e[0],e[1])}catch(e){}}))}},An=Cn,Dn=[],On=0,_n=[];function Tn(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Xt,this._lib=!1;var t=this._PSD=An;if(Rt&&(this._stackHolder=Lt(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==un)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Pn(this,this._value))}this._state=null,this._value=null,++t.ref,Rn(this,e)}var Mn={get:function(){var e=An,t=Yn;function n(n,r){var o=this,i=!e.global&&(e!==An||t!==Yn),a=i&&!er(),u=new Tn((function(t,u){Fn(o,new Nn(sr(n,e,i,a),sr(r,e,i,a),t,u,e))}));return Rt&&jn(u,this),u}return n.prototype=un,n},set:function(e){at(this,"then",e&&e.prototype===un?Mn:{get:function(){return e},set:Mn.set})}};function Nn(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function Rn(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&$n();t&&"function"==typeof t.then?Rn(e,(function(e,n){t instanceof Tn?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,In(e)),n&&Un()}}),Pn.bind(null,e))}catch(t){Pn(e,t)}}function Pn(e,t){if(xn.push(t),null===e._state){var n=e._lib&&$n();t=En(t),e._state=!1,e._value=t,Rt&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((function(){var n=lt(t,"stack");t._promise=e,at(t,"stack",{get:function(){return mn?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){wn.some((function(t){return t._value===e._value}))||wn.push(e)}(e),In(e),n&&Un()}}function In(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Fn(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===On&&(++On,yn((function(){0==--On&&Wn()}),[]))}function Fn(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++On,yn(Ln,[n,e,t])}else e._listeners.push(t)}function Ln(e,t,n){try{Sn=t;var r,o=t._value;t._state?r=e(o):(xn.length&&(xn=[]),r=e(o),-1===xn.indexOf(o)&&function(e){for(var t=wn.length;t;)if(wn[--t]._value===e._value)return void wn.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Sn=null,0==--On&&Wn(),--n.psd.ref||n.psd.finalize()}}function Bn(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Bt(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return Rt&&((r=Bt(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Bn(e._prev,t,n)),t}function jn(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function zn(){$n()&&Un()}function $n(){var e=bn;return bn=!1,kn=!1,e}function Un(){var e,t,n;do{for(;Dn.length>0;)for(e=Dn,Dn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Dn.length>0);bn=!0,kn=!0}function Wn(){var e=wn;wn=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=_n.slice(0),n=t.length;n;)t[--n]()}function Hn(e){return new Tn(un,!1,e)}function Vn(e,t){var n=An;return function(){var r=$n(),o=An;try{return or(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{or(o,!1),r&&Un()}}}ot(Tn.prototype,{then:Mn,_then:function(e,t){Fn(this,new Nn(null,null,e,t,An))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Hn(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Hn(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Hn(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{mn=!0;var e=Bn(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{mn=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Tn((function(r,o){var i=setTimeout((function(){return o(new Gt.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&at(Tn.prototype,Symbol.toStringTag,"Dexie.Promise"),Cn.env=ir(),ot(Tn,{all:function(){var e=Mt.apply(null,arguments).map(tr);return new Tn((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return Tn.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Tn)return e;if(e&&"function"==typeof e.then)return new Tn((function(t,n){e.then(t,n)}));var t=new Tn(un,!0,e);return jn(t,Sn),t},reject:Hn,race:function(){var e=Mt.apply(null,arguments).map(tr);return new Tn((function(t,n){e.map((function(e){return Tn.resolve(e).then(t,n)}))}))},PSD:{get:function(){return An},set:function(e){return An=e}},totalEchoes:{get:function(){return Yn}},newPSD:Qn,usePSD:ar,scheduler:{get:function(){return yn},set:function(e){yn=e}},rejectionMapper:{get:function(){return En},set:function(e){En=e}},follow:function(e,t){return new Tn((function(n,r){return Qn((function(t,n){var r=An;r.unhandleds=[],r.onunhandled=n,r.finalize=en((function(){var e=this;!function(e){_n.push((function t(){e(),_n.splice(_n.indexOf(t),1)})),++On,yn((function(){0==--On&&Wn()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),hn&&(hn.allSettled&&at(Tn,"allSettled",(function(){var e=Mt.apply(null,arguments).map(tr);return new Tn((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return Tn.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),hn.any&&"undefined"!=typeof AggregateError&&at(Tn,"any",(function(){var e=Mt.apply(null,arguments).map(tr);return new Tn((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return Tn.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var Kn={awaits:0,echoes:0,id:0},qn=0,Gn=[],Jn=0,Yn=0,Xn=0;function Qn(e,t,n,r){var o=An,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Xn;var a=Cn.env;i.env=vn?{Promise:Tn,PromiseProp:{value:Tn,configurable:!0,writable:!0},all:Tn.all,race:Tn.race,allSettled:Tn.allSettled,any:Tn.any,resolve:Tn.resolve,reject:Tn.reject,nthen:lr(a.nthen,i),gthen:lr(a.gthen,i)}:{},t&&et(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ar(i,e,n,r);return 0===i.ref&&i.finalize(),u}function Zn(){return Kn.id||(Kn.id=++qn),++Kn.awaits,Kn.echoes+=100,Kn.id}function er(){return!!Kn.awaits&&(0==--Kn.awaits&&(Kn.id=0),Kn.echoes=100*Kn.awaits,!0)}function tr(e){return Kn.echoes&&e&&e.constructor===hn?(Zn(),e.then((function(e){return er(),e}),(function(e){return er(),fr(e)}))):e}function nr(e){++Yn,Kn.echoes&&0!=--Kn.echoes||(Kn.echoes=Kn.id=0),Gn.push(An),or(e,!0)}function rr(){var e=Gn[Gn.length-1];Gn.pop(),or(e,!1)}function or(e,t){var n=An;if((t?!Kn.echoes||Jn++&&e===An:!Jn||--Jn&&e===An)||ur(t?nr.bind(null,e):rr),e!==An&&(An=e,n===Cn&&(Cn.env=ir()),vn)){var r=Cn.env.Promise,o=e.env;fn.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(Xe,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function ir(){var e=Xe.Promise;return vn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Xe,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:fn.then,gthen:e.prototype.then}:{}}function ar(e,t,n,r,o){var i=An;try{return or(e,!0),t(n,r,o)}finally{or(i,!1)}}function ur(e){pn.call(cn,e)}function sr(e,t,n,r){return"function"!=typeof e?e:function(){var o=An;n&&Zn(),or(t,!0);try{return e.apply(this,arguments)}finally{or(o,!1),r&&ur(er)}}}function lr(e,t){return function(n,r){return e.call(this,sr(n,t),sr(r,t))}}function cr(e,t){var n;try{n=t.onuncatched(e)}catch(Xe){}if(!1!==n)try{var r,o={promise:t,reason:e};if(Xe.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),et(r,o)):Xe.CustomEvent&&et(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&Xe.dispatchEvent&&(dispatchEvent(r),!Xe.PromiseRejectionEvent&&Xe.onunhandledrejection))try{Xe.onunhandledrejection(r)}catch(Xe){}Rt&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(Xe){}}-1===(""+pn).indexOf("[native code]")&&(Zn=er=Xt);var fr=Tn.reject;function dr(e,t,n,r){if(e.idbdb&&(e._state.openComplete||An.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Kt.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return dr(e,t,n,r)}))):fr(o)}return o._promise(t,(function(e,t){return Qn((function(){return An.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(e._state.openComplete)return fr(new Gt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return fr(new Gt.DatabaseClosed);e.open().catch(Xt)}return e._state.dbReadyPromise.then((function(){return dr(e,t,n,r)}))}var pr=String.fromCharCode(65535),hr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vr=[],mr="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gr=mr,yr=mr,br=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function kr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var wr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xr(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=Et(t))[e],t}}var Sr=function(){function e(){v(this,e)}return g(e,[{key:"_trans",value:function(e,t,n){var r=this._tx||An.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new Gt.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}var a=$n();try{return r&&r.db===this.db?r===An.trans?r._promise(e,i,n):Qn((function(){return r._promise(e,i,n)}),{trans:r,transless:An.transless||An}):dr(this.db,e,[this.name],i)}finally{a&&Un()}}},{key:"get",value:function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)}},{key:"where",value:function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Ze(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=Qe(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==pr)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Rt&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(t.join("+"),"]"));var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}var a=t.reduce((function(t,n){var o=Ye(t,2),a=o[0],u=o[1],s=r[n],l=e[n];return[a||s,a||!s?kr(u,s&&s.multi?function(e){var t=mt(e,n);return Ze(t)&&t.some((function(e){return i(l,e)}))}:function(e){return i(l,mt(e,n))}):u]}),[null,null]),u=Ye(a,2),s=u[0],l=u[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")}},{key:"filter",value:function(e){return this.toCollection().and(e)}},{key:"count",value:function(e){return this.toCollection().count(e)}},{key:"offset",value:function(e){return this.toCollection().offset(e)}},{key:"limit",value:function(e){return this.toCollection().limit(e)}},{key:"each",value:function(e){return this.toCollection().each(e)}},{key:"toArray",value:function(e){return this.toCollection().toArray(e)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(e){return new this.db.Collection(new this.db.WhereClause(this,Ze(e)?"[".concat(e.join("+"),"]"):e))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(rt(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}},{key:"defineClass",value:function(){return this.mapToClass((function(e){et(this,e)}))}},{key:"add",value:function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=xr(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?Tn.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{gt(e,i,t)}catch(e){}return t}))}},{key:"update",value:function(e,t){if("object"!=typeof e||Ze(e))return this.where(":id").equals(e).modify(t);var n=mt(e,this.schema.primKey.keyPath);if(void 0===n)return fr(new Gt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Qe(t).forEach((function(n){gt(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}},{key:"put",value:function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=xr(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Tn.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{gt(e,i,t)}catch(e){}return t}))}},{key:"delete",value:function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Tn.reject(e.failures[0]):void 0}))}},{key:"clear",value:function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:wr})})).then((function(e){return e.numFailures?Tn.reject(e.failures[0]):void 0}))}},{key:"bulkGet",value:function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))}},{key:"bulkAdd",value:function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Gt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Gt.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,l=u&&a?e.map(xr(u)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:l,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new Vt("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkPut",value:function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Gt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Gt.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,l=u&&a?e.map(xr(u)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:l,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new Vt("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkDelete",value:function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new Vt("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))}}]),e}();function Er(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return a(e);r||(r=on),o||(o=Xt);var i={subscribers:[],fire:o,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,o)}};return t[e]=n[e]=i,i}function a(e){Qe(e).forEach((function(t){var n=e[t];if(Ze(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Gt.InvalidArgument("Invalid event config");var r=i(t,Qt,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){ht((function(){e.apply(null,t)}))}))}))}}))}}function Cr(e,t){return ut(t).from({prototype:e}),t}function Ar(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Dr(e,t){e.filter=kr(e.filter,t)}function Or(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return kr(r(),t())}:t,e.justLimit=n&&!r}function _r(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Gt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Tr(e,t,n){var r=_r(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Mr(e,t,n,r){var o=e.replayFilter?kr(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),rt(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Nr(Tr(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Nr(Tr(e,r,n),kr(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Nr(e,t,n,r){var o=Vn(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=Xt}),(function(t){e.fail(t),n=Xt}))||o(e.value,e,(function(e){return n=e})),n()}))}))}function Rr(e,t){try{var n=Pr(e),r=Pr(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}(Ir(e),Ir(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i){var a=Rr(e[i],t[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Pr(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=Dt(e);return"ArrayBuffer"===n?"binary":n}function Ir(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Fr=function(){function e(){v(this,e)}return g(e,[{key:"_read",value:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,fr.bind(null,n.error)):n.table._trans("readonly",e).then(t)}},{key:"_write",value:function(e){var t=this._ctx;return t.error?t.table._trans(null,fr.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}},{key:"_addAlgorithm",value:function(e){var t=this._ctx;t.algorithm=kr(t.algorithm,e)}},{key:"_iterate",value:function(e,t){return Mr(this._ctx,e,t,this._ctx.table.core)}},{key:"clone",value:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&et(n,e),t._ctx=n,t}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(e){var t=this._ctx;return this._read((function(n){return Mr(t,e,n,t.table.core)}))}},{key:"count",value:function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(Ar(n,!0))return r.count({trans:e,query:{index:_r(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return Mr(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)}},{key:"sortBy",value:function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)}},{key:"toArray",value:function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&Ar(n,!0)&&n.limit>0){var r=n.valueMapper,o=_r(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return Mr(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)}},{key:"offset",value:function(e){var t=this._ctx;return e<=0||(t.offset+=e,Ar(t)?Or(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Or(t,(function(){var t=e;return function(){return--t<0}}))),this}},{key:"limit",value:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Or(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}},{key:"until",value:function(e,t){return Dr(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}},{key:"first",value:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}},{key:"last",value:function(e){return this.reverse().first(e)}},{key:"filter",value:function(e){var t,n;return Dr(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=kr(t.isMatch,n),this}},{key:"and",value:function(e){return this.filter(e)}},{key:"or",value:function(e){return new this.db.WhereClause(this._ctx.table,e,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}},{key:"eachUniqueKey",value:function(e){return this._ctx.unique="unique",this.eachKey(e)}},{key:"eachPrimaryKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}},{key:"keys",value:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}},{key:"primaryKeys",value:function(e){var t=this._ctx;if("next"===t.dir&&Ar(t,!0)&&t.limit>0)return this._read((function(e){var n=_r(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}},{key:"uniqueKeys",value:function(e){return this._ctx.unique="unique",this.keys(e)}},{key:"firstKey",value:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}},{key:"lastKey",value:function(e){return this.reverse().firstKey(e)}},{key:"distinct",value:function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Dr(this._ctx,(function(e){var t=e.primaryKey.toString(),r=rt(n,t);return n[t]=!0,!r})),this}},{key:"modify",value:function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof e)o=e;else{var i=Qe(e),a=i.length;o=function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],u=e[o];mt(t,o)!==u&&(gt(t,o,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,l=s.outbound,c=s.extractKey,f=t.db._options.modifyChunkSize||200,d=[],p=0,h=[],v=function(e,t){var n=t.failures,r=t.numFailures;p+=e-r;var o,i=qe(Qe(n));try{for(i.s();!(o=i.n()).done;){var a=o.value;d.push(n[a])}}catch(u){i.e(u)}finally{i.f()}};return t.clone().primaryKeys().then((function(t){return function i(a){var s=Math.min(f,t.length-a);return u.getMany({trans:r,keys:t.slice(a,a+s),cache:"immutable"}).then((function(d){for(var p=[],h=[],m=l?[]:null,g=[],y=0;y<s;++y){var b=d[y],k={value:Et(b),primKey:t[a+y]};!1!==o.call(k,k.value,k)&&(null==k.value?g.push(t[a+y]):l||0===Rr(c(b),c(k.value))?(h.push(k.value),l&&m.push(t[a+y])):(g.push(t[a+y]),p.push(k.value)))}var w=Ar(n)&&n.limit===1/0&&("function"!=typeof e||e===Lr)&&{index:n.index,range:n.range};return Promise.resolve(p.length>0&&u.mutate({trans:r,type:"add",values:p}).then((function(e){for(var t in e.failures)g.splice(parseInt(t),1);v(p.length,e)}))).then((function(){return(h.length>0||w&&"object"==typeof e)&&u.mutate({trans:r,type:"put",keys:m,values:h,criteria:w,changeSpec:"function"!=typeof e&&e}).then((function(e){return v(h.length,e)}))})).then((function(){return(g.length>0||w&&e===Lr)&&u.mutate({trans:r,type:"delete",keys:g,criteria:w}).then((function(e){return v(g.length,e)}))})).then((function(){return t.length>a+s&&i(a+f)}))}))}(0).then((function(){if(d.length>0)throw new Ht("Error modifying one or more objects",d,p,h);return t.length}))}))}))}},{key:"delete",value:function(){var e=this._ctx,t=e.range;return Ar(e)&&(e.isPrimKey&&!yr||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new Ht("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(Lr)}}]),e}(),Lr=function(e,t){return t.value=null};function Br(e,t){return e<t?-1:e===t?0:1}function jr(e,t){return e>t?-1:e===t?0:1}function zr(e,t,n){var r=e instanceof Kr?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function $r(e){return new e.Collection(e,(function(){return Vr("")})).limit(0)}function Ur(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var l=t[s];if(l!==r[s])return o(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):o(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[s],l)<0&&(u=s)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function Wr(e,t,n,r){var o,i,a,u,s,l,c,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return zr(e,"String expected.");function d(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Br:jr;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),l=e,c="next"===e?"":r}d("next");var p=new e.Collection(e,(function(){return Hr(u[0],s[f-1]+r)}));p._ondirectionchange=function(e){d(e)};var h=0;return p._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var d=i(o);if(t(d,s,h))return!0;for(var p=null,v=h;v<f;++v){var m=Ur(o,d,u[v],s[v],a,l);null===m&&null===p?h=v+1:(null===p||a(p,m)>0)&&(p=m)}return n(null!==p?function(){e.continue(p+c)}:r),!1})),p}function Hr(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Vr(e){return{type:1,lower:e,upper:e}}var Kr=function(){function e(){v(this,e)}return g(e,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?$r(this):new this.Collection(this,(function(){return Hr(e,t,!n,!r)}))}catch(e){return zr(this,hr)}}},{key:"equals",value:function(e){return null==e?zr(this,hr):new this.Collection(this,(function(){return Vr(e)}))}},{key:"above",value:function(e){return null==e?zr(this,hr):new this.Collection(this,(function(){return Hr(e,void 0,!0)}))}},{key:"aboveOrEqual",value:function(e){return null==e?zr(this,hr):new this.Collection(this,(function(){return Hr(e,void 0,!1)}))}},{key:"below",value:function(e){return null==e?zr(this,hr):new this.Collection(this,(function(){return Hr(void 0,e,!1,!0)}))}},{key:"belowOrEqual",value:function(e){return null==e?zr(this,hr):new this.Collection(this,(function(){return Hr(void 0,e)}))}},{key:"startsWith",value:function(e){return"string"!=typeof e?zr(this,"String expected."):this.between(e,e+pr,!0,!0)}},{key:"startsWithIgnoreCase",value:function(e){return""===e?this.startsWith(e):Wr(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],pr)}},{key:"equalsIgnoreCase",value:function(e){return Wr(this,(function(e,t){return e===t[0]}),[e],"")}},{key:"anyOfIgnoreCase",value:function(){var e=Mt.apply(Tt,arguments);return 0===e.length?$r(this):Wr(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var e=Mt.apply(Tt,arguments);return 0===e.length?$r(this):Wr(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,pr)}},{key:"anyOf",value:function(){var e=this,t=Mt.apply(Tt,arguments),n=this._cmp;try{t.sort(n)}catch(t){return zr(this,hr)}if(0===t.length)return $r(this);var r=new this.Collection(this,(function(){return Hr(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;n(a,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r}},{key:"notEqual",value:function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var e=Mt.apply(Tt,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return zr(this,hr)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(e,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===e.length)return $r(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0})))return zr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Gt.InvalidArgument);var s,l=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers,f=o;function d(e,t){return f(e[0],t[0])}try{s=e.reduce((function(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=a(i[0],t[0]),i[1]=u(i[1],t[1]);break}}return n===o&&e.push(t),e}),[]),s.sort(d)}catch(e){return zr(this,hr)}var p=0,h=c?function(e){return o(e,s[p][1])>0}:function(e){return o(e,s[p][1])>=0},v=l?function(e){return i(e,s[p][0])>0}:function(e){return i(e,s[p][0])>=0},m=h,g=new this.Collection(this,(function(){return Hr(s[0][0],s[s.length-1][1],!l,!c)}));return g._ondirectionchange=function(e){"next"===e?(m=h,f=o):(m=v,f=i),s.sort(d)},g._addAlgorithm((function(e,t,r){for(var i=e.key;m(i);)if(++p===s.length)return t(r),!1;return!!function(e){return!h(e)&&!v(e)}(i)||(0===n._cmp(i,s[p][1])||0===n._cmp(i,s[p][0])||t((function(){f===o?e.continue(s[p][0]):e.continue(s[p][1])})),!1)})),g}},{key:"startsWithAnyOf",value:function(){var e=Mt.apply(Tt,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?$r(this):this.inAnyRange(e.map((function(e){return[e,e+pr]}))):zr(this,"startsWithAnyOf() only works with strings")}}]),e}();function qr(e){return Vn((function(t){return Gr(t),e(t.target.error),!1}))}function Gr(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Jr=Er(null,"storagemutated"),Yr=function(){function e(){v(this,e)}return g(e,[{key:"_lock",value:function(){return pt(!An.global),++this._reculock,1!==this._reculock||An.global||(An.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(pt(!An.global),0==--this._reculock)for(An.global||(An.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ar(e[1],e[0])}catch(e){}}return this}},{key:"_locked",value:function(){return this._reculock&&An.lockOwnerFor!==this}},{key:"create",value:function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(pt(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Gt.DatabaseClosed(r);case"MissingAPIError":throw new Gt.MissingAPI(r.message,r);default:throw new Gt.OpenFailed(r)}if(!this.active)throw new Gt.TransactionInactive;return pt(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Vn((function(n){Gr(n),t._reject(e.error)})),e.onabort=Vn((function(n){Gr(n),t.active&&t._reject(new Gt.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Vn((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Jr.storagemutated.fire(e.mutatedParts)})),this}},{key:"_promise",value:function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return fr(new Gt.ReadOnly("Transaction is readonly"));if(!this.active)return fr(new Gt.TransactionInactive);if(this._locked())return new Tn((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},An])}));if(n)return Qn((function(){var e=new Tn((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new Tn((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(e){var t=this._root(),n=Tn.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new Tn((function(e,r){n.then((function(n){return t._waitingQueue.push(Vn(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Vn(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Gt.Abort))}},{key:"table",value:function(e){var t=this._memoizedTables||(this._memoizedTables={});if(rt(t,e))return t[e];var n=this.schema[e];if(!n)throw new Gt.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}]),e}();function Xr(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+Qr(t)}}function Qr(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Zr(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:vt(n,(function(e){return[e.name,e]}))}}var eo=function(e){try{return e.only([[]]),eo=function(){return[[]]},[[]]}catch(e){return eo=function(){return pr},pr}};function to(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return mt(t,e)}}(e):function(t){return mt(t,e)}}function no(e){return[].slice.call(e)}var ro=0;function oo(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function io(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}var o=function(e,t){var n=no(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=Ze(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:to(t)},indexes:no(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,a={name:t,compound:Ze(o),keyPath:o,unique:n,multiEntry:r,extractKey:to(o)};return i[oo(o)]=a,a})),getIndexByKeyPath:function(e){return i[oo(e)]}};return i[":id"]=a.primaryKey,null!=t&&(i[oo(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.schema,a=o.hasGetAll,u=i.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,o=e.type,i=e.keys,a=e.values,u=e.range;return new Promise((function(e,s){e=Vn(e);var l=n.objectStore(t),c=null==l.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var d,p=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var h=[],v=[],m=0,g=function(e){++m,Gr(e)};if("deleteRange"===o){if(4===u.type)return e({numFailures:m,failures:v,results:[],lastResult:void 0});3===u.type?h.push(d=l.clear()):h.push(d=l.delete(r(u)))}else{var y=Ye(f?c?[a,i]:[a,null]:[i,null],2),b=y[0],k=y[1];if(f)for(var w=0;w<p;++w)h.push(d=k&&void 0!==k[w]?l[o](b[w],k[w]):l[o](b[w])),d.onerror=g;else for(var x=0;x<p;++x)h.push(d=l[o](b[x])),d.onerror=g}var S=function(t){var n=t.target.result;h.forEach((function(e,t){return null!=e.error&&(v[t]=e.error)})),e({numFailures:m,failures:v,results:"delete"===o?i:h.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){g(e),S(e)},d.onsuccess=S}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=Vn(e);for(var i,a=n.objectStore(t),u=r.length,s=new Array(u),l=0,c=0,f=function(t){var n=t.target;s[n._pos]=n.result,++c===l&&e(s)},d=qr(o),p=0;p<u;++p)null!=r[p]&&((i=a.get(r[p]))._pos=p,i.onsuccess=f,i.onerror=d,++l);0===l&&e(s)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=Vn(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=qr(o)}))},query:function(e){return function(n){return new Promise((function(o,i){o=Vn(o);var a=n.trans,u=n.values,s=n.limit,l=n.query,c=s===1/0?void 0:s,f=l.index,d=l.range,p=a.objectStore(t),h=f.isPrimaryKey?p:p.index(f.name),v=r(d);if(0===s)return o({result:[]});if(e){var m=u?h.getAll(v,c):h.getAllKeys(v,c);m.onsuccess=function(e){return o({result:e.target.result})},m.onerror=qr(i)}else{var g=0,y=u||!("openKeyCursor"in h)?h.openCursor(v):h.openKeyCursor(v),b=[];y.onsuccess=function(e){var t=y.result;return t?(b.push(u?t.value:t.primaryKey),++g===s?o({result:b}):void t.continue()):o({result:b})},y.onerror=qr(i)}}))}}(a),openCursor:function(e){var n=e.trans,o=e.values,i=e.query,a=e.reverse,u=e.unique;return new Promise((function(e,s){e=Vn(e);var l=i.index,c=i.range,f=n.objectStore(t),d=l.isPrimaryKey?f:f.index(l.name),p=a?u?"prevunique":"prev":u?"nextunique":"next",h=o||!("openKeyCursor"in d)?d.openCursor(r(c),p):d.openKeyCursor(r(c),p);h.onerror=qr(s),h.onsuccess=Vn((function(t){var r=h.result;if(r){r.___id=++ro,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Vn(s),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Vn(e),h.onerror=qr(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(h.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return h.onsuccess=Vn((function(e){h.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),t},e(r)}else e(null)}),s)}))},count:function(e){var n=e.query,o=e.trans,i=n.index,a=n.range;return new Promise((function(e,n){var u=o.objectStore(t),s=i.isPrimaryKey?u:u.index(i.name),l=r(a),c=l?s.count(l):s.count();c.onsuccess=Vn((function(t){return e(t.target.result)})),c.onerror=qr(n)}))}}}(e)})),s={};return u.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:eo(t),schema:i}}function ao(e,t){var n=e._novip,r=t.db,o=function(e,t,n,r){var o=n.IDBKeyRange,i=(n.indexedDB,function(e,t){return t.reduce((function(e,t){var n=t.create;return h(h({},e),n(e))}),e)}(io(t,o,r),e.dbcore));return{dbcore:i}}(n._middlewares,r,n._deps,t);n.core=o.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function uo(e,t,n,r){var o=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=lt(t,e);(!r||"value"in r&&void 0===r.value)&&(t===o.Transaction.prototype||t instanceof o.Transaction?at(t,e,{get:function(){return this.table(e)},set:function(t){it(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new o.Table(e,n))}))}))}function so(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]}))}function lo(e,t){return e._cfg.version-t._cfg.version}function co(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),u=An.transless||An;Qn((function(){An.trans=i,An.transless=u,0===t?(Qe(o).forEach((function(e){po(n,e,o[e].primKey,o[e].indexes)})),ao(e,n),Tn.follow((function(){return e.on.populate.fire(i)})).catch(a)):function(e,t,n,r){var o=e._novip,i=[],a=o._versions,u=o._dbSchema=vo(o,o.idbdb,r),s=!1;return a.filter((function(e){return e._cfg.version>=t})).forEach((function(e){i.push((function(){var i=u,a=e._cfg.dbschema;mo(o,i,r),mo(o,a,r),u=o._dbSchema=a;var l=fo(i,a);l.add.forEach((function(e){po(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new Gt.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return ho(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),ho(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>t){ao(o,r),n._memoizedTables={},s=!0;var f=yt(a);l.del.forEach((function(e){f[e]=i[e]})),so(o,[o.Transaction.prototype]),uo(o,[o.Transaction.prototype],Qe(f),f),n.schema=f;var d,p=Nt(c);p&&Zn();var h=Tn.follow((function(){if((d=c(n))&&p){var e=er.bind(null,null);d.then(e,e)}}));return d&&"function"==typeof d.then?Tn.resolve(d):h.then((function(){return d}))}})),i.push((function(t){s&&gr||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t),so(o,[o.Transaction.prototype]),uo(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),function e(){return i.length?Tn.resolve(i.shift()(n.idbtrans)).then(e):Tn.resolve()}().then((function(){var e,t;t=r,Qe(e=u).forEach((function(n){t.db.objectStoreNames.contains(n)||po(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}function fo(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!mr)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,s=i.idxByName,l=void 0;for(l in u)s[l]||a.del.push(l);for(l in s){var c=u[l],f=s[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function po(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return ho(o,e)})),o}function ho(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function vo(e,t,n){var r={};return ft(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=Xr(Qr(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[],u=0;u<t.indexNames.length;++u){var s=t.index(t.indexNames[u]);o=s.keyPath;var l=Xr(s.name,o,!!s.unique,!!s.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(l)}r[e]=Zr(e,i,a)})),r}function mo(e,t,n){for(var r=e._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var l=u.indexNames[s],c=u.index(l).keyPath,f="string"==typeof c?c:"["+ft(c).join("+")+"]";if(t[a]){var d=t[a].idxByName[f];d&&(d.name=l,delete t[a].idxByName[f],t[a].idxByName[l]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Xe.WorkerGlobalScope&&Xe instanceof Xe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var go=function(){function e(){v(this,e)}return g(e,[{key:"_parseStoresSpec",value:function(e,t){Qe(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Xr(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ze(r),0===t)})),o=r.shift();if(o.multi)throw new Gt.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new Gt.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Gt.Schema("Index must have a name and cannot be an empty string")})),t[n]=Zr(n,o,r)}}))}},{key:"stores",value:function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?et(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){et(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,so(t,[t._allTables,t,t.Transaction.prototype]),uo(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Qe(o),o),t._storeNames=Qe(o),this}},{key:"upgrade",value:function(e){return this._cfg.contentUpgrade=an(this._cfg.contentUpgrade||Xt,e),this}}]),e}();function yo(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new zo("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function bo(e){return e&&"function"==typeof e.databases}function ko(e){return Qn((function(){return An.letThrough=!0,e()}))}function wo(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function xo(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):Ze(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function So(e,t,n){var r=arguments.length;if(r<2)throw new Gt.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=kt(o);return[e,i,n]}function Eo(e,t,n,r,o){return Tn.resolve().then((function(){var i=An.transless||An,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Kt.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return Eo(e,t,n,null,o)}))):fr(r)}var s,l=Nt(o);l&&Zn();var c=Tn.follow((function(){if(s=o.call(a,a))if(l){var e=er.bind(null,null);s.then(e,e)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=xo(s))}),u);return(s&&"function"==typeof s.then?Tn.resolve(s).then((function(e){return a.active?e:fr(new Gt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):c.then((function(){return s}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),fr(e)}))}))}function Co(e,t,n){for(var r=Ze(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var Ao={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return h(h({},e),{},{table:function(t){var n=e.table(t),r=n.schema,o={},i=[];function a(e,t,n){var r=oo(e),u=o[r]=o[r]||[],s=null==e?0:"string"==typeof e?1:e.length,l=t>0,c=h(h({},n),{},{isVirtual:l,keyTail:t,keyLength:s,extractKey:to(e),unique:!l&&n.unique});return u.push(c),c.isPrimaryKey||i.push(c),s>1&&a(2===s?e[0]:e.slice(0,s-1),t+1,n),u.sort((function(e,t){return e.keyTail-t.keyTail})),c}var u=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[u];var s,l=qe(r.indexes);try{for(l.s();!(s=l.n()).done;){var c=s.value;a(c.keyPath,0,c)}}catch(p){l.e(p)}finally{l.f()}function f(t){var n,r,o=t.query.index;return o.isVirtual?h(h({},t),{},{query:{index:o,range:(n=t.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:Co(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:Co(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}var d=h(h({},n),{},{schema:h(h({},r),{},{primaryKey:u,indexes:i,getIndexByKeyPath:function(e){var t=o[oo(e)];return t&&t[0]}}),count:function(e){return n.count(f(e))},query:function(e){return n.query(f(e))},openCursor:function(t){var r=t.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;return i?n.openCursor(f(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(Co(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Co(t,e.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}});return r}(n)})):n.openCursor(t)}});return d}})}};function Do(e,t,n,r){return n=n||{},r=r||"",Qe(e).forEach((function(o){if(rt(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var u=Dt(i);u!==Dt(a)?n[r+o]=t[o]:"Object"===u?Do(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),Qe(t).forEach((function(o){rt(e,o)||(n[r+o]=t[o])})),n}var Oo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return h(h({},e),{},{table:function(t){var n=e.table(t),r=n.schema.primaryKey,o=h(h({},n),{},{mutate:function(e){var o=An.trans,i=o.table(t).hook,a=i.deleting,u=i.creating,s=i.updating;switch(e.type){case"add":if(u.fire===Xt)break;return o._promise("readwrite",(function(){return l(e)}),!0);case"put":if(u.fire===Xt&&s.fire===Xt)break;return o._promise("readwrite",(function(){return l(e)}),!0);case"delete":if(a.fire===Xt)break;return o._promise("readwrite",(function(){return l(e)}),!0);case"deleteRange":if(a.fire===Xt)break;return o._promise("readwrite",(function(){return function(e){return c(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function l(e){var t=An.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?h(h({},e),{},{keys:o}):h({},e)).type&&(e.values=d(e.values)),e.keys&&(e.keys=d(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((function(i){var l=o.map((function(n,o){var l=i[o],c={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(c,n,l,t);else if("add"===e.type||void 0===l){var f=u.fire.call(c,n,e.values[o],t);null==n&&null!=f&&(n=f,e.keys[o]=n,r.outbound||gt(e.values[o],r.keyPath,n))}else{var d=Do(l,e.values[o]),p=s.fire.call(c,d,n,l,t);if(p){var h=e.values[o];Object.keys(p).forEach((function(e){rt(h,e)?h[e]=p[e]:gt(h,e,p[e])}))}}return c}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,a=t.numFailures,u=t.lastResult,s=0;s<o.length;++s){var c=r?r[s]:o[s],f=l[s];null==c?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===e.type&&i[s]?e.values[s]:c)}return{failures:n,results:r,numFailures:a,lastResult:u}})).catch((function(e){return l.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function c(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((function(n){var r=n.result;return l({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:c(e,h(h({},t),{},{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}});return o}})}};function _o(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===Rr(t.keys[o],e[i])&&(r.push(n?Et(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}}var To={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return h(h({},n),{},{getMany:function(e){if(!e.cache)return n.getMany(e);var t=_o(e.keys,e.trans._cache,"clone"===e.cache);return t?Tn.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?Et(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function Mo(e){return!("from"in e)}var No=function e(t,n){if(!this){var r=new e;return t&&"d"in t&&et(r,t),r}et(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0})};function Ro(e,t,n){var r=Rr(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Mo(e))return et(e,{from:t,to:n,d:1});var o=e.l,i=e.r;if(Rr(n,e.from)<0)return o?Ro(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Fo(e);if(Rr(t,e.to)>0)return i?Ro(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Fo(e);Rr(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Rr(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;o&&!e.l&&Po(e,o),i&&a&&Po(e,i)}}function Po(e,t){Mo(t)||function e(t,n){var r=n.from,o=n.to,i=n.l,a=n.r;Ro(t,r,o),i&&e(t,i),a&&e(t,a)}(e,t)}function Io(e){var t=Mo(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Rr(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Rr(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Fo(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var i="r"===o?"l":"r",a=h({},e),u=e[o];e.from=u.from,e.to=u.to,e[o]=u[o],a[o]=u[i],e[i]=a,a.d=Lo(a)}e.d=Lo(e)}function Lo(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}ot(No.prototype,s({add:function(e){return Po(this,e),this},addKey:function(e){return Ro(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return Ro(t,e,e)})),this}},Ot,(function(){return Io(this)})));var Bo,jo={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new No(e.MIN_KEY,e.MAX_KEY);return h(h({},e),{},{table:function(r){var o=e.table(r),i=o.schema,a=i.primaryKey,u=a.extractKey,s=a.outbound,l=h(h({},o),{},{mutate:function(e){var a=e.trans,u=a.mutatedParts||(a.mutatedParts={}),s=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return u[n]||(u[n]=new No)},l=s(""),c=s(":dels"),f=e.type,d=Ye("deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],2),p=d[0],h=d[1],v=e.trans._cache;return o.mutate(e).then((function(e){if(Ze(p)){"delete"!==f&&(p=e.results),l.addKeys(p);var t=_o(p,v);t||"add"===f||c.addKeys(p),(t||h)&&function(e,t,n,r){t.indexes.forEach((function(t){var o=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}var a=function(e){return t.multiEntry&&Ze(e)?e.forEach((function(e){return o.addKey(e)})):o.addKey(e)};(n||r).forEach((function(e,t){var o=n&&i(n[t]),u=r&&i(r[t]);0!==Rr(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}))}(s,i,t,h)}else if(p){var r={from:p.lower,to:p.upper};c.add(r),l.add(r)}else l.add(n),c.add(n),i.indexes.forEach((function(e){return s(e.name).add(n)}));return e}))}}),c=function(t){var n,r,o=t.query,i=o.index,a=o.range;return[i,new No(null!==(n=a.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:e.MAX_KEY)]},f={get:function(e){return[a,new No(e.key)]},getMany:function(e){return[a,(new No).addKeys(e.keys)]},count:c,query:c,openCursor:c};return Qe(f).forEach((function(e){l[e]=function(i){var a=An,l=a.subscr;if(l){var c=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return l[n]||(l[n]=new No)},d=c(""),p=c(":dels"),v=f[e](i),m=Ye(v,2),g=m[0],y=m[1];if(c(g.name||"").add(y),!g.isPrimaryKey){if("count"!==e){var b="query"===e&&s&&i.values&&o.query(h(h({},i),{},{values:!1}));return o[e].apply(this,arguments).then((function(t){if("query"===e){if(s&&i.values)return b.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=i.values?t.result.map(u):t.result;i.values?d.addKeys(n):p.addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return p.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return p.addKey(e),e}},value:{get:function(){return o&&d.addKey(r.primaryKey),r.value}}})}return t}))}p.add(n)}}return o[e].apply(this,arguments)}})),l}})}},zo=function(){function e(t,n){var r=this;v(this,e),this._middlewares={},this.verno=0;var o=e.dependencies;this._options=n=h({addons:e.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Xt,dbReadyPromise:null,cancelOpen:Xt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};u.dbReadyPromise=new Tn((function(e){u.dbReadyResolve=e})),u.openCanceller=new Tn((function(e,t){u.cancelOpen=t})),this._state=u,this.name=t,this.on=Er(this,"populate","blocked","versionchange","close",{ready:[an,Xt]}),this.on.ready.subscribe=dt(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||Tn.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(a=this,Cr(Fr.prototype,(function(e,t){this.db=a;var n=wr,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table,u=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:u!==Qt?u:null}}))),this.Table=function(e){return Cr(Sr.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Er(null,{creating:[tn,Xt],reading:[Zt,Qt],updating:[rn,Xt],deleting:[nn,Xt]})}))}(this),this.Transaction=function(e){return Cr(Yr.prototype,(function(t,n,r,o,i){var a=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Er(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Tn((function(e,t){a._resolve=e,a._reject=t})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(e){var t=a.active;return a.active=!1,a.on.error.fire(e),a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort(),fr(e)}))}))}(this),this.Version=function(e){return Cr(go.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Cr(Kr.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var o=e._deps.indexedDB;if(!o)throw new Gt.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(e,t){return o.cmp(t,e)},this._max=function(e,t){return o.cmp(e,t)>0?e:t},this._min=function(e,t){return o.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=eo(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),vr.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Ao),this.use(Oo),this.use(jo),this.use(To),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach((function(e){return e(r)}))}return g(e,[{key:"version",value:function(e){if(isNaN(e)||e<.1)throw new Gt.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Gt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(lo),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(e){var t=this;return this.idbdb&&(this._state.openComplete||An.letThrough||this._vip)?e():new Tn((function(e,n){if(t._state.openComplete)return n(new Gt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new Gt.DatabaseClosed);t.open().catch(Xt)}t._state.dbReadyPromise.then(e,n)})).then(e)}},{key:"use",value:function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this}},{key:"unuse",value:function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this}},{key:"open",value:function(){return function(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?fr(t.dbOpenError):e}));Rt&&(t.openCanceller._stackHolder=Lt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new Gt.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,a=null,u=!1;return Tn.race([r,("undefined"==typeof navigator?Tn.resolve():wo()).then((function(){return new Tn((function(r,i){if(o(),!n)throw new Gt.MissingAPI;var s=e.name,l=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!l)throw new Gt.MissingAPI;l.onerror=qr(i),l.onblocked=Vn(e._fireOnBlocked),l.onupgradeneeded=Vn((function(r){if(a=l.transaction,t.autoSchema&&!e._options.allowEmptyDB){l.onerror=Gr,a.abort(),l.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=Vn((function(){i(new Gt.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{a.onerror=qr(i);var c=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=c<1,e._novip.idbdb=l.result,co(e,c/10,a,i)}}),i),l.onsuccess=Vn((function(){a=null;var n,o=e._novip.idbdb=l.result,i=ft(o.objectStoreNames);if(i.length>0)try{var c=o.transaction(1===(n=i).length?n[0]:n,"readonly");t.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var o=r._dbSchema=vo(0,t,n);r._storeNames=ft(t.objectStoreNames,0),uo(r,[r._allTables],Qe(o),o)}(e,o,c):(mo(e,e._dbSchema,c),function(e,t){var n=fo(vo(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,c)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ao(e,c)}catch(e){}vr.push(e),o.onversionchange=Vn((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),o.onclose=Vn((function(t){e.on("close").fire(t)})),u&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!bo(n)&&"__dbnames"!==t&&yo(n,r).put({name:t}).catch(Xt)}(e._deps,s),r()}),i)}))}))]).then((function(){return o(),t.onReadyBeingFired=[],Tn.resolve(ko((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(an,Xt);return t.onReadyBeingFired=[],Tn.resolve(ko((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((function(){return e})).catch((function(n){t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),fr(n)})).finally((function(){t.openComplete=!0,i()}))}(this)}},{key:"_close",value:function(){var e=this._state,t=vr.indexOf(this);if(t>=0&&vr.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Tn((function(t){e.dbReadyResolve=t})),e.openCanceller=new Tn((function(t,n){e.cancelOpen=n}))}},{key:"close",value:function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Gt.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}},{key:"delete",value:function(){var e=this,t=arguments.length>0,n=this._state;return new Tn((function(r,o){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Vn((function(){!function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!bo(n)&&"__dbnames"!==t&&yo(n,r).delete(t).catch(Xt)}(e._deps,e.name),r()})),t.onerror=qr(o),t.onblocked=e._fireOnBlocked};if(t)throw new Gt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var e=this;return Qe(this._allTables).map((function(t){return e._allTables[t]}))}},{key:"transaction",value:function(){var e=So.apply(this,arguments);return this._transaction.apply(this,e)}},{key:"_transaction",value:function(e,t,n){var r=this,o=An.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Gt.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!u)throw new Gt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!u)throw new Gt.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,(function(t,n){n(e)})):fr(e)}var s=Eo.bind(null,this,i,a,o,n);return o?o._promise(i,s,"lock"):An.trans?ar(An.transless,(function(){return r._whenReady(s)})):this._whenReady(s)}},{key:"table",value:function(e){if(!rt(this._allTables,e))throw new Gt.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}]),e}(),$o="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Uo=function(){function e(t){v(this,e),this._subscribe=t}return g(e,[{key:"subscribe",value:function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}},{key:$o,value:function(){return this}}]),e}();function Wo(e,t){return Qe(t).forEach((function(n){Po(e[n]||(e[n]=new No),t[n])})),e}try{Bo={indexedDB:Xe.indexedDB||Xe.mozIndexedDB||Xe.webkitIndexedDB||Xe.msIndexedDB,IDBKeyRange:Xe.IDBKeyRange||Xe.webkitIDBKeyRange}}catch(Xe){Bo={indexedDB:null,IDBKeyRange:null}}var Ho=zo;function Vo(e){var t=Ko;try{Ko=!0,Jr.storagemutated.fire(e)}finally{Ko=t}}ot(Ho,h(h({},Yt),{},{delete:function(e){return new Ho(e,{addons:[]}).delete()},exists:function(e){return new Ho(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return bo(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):yo(t,n).toCollection().primaryKeys()}(Ho.dependencies).then(e)}catch(e){return fr(new Gt.MissingAPI)}},defineClass:function(){return function(e){et(this,e)}},ignoreTransaction:function(e){return An.trans?ar(An.transless,e):e()},vip:ko,async:function(e){return function(){try{var t=xo(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Tn.resolve(t)}catch(e){return fr(e)}}},spawn:function(e,t,n){try{var r=xo(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Tn.resolve(r)}catch(e){return fr(e)}},currentTransaction:{get:function(){return An.trans||null}},waitFor:function(e,t){var n=Tn.resolve("function"==typeof e?Ho.ignoreTransaction(e):e).timeout(t||6e4);return An.trans?An.trans.waitFor(n):n},Promise:Tn,debug:{get:function(){return Rt},set:function(e){Pt(e,"dexie"===e?function(){return!0}:br)}},derive:ut,extend:et,props:ot,override:dt,Events:Er,on:Jr,liveQuery:function(e){return new Uo((function(t){var n=Nt(e),r=!1,o={},i={},a={get closed(){return r},unsubscribe:function(){r=!0,Jr.storagemutated.unsubscribe(c)}};t.start&&t.start(a);var u=!1,s=!1;function l(){return Qe(i).some((function(e){return o[e]&&function(e,t){var n=Io(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=Io(e),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(Rr(u.from,o.to)<=0&&Rr(u.to,o.from)>=0)return!0;Rr(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(o[e],i[e])}))}var c=function(e){Wo(o,e),l()&&f()},f=function f(){if(!u&&!r){o={};var d={},p=function(t){n&&Zn();var r=function(){return Qn(e,{subscr:t,trans:null})},o=An.trans?ar(An.transless,r):r();return n&&o.then(er,er),o}(d);s||(Jr("storagemutated",c),s=!0),u=!0,Promise.resolve(p).then((function(e){u=!1,r||(l()?f():(o={},i=d,t.next&&t.next(e)))}),(function(e){u=!1,t.error&&t.error(e),a.unsubscribe()}))}};return f(),a}))},extendObservabilitySet:Wo,getByKeyPath:mt,setByKeyPath:gt,delByKeyPath:function(e,t){"string"==typeof t?gt(e,t,void 0):"length"in t&&[].map.call(t,(function(t){gt(e,t,void 0)}))},shallowClone:yt,deepClone:Et,getObjectDiff:Do,cmp:Rr,asap:ht,minKey:-1/0,addons:[],connections:vr,errnames:Kt,dependencies:Bo,semVer:"3.2.2",version:"3.2.2".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),Ho.maxKey=eo(Ho.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Jr("storagemutated",(function(e){var t;Ko||(mr?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ko=!0,dispatchEvent(t),Ko=!1)})),addEventListener("x-storagemutated-1",(function(e){var t=e.detail;Ko||Vo(t)})));var Ko=!1;if("undefined"!=typeof BroadcastChannel){var qo=new BroadcastChannel("x-storagemutated-1");Jr("storagemutated",(function(e){Ko||qo.postMessage(e)})),qo.onmessage=function(e){e.data&&Vo(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Jr("storagemutated",(function(e){try{Ko||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&d(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:"x-storagemutated-1",changedParts:e})})))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(e){if("x-storagemutated-1"===e.key){var t=JSON.parse(e.newValue);t&&Vo(t.changedParts)}}));var Go=self.document&&navigator.serviceWorker;Go&&Go.addEventListener("message",(function(e){var t=e.data;t&&"x-storagemutated-1"===t.type&&Vo(t.changedParts)}))}Tn.rejectionMapper=function(e,t){if(!e||e instanceof Ut||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Jt[e.name])return e;var n=new Jt[e.name](t||e.message,e);return"stack"in e&&at(n,"stack",{get:function(){return this.inner.stack}}),n},Pt(Rt,br);var Jo=localStorage,Yo=new zo("oinkedit");function Xo(){return(Xo=Ke(He().mark((function e(){var t,n,r,o,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Yo.table("config"),Jo.getItem("initialized")!==I.version&&(console.log("ini",I),n="\n        --c-base: mintcream;\n        --c-taskbar: beige;\n        --c-menu: honeydew;\n        --c-menu-1: antiquewhite;\n        --c-menu-2: beige;\n        --c-link: #0E73E5;\n        --c-link-tra: #B7B0DFB9;\n        --c-link-d: #164F96;\n        --c-active: olive;\n        --c-boxshadow: skyblue;\n        --c-focus: dodgerblue;\n        --c-warning :#F9DF82;\n        --c-danger: #FF416C;\n        --c-success: #27CE7F;\n        --c-selection: #A1CDED;\n        --c-text-menu: #191711;\n        --c-text-main: #242322;\n        --c-text-nav: black;\n        --c-black-tra: #2423220F;\n        --c-black-tra-1: #24232219;\n        --c-black-tra-2: #24232223;\n        --c-black-tra-3: #2423224A;\n        --c-black-tra-4: #24232259;\n        --c-black-tra-5: #2423226E;\n        --c-1: #CEF6E3;\n        --c-2: #17F18B;\n        --c-3: #FFE8CF;\n        --c-3-a: #FFECCC;\n        --c-4: #FDFDC4;\n        --c-4-a: #F4F3CC;\n        --c-5: #CCFFEC;\n        --c-5-a: #C9FCE9;\n        --c-6: #FFD3D3;\n        --c-6-a: #FFE4E4;\n        --c-black: black;\n        --c-grey--2: #444;\n        --c-grey--1: dimgrey;\n        --c-grey: grey;\n        --c-grey-1: #989898;\n        --c-grey-2: darkgrey;\n        --c-grey-3: #AEAEAE;\n        --c-grey-4: #BABABA;\n        --c-grey-4-5: #CBCBCB;\n        --c-grey-5: lightgrey;\n        --c-grey-6: #DADADA;\n        --c-grey-7: #EAEAEA;\n        --c-grey-8: #EFEFEF;\n        --c-overlay: #2228".replaceAll(/\s*/g,""),Yo.table("config").bulkPut([{key:"book-list",value:[]},{key:"book-history",value:[]},{key:"themes",value:{default:n}},{key:"windows",value:[]}]),Jo.setItem("initialized",I.version),Jo.setItem("currentBook",""),Jo.setItem("currentTheme","default"),"zh-cn"===(r=(navigator.language||navigator.browserLanguage).toLowerCase())?Jo.setItem("i18n","zh_hans"):"zh-tw"===r&&Jo.setItem("i18n","zh_hant"),parseInt(Jo.getItem("textEdited"))>0||(Jo.setItem("text",V.current.taskbar.customText),Jo.setItem("textEdited","0"))),o=$("currentTheme","default"),i=document.getElementById("body"),e.t0=i,e.t1=i.getAttribute("style"),e.t1){e.next=11;break}return e.next=8,t.get("themes");case 8:e.t2=o,e.t3=e.sent.value[e.t2],e.t1=""+e.t3;case 11:e.t4=e.t1,e.t0.setAttribute.call(e.t0,"style",e.t4);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Yo.version(1).stores({config:"key, value",blob:"++id"}),Yo.open();var Qo=!0;function Zo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function ei(){return ei="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Zo(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ei.apply(this,arguments)}var ti=n(1064),ni="ProseMirror-selectednode",ri=(".".concat(ni),"\0"),oi="__state_override__";var ii,ai={LastNodeCompatible:"lastNodeCompatible",FormattingMark:"formattingMark",FormattingNode:"formattingNode",NodeCursor:"nodeCursor",FontStyle:"fontStyle",Link:"link",Color:"color",Alignment:"alignment",Indentation:"indentation",Behavior:"behavior",Code:"code",InlineNode:"inline",ListContainerNode:"listContainer",ListItemNode:"listItemNode",Block:"block",BlockNode:"block",TextBlock:"textBlock",ExcludeInputRules:"excludeFromInputRules",PreventExits:"preventsExits",Media:"media"},ui=ai,si=Symbol.for("__remirror__"),li=function(e){return e.PlainExtension="RemirrorPlainExtension",e.NodeExtension="RemirrorNodeExtension",e.MarkExtension="RemirrorMarkExtension",e.PlainExtensionConstructor="RemirrorPlainExtensionConstructor",e.NodeExtensionConstructor="RemirrorNodeExtensionConstructor",e.MarkExtensionConstructor="RemirrorMarkExtensionConstructor",e.Manager="RemirrorManager",e.Preset="RemirrorPreset",e.PresetConstructor="RemirrorPresetConstructor",e}(li||{}),ci=function(e){return e[e.Critical=1e6]="Critical",e[e.Highest=1e5]="Highest",e[e.High=1e4]="High",e[e.Medium=1e3]="Medium",e[e.Default=100]="Default",e[e.Low=10]="Low",e[e.Lowest=0]="Lowest",e}(ci||{}),fi=function(e){return e[e.None=0]="None",e[e.Create=1]="Create",e[e.EditorView=2]="EditorView",e[e.Runtime=3]="Runtime",e[e.Destroy=4]="Destroy",e}(fi||{}),di=function(e){return e.Undo="_|undo|_",e.Redo="_|redo|_",e.Bold="_|bold|_",e.Italic="_|italic|_",e.Underline="_|underline|_",e.Strike="_|strike|_",e.Code="_|code|_",e.Paragraph="_|paragraph|_",e.H1="_|h1|_",e.H2="_|h2|_",e.H3="_|h3|_",e.H4="_|h4|_",e.H5="_|h5|_",e.H6="_|h6|_",e.TaskList="_|task|_",e.BulletList="_|bullet|_",e.OrderedList="_|number|_",e.Quote="_|quote|_",e.Divider="_|divider|_",e.Codeblock="_|codeblock|_",e.ClearFormatting="_|clear|_",e.Superscript="_|sup|_",e.Subscript="_|sub|_",e.LeftAlignment="_|left-align|_",e.CenterAlignment="_|center-align|_",e.RightAlignment="_|right-align|_",e.JustifyAlignment="_|justify-align|_",e.InsertLink="_|link|_",e.Find="_|find|_",e.FindBackwards="_|find-backwards|_",e.FindReplace="_|find-replace|_",e.AddFootnote="_|footnote|_",e.AddComment="_|comment|_",e.ContextMenu="_|context-menu|_",e.IncreaseFontSize="_|inc-font-size|_",e.DecreaseFontSize="_|dec-font-size|_",e.IncreaseIndent="_|indent|_",e.DecreaseIndent="_|dedent|_",e.Shortcuts="_|shortcuts|_",e.Copy="_|copy|_",e.Cut="_|cut|_",e.Paste="_|paste|_",e.PastePlain="_|paste-plain|_",e.SelectAll="_|select-all|_",e.Format="_|format|_",e}(di||{}),pi=function(e){return e.PROD="RMR0000",e.UNKNOWN="RMR0001",e.INVALID_COMMAND_ARGUMENTS="RMR0002",e.CUSTOM="RMR0003",e.CORE_HELPERS="RMR0004",e.MUTATION="RMR0005",e.INTERNAL="RMR0006",e.MISSING_REQUIRED_EXTENSION="RMR0007",e.MANAGER_PHASE_ERROR="RMR0008",e.INVALID_GET_EXTENSION="RMR0010",e.INVALID_MANAGER_ARGUMENTS="RMR0011",e.SCHEMA="RMR0012",e.HELPERS_CALLED_IN_OUTER_SCOPE="RMR0013",e.INVALID_MANAGER_EXTENSION="RMR0014",e.DUPLICATE_COMMAND_NAMES="RMR0016",e.DUPLICATE_HELPER_NAMES="RMR0017",e.NON_CHAINABLE_COMMAND="RMR0018",e.INVALID_EXTENSION="RMR0019",e.INVALID_CONTENT="RMR0021",e.INVALID_NAME="RMR0050",e.EXTENSION="RMR0100",e.EXTENSION_SPEC="RMR0101",e.EXTENSION_EXTRA_ATTRIBUTES="RMR0102",e.INVALID_SET_EXTENSION_OPTIONS="RMR0103",e.REACT_PROVIDER_CONTEXT="RMR0200",e.REACT_GET_ROOT_PROPS="RMR0201",e.REACT_EDITOR_VIEW="RMR0202",e.REACT_CONTROLLED="RMR0203",e.REACT_NODE_VIEW="RMR0204",e.REACT_GET_CONTEXT="RMR0205",e.REACT_COMPONENTS="RMR0206",e.REACT_HOOKS="RMR0207",e.I18N_CONTEXT="RMR0300",e}(pi||{}),hi=function(){var e=Array.prototype.slice.call(arguments).filter(Boolean).join(" ");return e},vi=n(9948),mi=n(8262),gi=n(7373),yi=n(9039),bi=Object.defineProperty,ki=function(e,t,n){return function(e,t,n){t in e?bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n};function wi(e,t,n){var r=e[t];return xi(!Ri(r),n),r}function xi(e,t){if(!e)throw new Si(t)}var Si=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),ki(x(e),"name","AssertionError"),e}return g(n)}(ti.BaseError);function Ei(e){return Object.entries(e)}function Ci(e){return Object.keys(e)}function Ai(e){return Object.values(e)}function Di(e,t,n){return e.includes(t,n)}function Oi(e){return Object.assign(Object.create(null),e)}function _i(e){return Object.prototype.toString.call(e)}function Ti(e){return _i(e).slice(8,-1)}function Mi(e,t){return function(n){return typeof n===e&&(!t||t(n))}}function Ni(e){return function(t){return Ti(t)===e}}var Ri=Mi("undefined"),Pi=Mi("string"),Ii=Mi("number",(function(e){return!Number.isNaN(e)})),Fi=Mi("function");function Li(e){return null===e}Mi("symbol");function Bi(e){if("Object"!==Ti(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})}function ji(e){return null==e||/^[bns]/.test(typeof e)}function zi(e){return Li(e)||Ri(e)}function $i(e){return!zi(e)&&(Fi(e)||Mi("object")(e))}var Ui=Ni("RegExp");Ni("Date"),Ni("Error");function Wi(e){return $i(e)&&!function(e){return Ni("Map")(e)}(e)&&!function(e){return Ni("Set")(e)}(e)&&0===Object.keys(e).length}var Hi=Array.isArray;function Vi(e){return Hi(e)&&0===e.length}function Ki(e){return Hi(e)&&e.length>0}function qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!!e};t.lastIndex=0;var r,o=[],i=t.flags;i.includes("g")||(t=new RegExp(t.source,"g".concat(i)));do{(r=t.exec(e))&&o.push(r)}while(n(r));return t.lastIndex=0,o}function Gi(){var e=Date.now(),t=Gi.last||e;return Gi.last=e>t?e:t+1}function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat(Gi().toString(36))}function Yi(e){if(!Bi(e))throw new Error("An invalid value was passed into this clone utility. Expected a plain object");return h({},e)}Gi.last=0;var Xi=mi;function Qi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?d(e).reverse():e,r=new Set(n);return t?d(r).reverse():d(r)}function Zi(e){var t,n=[],r=qe(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=Hi(o)?Zi(o):[o];n.push.apply(n,d(i))}}catch(a){r.e(a)}finally{r.f()}return n}function ea(){}function ta(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vi.all(t,{isMergeableObject:Bi})}function na(e){var t=e.min,n=e.max,r=e.value;return r<t?t:r>n?n:r}function ra(e){return e[e.length-1]}function oa(e,t){return d(e).map((function(e,t){return{value:e,index:t}})).sort((function(e,n){return t(e.value,n.value)||e.index-n.index})).map((function(e){return e.value}))}function ia(e,t){var n,r=Yi(t),o=r,i=qe(e.entries());try{for(i.s();!(n=i.n()).done;){var a=Ye(n.value,2),u=a[0],s=a[1],l=u>=e.length-1,c=o[s];if(l){if(Hi(o)){var f=Number.parseInt(s.toString(),10);Ii(f)&&o.splice(f,1)}else Reflect.deleteProperty(o,s);return r}if(ji(c))return r;c=Hi(c)?d(c):h({},c),o[s]=c,o=c}}catch(p){i.e(p)}finally{i.f()}return r}function aa(e){return function(t){return function(e,t,n){try{if(Pi(t)&&t in e)return e[t];Hi(t)&&(t="['".concat(t.join("']['"),"']"));var r=e;return t.replace(/\[\s*(["'])(.*?)\1\s*]|^\s*(\w+)\s*(?=\.|\[|$)|\.\s*(\w*)\s*(?=\.|\[|$)|\[\s*(-?\d+)\s*]/g,(function(e,t,n,o,i,a){return r=r[n||o||i||a],""})),void 0===r?n:r}catch(o){return n}}(t,e)}}function ua(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[],i=new Set,a=Fi(t)?t:aa(t),u=r?d(e).reverse():e,s=qe(u);try{for(s.s();!(n=s.n()).done;){var l=n.value,c=a(l);i.has(c)||(i.add(c),o.push(l))}}catch(f){s.e(f)}finally{s.f()}return r?o.reverse():o}function sa(e,t){var n=Hi(e)?e[0]:e;return Ii(t)?n<=t?Array.from({length:t+1-n},(function(e,t){return t+n})):Array.from({length:n+1-t},(function(e,t){return-1*t+n})):Array.from({length:Math.abs(n)},(function(e,t){return(n<0?-1:1)*t}))}function la(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.filter(Ii);return e>=Math.min.apply(Math,d(o))&&e<=Math.max.apply(Math,d(o))}function ca(e){return Fi(e)?e():e}function fa(){return Qi(hi.apply(void 0,arguments).split(" ")).join(" ")}var da="https://remirror.io/docs/errors",pa=(s(ii={},pi.UNKNOWN,"An error occurred but we're not quite sure why. \ud83e\uddd0"),s(ii,pi.INVALID_COMMAND_ARGUMENTS,"The arguments passed to the command method were invalid."),s(ii,pi.CUSTOM,"This is a custom error, possibly thrown by an external library."),s(ii,pi.CORE_HELPERS,"An error occurred in a function called from the `@remirror/core-helpers` library."),s(ii,pi.MUTATION,"Mutation of immutable value detected."),s(ii,pi.INTERNAL,"This is an error which should not occur and is internal to the remirror codebase."),s(ii,pi.MISSING_REQUIRED_EXTENSION,"Your editor is missing a required extension."),s(ii,pi.MANAGER_PHASE_ERROR,"This occurs when accessing a method or property before it is available."),s(ii,pi.INVALID_GET_EXTENSION,"The user requested an invalid extension from the getExtensions method. Please check the `createExtensions` return method is returning an extension with the defined constructor."),s(ii,pi.INVALID_MANAGER_ARGUMENTS,"Invalid value(s) passed into `Manager` constructor. Only `Presets` and `Extensions` are supported."),s(ii,pi.SCHEMA,"There is a problem with the schema or you are trying to access a node / mark that doesn't exists."),s(ii,pi.HELPERS_CALLED_IN_OUTER_SCOPE,"The `helpers` method which is passed into the ``create*` method should only be called within returned method since it relies on an active view (not present in the outer scope)."),s(ii,pi.INVALID_MANAGER_EXTENSION,"You requested an invalid extension from the manager."),s(ii,pi.DUPLICATE_COMMAND_NAMES,"Command method names must be unique within the editor."),s(ii,pi.DUPLICATE_HELPER_NAMES,"Helper method names must be unique within the editor."),s(ii,pi.NON_CHAINABLE_COMMAND,"Attempted to chain a non chainable command."),s(ii,pi.INVALID_EXTENSION,"The provided extension is invalid."),s(ii,pi.INVALID_CONTENT,"The content provided to the editor is not supported."),s(ii,pi.INVALID_NAME,"An invalid name was used for the extension."),s(ii,pi.EXTENSION,"An error occurred within an extension. More details should be made available."),s(ii,pi.EXTENSION_SPEC,"The spec was defined without calling the `defaults`, `parse` or `dom` methods."),s(ii,pi.EXTENSION_EXTRA_ATTRIBUTES,"Extra attributes must either be a string or an object."),s(ii,pi.INVALID_SET_EXTENSION_OPTIONS,"A call to `extension.setOptions` was made with invalid keys."),s(ii,pi.REACT_PROVIDER_CONTEXT,"`useRemirrorContext` was called outside of the `remirror` context. It can only be used within an active remirror context created by the `<Remirror />`."),s(ii,pi.REACT_GET_ROOT_PROPS,"`getRootProps` has been attached to the DOM more than once. It should only be attached to the dom once per editor."),s(ii,pi.REACT_EDITOR_VIEW,"A problem occurred adding the editor view to the dom."),s(ii,pi.REACT_CONTROLLED,"There is a problem with your controlled editor setup."),s(ii,pi.REACT_NODE_VIEW,"Something went wrong with your custom ReactNodeView Component."),s(ii,pi.REACT_GET_CONTEXT,"You attempted to call `getContext` provided by the `useRemirror` prop during the first render of the editor. This is not possible and should only be after the editor first mounts."),s(ii,pi.REACT_COMPONENTS,"An error occurred within a remirror component."),s(ii,pi.REACT_HOOKS,"An error occurred within a remirror hook."),s(ii,pi.I18N_CONTEXT,"You called `useI18n()` outside of an `I18nProvider` context."),ii);function ha(e){return Pi(e)&&Di(Ai(pi),e)}function va(e,t){var n=pa[e],r=n?"".concat(n,"\n\n"):"",o=t?"".concat(t,"\n\n"):"";return"".concat(r).concat(o,"For more information visit ").concat(da,"#").concat(e.toLowerCase())}var ma=function(e){b(n,e);var t=E(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.code,i=r.message,a=r.disableLogging,u=void 0!==a&&a;v(this,n);var s=ha(o)?o:pi.CUSTOM;return e=t.call(this,va(s,i)),ki(x(e),"errorCode"),ki(x(e),"url"),e.errorCode=s,e.url="".concat(da,"#").concat(s.toLowerCase()),u||console.error(e.message),e}return g(n,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n(e)}}]),n}(ti.BaseError);function ga(e,t){if(!e)throw ma.create(t)}function ya(e){var t;if("object"!==typeof e||null===e)return e;var n=Symbol.toStringTag in e&&"Module"===e[Symbol.toStringTag]&&null!=(t=e.default)?t:e;return n&&"object"===typeof e&&"__esModule"in n&&n.__esModule&&void 0!==n.default?n.default:n}function ba(e){return e}function ka(e){var n=(0,t.createContext)(null),r=function(e){return function(n,r){var o=(0,t.useContext)(e),i=function(e){var n=(0,t.useRef)();return wa((function(){n.current=e})),n.current}(o);if(!o)throw new Error("`useContextHook` must be placed inside the `Provider` returned by the `createContextState` method");if(!n)return o;if("function"!==typeof n)throw new TypeError("invalid arguments passed to `useContextHook`. This hook must be called with zero arguments, a getter function or a path string.");var a=n(o);if(!i||!r)return a;var u=n(i);return r(u,a)?u:a}}(n);return[function(r){var o=e(r);return t.createElement(n.Provider,{value:o},r.children)},r,n]}var wa="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;function xa(e){return function(t){if(!e.current)throw new Error("`get` called outside of function scope. `get` can only be called within a function.");if(!t)return e.current;if("function"!==typeof t)throw new TypeError("Invalid arguments passed to `useContextHook`. The hook must be called with zero arguments, a getter function or a path string.");return t(e.current)}}function Sa(e){return function(t){if(!e.current)throw new Error("`set` called outside of function scope. `set` can only be called within a function.");e.current((function(e){return h(h({},e),"function"===typeof t?t(e):t)}))}}n(6091);var Ea=function(e){return"string"===typeof e},Ca=function(e){return"function"===typeof e},Aa=new Map,Da=new Map;function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r){if(Ea(r)&&(r=new Date(r)),n){var o=Ta(e,t),i=Da.get(o);if(i)return i.format(r);var a=new Intl.DateTimeFormat(e,t);return Da.set(o,a),a.format(r)}return new Intl.DateTimeFormat(e,t).format(r)}}function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r){if(n){var o=Ta(e,t),i=Aa.get(o);if(i)return i.format(r);var a=new Intl.NumberFormat(e,t);return Aa.set(o,a),a.format(r)}return new Intl.NumberFormat(e,t).format(r)}}function Ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e.sort().join("-"):e;return"".concat(n,"-").concat(JSON.stringify(t))}var Ma=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/g;function Na(e,t,n,r,o){var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{plurals:void 0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=t||e;var o=n.plurals,a=function(e){return Ea(e)?r[e]||{style:e}:e},u=function(e,n){return function(o){var i=Ca(n)?n(o):n,u=Array.isArray(i)?i:[i],s=Object.keys(r).length?a("number"):{},l=_a(t,s)(e);return u.map((function(e){return Ea(e)?e.replace("#",l):e}))}};return o||console.error("Plurals for locale ".concat(e," aren't loaded. Use i18n.loadLocaleData method to load plurals for specific locale. Using other plural rule as a fallback.")),{plural:function(e,t){var n=t.offset,r=void 0===n?0:n,a=i(t,["offset"]),s=a[e]||a[null===o||void 0===o?void 0:o(e-r)]||a.other;return u(e-r,s)},selectordinal:function(e,t){var n=t.offset,r=void 0===n?0:n,a=i(t,["offset"]),s=a[e]||a[null===o||void 0===o?void 0:o(e-r,!0)]||a.other;return u(e-r,s)},select:function(e,t){return t[e]||t.other},number:function(e,n){return _a(t,a(n))(e)},date:function(e,n){return Oa(t,a(n))(e)},undefined:function(e){return e}}}(e,t,o,r);return function e(t,r,o){var i=n[t],u=a[r](i,o),s=Ca(u)?u(e):u;return Array.isArray(s)?s.join(""):s}}function Ra(e,t,n,r){return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Na(t,n,o,i,r),u=function e(t){return Array.isArray(t)?t.reduce((function(t,n){if(Ea(n))return t+n;var r=Ye(n,3),o=r[0],i=r[1],u=r[2],s={};null==u||Ea(u)?s=u:Object.keys(u).forEach((function(t){s[t]=e(u[t])}));var l=a(o,i,s);return null==l?t:t+l}),""):t},s=u(e);return Ea(s)&&Ma.test(s)?JSON.parse('"'.concat(s.trim(),'"')):Ea(s)?s.trim():s}}var Pa=function(){function e(){v(this,e),s(this,"_events",{})}return g(e,[{key:"on",value:function(e,t){var n=this;return this._hasEvent(e)||(this._events[e]=[]),this._events[e].push(t),function(){return n.removeListener(e,t)}}},{key:"removeListener",value:function(e,t){if(this._hasEvent(e)){var n=this._events[e].indexOf(t);~n&&this._events[e].splice(n,1)}}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._hasEvent(e)&&this._events[e].map((function(e){return e.apply(t,r)}))}},{key:"_hasEvent",value:function(e){return Array.isArray(this._events[e])}}]),e}();function Ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(Xe){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var Fa=function(e){b(n,e);var t=Ia(n);function n(e){var r;return v(this,n),s(x(r=t.call(this)),"_locale",void 0),s(x(r),"_locales",void 0),s(x(r),"_localeData",void 0),s(x(r),"_messages",void 0),s(x(r),"_missing",void 0),r._messages={},r._localeData={},null!=e.missing&&(r._missing=e.missing),null!=e.messages&&r.load(e.messages),null!=e.localeData&&r.loadLocaleData(e.localeData),null==e.locale&&null==e.locales||r.activate(e.locale,e.locales),r}return g(n,[{key:"_loadLocaleData",value:function(e,t){null==this._localeData[e]?this._localeData[e]=t:Object.assign(this._localeData[e],t)}},{key:"loadLocaleData",value:function(e,t){var n=this;null!=t?this._loadLocaleData(e,t):Object.keys(e).forEach((function(t){return n._loadLocaleData(t,e[t])})),this.emit("change")}},{key:"_load",value:function(e,t){null==this._messages[e]?this._messages[e]=t:Object.assign(this._messages[e],t)}},{key:"load",value:function(e,t){var n=this;null!=t?this._load(e,t):Object.keys(e).forEach((function(t){return n._load(t,e[t])})),this.emit("change")}},{key:"activate",value:function(e,t){this._locale=e,this._locales=t,this.emit("change")}},{key:"_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.message,o=n.formats,i=n.context;Ea(e)||(t=e.values||t,r=e.message,i=e.context,e=e.id);var a,u=!i&&!this.messages[e],s=i&&!this.messages[i][e],l=s||u,c=this._missing;return c&&l?Ca(c)?c(this._locale,e,i):c:(l&&this.emit("missing",{id:e,context:i,locale:this._locale}),a=i&&!s?this.messages[i][e]||r||e:this.messages[e]||r||e,Ea(a)&&Ma.test(a)?JSON.parse('"'.concat(a,'"')):Ea(a)?a:Ra(a,this._locale,this._locales,this.localeData)(t,o))}},{key:"date",value:function(e,t){return Oa(this._locales||this._locale,t)(e)}},{key:"number",value:function(e,t){return _a(this._locales||this._locale,t)(e)}},{key:"locale",get:function(){return this._locale}},{key:"locales",get:function(){return this._locales}},{key:"messages",get:function(){var e;return null!==(e=this._messages[this._locale])&&void 0!==e?e:{}}},{key:"localeData",get:function(){var e;return null!==(e=this._localeData[this._locale])&&void 0!==e?e:{}}}]),n}(Pa);var La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Fa(e)}();function Ba(e,t){return t?"other":1==e?"one":"other"}function ja(e,t){return t?"other":0==e||1==e?"one":"other"}function za(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"}function $a(e,t){return"other"}function Ua(e,t){return t?"other":1==e?"one":2==e?"two":"other"}var Wa=$a,Ha=Ba,Va=ja;function Ka(e,t){return t?"other":e>=0&&e<=1?"one":"other"}var qa=Ba;function Ga(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"}function Ja(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"}function Ya(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"}var Xa=Ba,Qa=za;function Za(e,t){var n=String(e).split(".")[0],r=n.slice(-1),o=n.slice(-2),i=n.slice(-3);return t?1==r||2==r||5==r||7==r||8==r||20==o||50==o||70==o||80==o?"one":3==r||4==r||100==i||200==i||300==i||400==i||500==i||600==i||700==i||800==i||900==i?"few":0==n||6==r||40==o||60==o||90==o?"many":"other":1==e?"one":"other"}function eu(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),i=r&&n[0].slice(-2);return t?2!=o&&3!=o||12==i||13==i?"other":"few":1==o&&11!=i?"one":o>=2&&o<=4&&(i<12||i>14)?"few":r&&0==o||o>=5&&o<=9||i>=11&&i<=14?"many":"other"}var tu=Ba,nu=Ba,ru=Ba,ou=ja,iu=$a;function au(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"}var uu=$a;function su(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),i=r&&n[0].slice(-2),a=r&&n[0].slice(-6);return t?"other":1==o&&11!=i&&71!=i&&91!=i?"one":2==o&&12!=i&&72!=i&&92!=i?"two":(3==o||4==o||9==o)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":0!=e&&r&&0==a?"many":"other"}var lu=Ba;function cu(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=r.slice(-2),s=o.slice(-1),l=o.slice(-2);return t?"other":i&&1==a&&11!=u||1==s&&11!=l?"one":i&&a>=2&&a<=4&&(u<12||u>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"}function fu(e,t){var n=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&n?"one":"other"}var du=Ba;function pu(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=o.slice(-1);return t?"other":i&&(1==r||2==r||3==r)||i&&4!=a&&6!=a&&9!=a||!i&&4!=u&&6!=u&&9!=u?"one":"other"}var hu=Ba,vu=Ba,mu=Ba;function gu(e,t){var n=String(e).split("."),r=n[0],o=!n[1];return t?"other":1==e&&o?"one":r>=2&&r<=4&&o?"few":o?"other":"many"}function yu(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"}function bu(e,t){var n=String(e).split("."),r=n[0],o=Number(n[0])==e;return t||1!=e&&(o||0!=r&&1!=r)?"other":"one"}var ku=za;function wu(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-2),u=o.slice(-2);return t?"other":i&&1==a||1==u?"one":i&&2==a||2==u?"two":i&&(3==a||4==a)||3==u||4==u?"few":"other"}var xu=Ba,Su=$a,Eu=Ba,Cu=Ba;function Au(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-1),a=o&&n[0].slice(-2);return t?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==e&&r?"one":"other"}var Du=Ba,Ou=Ba,_u=za,Tu=Ba;function Mu(e,t){return t?"other":e>=0&&e<=1?"one":"other"}function Nu(e,t){return t?"other":e>=0&&e<2?"one":"other"}var Ru=za;function Pu(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=o.slice(-1);return t?1==e?"one":"other":i&&(1==r||2==r||3==r)||i&&4!=a&&6!=a&&9!=a||!i&&4!=u&&6!=u&&9!=u?"one":"other"}var Iu=Ba;function Fu(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"}var Lu=Ba,Bu=za;function ju(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"}function zu(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e||11==e?"one":2==e||12==e?"two":3==e||13==e?"few":"other":1==e||11==e?"one":2==e||12==e?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"}var $u=za,Uu=Ba;function Wu(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"}var Hu=ja;function Vu(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-1),a=r.slice(-2);return t?"other":o&&1==i?"one":o&&2==i?"two":!o||0!=a&&20!=a&&40!=a&&60!=a&&80!=a?o?"other":"many":"few"}var Ku=Ba,qu=Ba;function Gu(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1);return t?"other":1==e&&o?"one":2==r&&o?"two":o&&(e<0||e>10)&&i&&0==a?"many":"other"}function Ju(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"}function Yu(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=r.slice(-2),s=o.slice(-1),l=o.slice(-2);return t?"other":i&&1==a&&11!=u||1==s&&11!=l?"one":i&&a>=2&&a<=4&&(u<12||u>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"}function Xu(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-2),u=o.slice(-2);return t?"other":i&&1==a||1==u?"one":i&&2==a||2==u?"two":i&&(3==a||4==a)||3==u||4==u?"few":"other"}function Qu(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"}function Zu(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"}var es=za,ts=$a,ns=$a,rs=$a,is=za;function as(e,t){var n=String(e).split("."),r=n[0],o=Number(n[0])==e,i=r.slice(-1),a=r.slice(-2);return t?"other":o&&1==i&&11!=a||!o?"one":"other"}function us(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"}var ss=Ua;function ls(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1);return t?"other":1==e&&o?"one":2==r&&o?"two":o&&(e<0||e>10)&&i&&0==a?"many":"other"}var cs=$a,fs=$a,ds=Ba,ps=za,hs=Ba,vs=$a,ms=$a;function gs(e,t){var n=String(e).split(".")[0],r=n.slice(-2);return t?1==n?"one":0==n||r>=2&&r<=20||40==r||60==r||80==r?"many":"other":1==e?"one":"other"}function ys(e,t){return t?"other":e>=0&&e<2?"one":"other"}var bs=Ba,ks=Ba,ws=$a,xs=$a;function Ss(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1);return t?6==o||9==o||r&&0==o&&0!=e?"many":"other":1==e?"one":"other"}var Es=Ba,Cs=Ba,As=$a;function Ds(e,t){return t?"other":e>=0&&e<=1?"one":"other"}var Os=$a,_s=Ba,Ts=Ba;function Ms(e,t){return t?"other":0==e?"zero":1==e?"one":"other"}var Ns=Ba;function Rs(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-2),i=r&&n[0].slice(-3),a=r&&n[0].slice(-5),u=r&&n[0].slice(-6);return t?r&&e>=1&&e<=4||o>=1&&o<=4||o>=21&&o<=24||o>=41&&o<=44||o>=61&&o<=64||o>=81&&o<=84?"one":5==e||5==o?"many":"other":0==e?"zero":1==e?"one":2==o||22==o||42==o||62==o||82==o||r&&0==i&&(a>=1e3&&a<=2e4||4e4==a||6e4==a||8e4==a)||0!=e&&1e5==u?"two":3==o||23==o||43==o||63==o||83==o?"few":1==e||1!=o&&21!=o&&41!=o&&61!=o&&81!=o?"other":"many"}var Ps=Ba;function Is(e,t){var n=String(e).split(".")[0];return t?"other":0==e?"zero":0!=n&&1!=n||0==e?"other":"one"}var Fs=Ba,Ls=Ba,Bs=$a,js=ja;function zs(e,t){return t&&1==e?"one":"other"}function $s(e,t){var n=String(e).split("."),r=n[1]||"",o=Number(n[0])==e,i=o&&n[0].slice(-1),a=o&&n[0].slice(-2);return t?"other":1==i&&(a<11||a>19)?"one":i>=2&&i<=9&&(a<11||a>19)?"few":0!=r?"many":"other"}function Us(e,t){var n=String(e).split("."),r=n[1]||"",o=r.length,i=Number(n[0])==e,a=i&&n[0].slice(-1),u=i&&n[0].slice(-2),s=r.slice(-2),l=r.slice(-1);return t?"other":i&&0==a||u>=11&&u<=19||2==o&&s>=11&&s<=19?"zero":1==a&&11!=u||2==o&&1==l&&11!=s||2!=o&&1==l?"one":"other"}var Ws=Ba,Hs=ja,Vs=Ba;function Ks(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=r.slice(-2),s=o.slice(-1),l=o.slice(-2);return t?1==a&&11!=u?"one":2==a&&12!=u?"two":7!=a&&8!=a||17==u||18==u?"other":"many":i&&1==a&&11!=u||1==s&&11!=l?"one":"other"}var qs=Ba,Gs=Ba;function Js(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||o>=2&&o<=19?"few":"other"}function Ys(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":1==e?"one":"other"}function Xs(e,t){return t&&1==e?"one":"other"}function Qs(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":1==e?"one":0==e||r>=2&&r<=10?"few":r>=11&&r<=19?"many":"other"}var Zs=$a,el=Ba,tl=Ua,nl=Ba,rl=Ba;function ol(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?r&&e>=1&&e<=4?"one":"other":1==e?"one":"other"}var il=za,al=Ba,ul=Ba,sl=Ba,ll=$a,cl=Ba,fl=ja,dl=Ba,pl=Ba,hl=Ba;function vl(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?1==e||5==e||r&&e>=7&&e<=9?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":1==e?"one":"other"}var ml=Ba,gl=$a,yl=ja,bl=Ba;function kl(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-1),a=r.slice(-2);return t?"other":1==e&&o?"one":o&&i>=2&&i<=4&&(a<12||a>14)?"few":o&&1!=r&&(0==i||1==i)||o&&i>=5&&i<=9||o&&a>=12&&a<=14?"many":"other"}function wl(e,t){var n=String(e).split("."),r=n[1]||"",o=r.length,i=Number(n[0])==e,a=i&&n[0].slice(-1),u=i&&n[0].slice(-2),s=r.slice(-2),l=r.slice(-1);return t?"other":i&&0==a||u>=11&&u<=19||2==o&&s>=11&&s<=19?"zero":1==a&&11!=u||2==o&&1==l&&11!=s||2!=o&&1==l?"one":"other"}var xl=Ba;function Sl(e,t){var n=String(e).split(".")[0];return t?"other":0==n||1==n?"one":"other"}var El=za,Cl=Ba;function Al(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||o>=2&&o<=19?"few":"other"}var Dl=Ba,Ol=$a;function _l(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-1),a=r.slice(-2);return t?"other":o&&1==i&&11!=a?"one":o&&i>=2&&i<=4&&(a<12||a>14)?"few":o&&0==i||o&&i>=5&&i<=9||o&&a>=11&&a<=14?"many":"other"}var Tl=Ba,Ml=$a,Nl=Ba;function Rl(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"}function Pl(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"}var Il=Ba,Fl=Ba,Ll=Ua,Bl=Ba,jl=$a,zl=$a;function $l(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=r.slice(-2),s=o.slice(-1),l=o.slice(-2);return t?"other":i&&1==a&&11!=u||1==s&&11!=l?"one":i&&a>=2&&a<=4&&(u<12||u>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"}function Ul(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":e>=0&&e<=1?"one":r&&e>=2&&e<=10?"few":"other"}function Wl(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"";return t?"other":0==e||1==e||0==r&&1==o?"one":"other"}function Hl(e,t){var n=String(e).split("."),r=n[0],o=!n[1];return t?"other":1==e&&o?"one":r>=2&&r<=4&&o?"few":o?"other":"many"}function Vl(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-2);return t?"other":o&&1==i?"one":o&&2==i?"two":o&&(3==i||4==i)||!o?"few":"other"}var Kl=Ua,ql=Ua,Gl=Ua,Jl=Ua,Yl=Ua,Xl=Ba,Ql=Ba;function Zl(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),i=r&&n[0].slice(-2);return t?1==e?"one":4==o&&14!=i?"many":"other":1==e?"one":"other"}function ec(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=r.slice(-2),s=o.slice(-1),l=o.slice(-2);return t?"other":i&&1==a&&11!=u||1==s&&11!=l?"one":i&&a>=2&&a<=4&&(u<12||u>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"}var tc=Ba,nc=Ba,rc=Ba,oc=$a;function ic(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-1),a=o&&n[0].slice(-2);return t?1!=i&&2!=i||11==a||12==a?"other":"one":1==e&&r?"one":"other"}var ac=za,uc=Ba,sc=Ba,lc=Ba,cc=Ba,fc=$a,dc=ja,pc=Ba;function hc(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-1);return t?6==r||9==r||10==e?"few":"other":1==e?"one":"other"}function vc(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),u=o.slice(-1);return t?1==e?"one":"other":i&&(1==r||2==r||3==r)||i&&4!=a&&6!=a&&9!=a||!i&&4!=u&&6!=u&&9!=u?"one":"other"}var mc=Ba,gc=$a,yc=Ba,bc=Ba;function kc(e,t){var n=String(e).split("."),r=Number(n[0])==e;return t?"other":0==e||1==e||r&&e>=11&&e<=99?"one":"other"}var wc=Ba;function xc(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1),u=i&&n[0].slice(-2),s=r.slice(-1),l=r.slice(-2);return t?3==a&&13!=u?"few":"other":o&&1==s&&11!=l?"one":o&&s>=2&&s<=4&&(l<12||l>14)?"few":o&&0==s||o&&s>=5&&s<=9||o&&l>=11&&l<=14?"many":"other"}var Sc=za,Ec=Ba,Cc=Ba;function Ac(e,t){return t&&1==e?"one":"other"}var Dc=Ba,Oc=Ba,_c=ja,Tc=Ba,Mc=$a,Nc=Ba,Rc=Ba,Pc=za,Ic=$a,Fc=$a,Lc=$a;function Bc(e,t){return t?"other":e>=0&&e<=1?"one":"other"}var jc,zc,$c=Object.defineProperty,Uc=Object.getOwnPropertyDescriptor,Wc=Object.getOwnPropertyNames,Hc=Object.prototype.hasOwnProperty,Vc=function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var o,i=qe(Wc(t));try{var a=function(){var i=o.value;Hc.call(e,i)||i===n||$c(e,i,{get:function(){return t[i]},enumerable:!(r=Uc(t,i))||r.enumerable})};for(i.s();!(o=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}}return e},Kc={};function qc(e,t,n){return qc=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&y(o,n.prototype),o},qc.apply(null,arguments)}Vc(Kc,jc=e,"default"),zc&&Vc(zc,jc,"default"),La.loadLocaleData("en",{plurals:Kc.en}),La.load("en",{"components.image.dialog.description.label":"Image description","components.image.dialog.description.placeholder":"Add a short description here.","components.image.dialog.label":"Image","components.image.dialog.source.label":"Image source","components.image.menu.icon.label":"Image","components.italic.menu.icon.label":"Italic","components.underline.menu.icon.label":"Underline","extension.command.add-annotation.label":"Add annotation","extension.command.center-align.label":"Center align","extension.command.convert-paragraph.description":"Convert current block into a paragraph block.","extension.command.convert-paragraph.label":"Convert Paragraph","extension.command.copy.description":"Copy the selected text","extension.command.copy.label":"Copy","extension.command.create-table.description":"Create a table with set number of rows and columns.","extension.command.create-table.label":"Create table","extension.command.cut.description":"Cut the selected text","extension.command.cut.label":"Cut","extension.command.decrease-font-size.description":"Decrease the font size.","extension.command.decrease-font-size.label":"Decrease","extension.command.decrease-indent.label":"Decrease indentation","extension.command.increase-font-size.description":"Increase the font size","extension.command.increase-font-size.label":"Increase","extension.command.increase-indent.label":"Increase indentation","extension.command.insert-emoji.label":"Insert Emoji","extension.command.insert-horizontal-rule.description":"Separate content with a diving horizontal line","extension.command.insert-horizontal-rule.label":"Divider","extension.command.insert-paragraph.description":"Insert a new paragraph","extension.command.insert-paragraph.label":"Insert Paragraph","extension.command.justify-align.label":"Justify","extension.command.left-align.label":"Left align","extension.command.paste.description":"Paste content into the editor","extension.command.paste.label":"Paste","extension.command.redo.description":"Redo the most recent action","extension.command.redo.label":"Redo","extension.command.remove-annotation.label":"Remove annotation","extension.command.right-align.label":"Right align","extension.command.select-all.description":"Select all content within the editor","extension.command.select-all.label":"Select all","extension.command.set-casing.label":"Set text case","extension.command.set-font-size.description":"Set the font size for the selected text.","extension.command.set-font-size.label":"Font size","extension.command.set-text-color.description":"Set the text color for the selected text.","extension.command.set-text-color.label":"Text color","extension.command.set-text-direction.description":[["dir","select",{ltr:"Set the text direction from left to right",rtl:"Set the text direction from right to left",other:"Reset text direction"}]],"extension.command.set-text-direction.label":[["dir","select",{ltr:"Left-To-Right",rtl:"Right-To-Left",other:"Reset Direction"}]],"extension.command.set-text-highlight.description":"Set the text highlight color for the selected text.","extension.command.set-text-highlight.label":"Text highlight","extension.command.toggle-blockquote.description":"Add blockquote formatting to the selected text","extension.command.toggle-blockquote.label":"Blockquote","extension.command.toggle-bold.description":"Add bold formatting to the selected text","extension.command.toggle-bold.label":"Bold","extension.command.toggle-bullet-list.description":"Bulleted list","extension.command.toggle-callout.description":[["type","select",{info:"Create an information callout block",warning:"Create a warning callout block",error:"Create an error callout block",success:"Create a success callout block",other:"Create a callout block"}]],"extension.command.toggle-callout.label":[["type","select",{info:"Information Callout",warning:"Warning Callout",error:"Error Callout",success:"Success Callout",other:"Callout"}]],"extension.command.toggle-code-block.description":"Add a code block","extension.command.toggle-code-block.label":"Codeblock","extension.command.toggle-code.description":"Add inline code formatting to the selected text","extension.command.toggle-code.label":"Code","extension.command.toggle-columns.description":[["count","select",{2:"Split the block into two columns",3:"Split the current block into three columns",4:"Split the current block into four columns",other:"Split the current block into multiple columns"}]],"extension.command.toggle-columns.label":[["count","select",{2:"Two Column Block",3:"Three Column Block",4:"Four Column Block",other:"Multi Column Block"}]],"extension.command.toggle-heading.label":[["level","select",{1:"Heading 1",2:"Heading 2",3:"Heading 3",4:"Heading 4",5:"Heading 5",6:"Heading 6",other:"Heading"}]],"extension.command.toggle-italic.description":"Italicize the selected text","extension.command.toggle-italic.label":"Italic","extension.command.toggle-ordered-list.label":"Ordered list","extension.command.toggle-strike.description":"Strikethrough the selected text","extension.command.toggle-strike.label":"Strikethrough","extension.command.toggle-subscript.label":"Subscript","extension.command.toggle-superscript.label":"Superscript","extension.command.toggle-task-list.description":"Tasked list","extension.command.toggle-underline.description":"Underline the selected text","extension.command.toggle-underline.label":"Underline","extension.command.toggle-upper-case.label":[["case","select",{upper:"Uppercase",lower:"Lowercase",capitalize:"Sentence case",smallCaps:"Small caps",other:"Text case"}]],"extension.command.toggle-whitespace.description":"Show hidden whitespace characters in your editor.","extension.command.toggle-whitespace.label":"Toggle Whitespace","extension.command.undo.description":"Undo the most recent action","extension.command.undo.label":"Undo","extension.command.update-annotation.label":"Update annotation","extension.table.column_count":[["count","plural",{one:["#"," column"],other:["#"," columns"]}]],"extension.table.row_count":[["count","plural",{one:["#"," row"],other:["#"," rows"]}]],"keyboard.shortcut.alt":"Alt","keyboard.shortcut.arrowDown":"Arrow Down","keyboard.shortcut.arrowLeft":"Arrow Left","keyboard.shortcut.arrowRight":"Arrow Right","keyboard.shortcut.arrowUp":"Arrow Up","keyboard.shortcut.backspace":"Backspace","keyboard.shortcut.capsLock":"Caps Lock","keyboard.shortcut.command":"Command","keyboard.shortcut.control":"Control","keyboard.shortcut.delete":"Delete","keyboard.shortcut.end":"End","keyboard.shortcut.enter":"Enter","keyboard.shortcut.escape":"Enter","keyboard.shortcut.home":"Home","keyboard.shortcut.pageDown":"Page Down","keyboard.shortcut.pageUp":"Page Up","keyboard.shortcut.shift":"Shift","keyboard.shortcut.space":"Space","keyboard.shortcut.tab":"Tab","react-components.mention-atom-component.zero-items":"No items available","react-components.top-menu.label":"Static Menu","ui.text-color.black":"Black","ui.text-color.blue":"Blue","ui.text-color.blue.hue":["Blue ",["hue"]],"ui.text-color.cyan":"Cyan","ui.text-color.cyan.hue":["Cyan ",["hue"]],"ui.text-color.grape":"Grape","ui.text-color.grape.hue":["Grape ",["hue"]],"ui.text-color.gray":"Gray","ui.text-color.gray.hue":["Gray ",["hue"]],"ui.text-color.green":"Green","ui.text-color.green.hue":["Green ",["hue"]],"ui.text-color.indigo":"Indigo","ui.text-color.indigo.hue":["Indigo ",["hue"]],"ui.text-color.lime":"Lime","ui.text-color.lime.hue":["Lime ",["hue"]],"ui.text-color.orange":"Orange","ui.text-color.orange.hue":["Orange ",["hue"]],"ui.text-color.pink":"Pink","ui.text-color.pink.hue":["Pink ",["hue"]],"ui.text-color.red":"Red","ui.text-color.red.hue":["Red ",["hue"]],"ui.text-color.teal":"Teal","ui.text-color.teal.hue":["Teal ",["hue"]],"ui.text-color.transparent":"Transparent","ui.text-color.violet":"Violet","ui.text-color.violet.hue":["Violet ",["hue"]],"ui.text-color.white":"White","ui.text-color.yellow":"Yellow","ui.text-color.yellow.hue":["Yellow ",["hue"]]}),La.activate("en");var Gc=/^[a-z\xe0-\xf6\xf8-\xff]+|[A-Z\xc0-\xd6\xd8-\xdf][a-z\xe0-\xf6\xf8-\xff]+|[a-z\xe0-\xf6\xf8-\xff]+|[0-9]+|[A-Z\xc0-\xd6\xd8-\xdf]+(?![a-z\xe0-\xf6\xf8-\xff])/g,Jc=/\S+/g;function Yc(e,t){var n=t||{},r=n.keepSpecialCharacters,o=void 0!==r&&r,i=n.keep,a=n.prefix,u=void 0===a?"":a,s=e.trim().normalize("NFC"),l=s.includes(" "),c=function(e,t){var n,r={parts:[],prefixes:[]},o=0,i=qe(e.matchAll(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;if("number"===typeof a.index){var u=a[0];r.parts.push(u);var s=e.slice(o,a.index).trim();r.prefixes.push(s),o=a.index+u.length}}}catch(c){i.e(c)}finally{i.f()}var l=e.slice(o).trim();return l&&(r.parts.push(""),r.prefixes.push(l)),r}(s,l?Jc:Gc);return c.parts.map((function(e,t){var n=c.prefixes[t]||"",r=e;return!1===o&&(i&&(r=r.normalize("NFD").replace(new RegExp("[^a-zA-Z\xd8\xdf\xf80-9".concat(i.join(""),"]"),"g"),"")),i||(r=r.normalize("NFD").replace(/[^a-zA-Z\xd8\xdf\xf80-9]/g,""),n="")),i&&(n=n.replace(new RegExp("[^".concat(i.join(""),"]"),"g"),"")),0===t?n+r:n||r?l&&!n&&u.match(/\s/)?" "+r:(n||u)+r:""})).filter(Boolean)}function Xc(e){var t,n=(null===(t=e.matchAll(Gc).next().value)||void 0===t?void 0:t.index)||0;return e.slice(0,n+1).toUpperCase()+e.slice(n+1).toLowerCase()}function Qc(e,t){return Yc(e,t).reduce((function(e,t){return e+Xc(t)}),"")}function Zc(e,t){return Yc(e,h(h({},t),{},{prefix:"-"})).join("").toLowerCase()}function ef(e){var t="function"===typeof Map?new Map:void 0;return ef=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return qc(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},ef(e)}function tf(e){this.content=e}tf.prototype={constructor:tf,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new tf(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new tf(n)},addToStart:function(e,t){return new tf([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new tf(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new tf(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=tf.from(e)).size?new tf(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=tf.from(e)).size?new tf(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=tf.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},tf.from=function(e){if(e instanceof tf)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new tf(t)};var nf=tf;function rf(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var a=0;o.text[a]==i.text[a];a++)n++;return n}if(o.content.size||i.content.size){var u=rf(o.content,i.content,n+1);if(null!=u)return u}n+=o.nodeSize}else n+=o.nodeSize}}function of(e,t,n,r){for(var o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var a=e.child(--o),u=t.child(--i),s=a.nodeSize;if(a!=u){if(!a.sameMarkup(u))return{a:n,b:r};if(a.isText&&a.text!=u.text){for(var l=0,c=Math.min(a.text.length,u.text.length);l<c&&a.text[a.text.length-l-1]==u.text[u.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(a.content.size||u.content.size){var f=of(a.content,u.content,n-1,r-1);if(f)return f}n-=s,r-=s}else n-=s,r-=s}}var af=function(){function e(t,n){if(v(this,e),this.content=t,this.size=n||0,null==n)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize}return g(e,[{key:"nodesBetween",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=0,a=0;a<t;i++){var u=this.content[i],s=a+u.nodeSize;if(s>e&&!1!==n(u,r+a,o||null,i)&&u.content.size){var l=a+1;u.nodesBetween(Math.max(0,e-l),Math.min(u.content.size,t-l),n,r+l)}a=s}}},{key:"descendants",value:function(e){this.nodesBetween(0,this.size,e)}},{key:"textBetween",value:function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,u){a.isText?(o+=a.text.slice(Math.max(e,u)-u,t-u),i=!n):a.isLeaf?(r?o+="function"===typeof r?r(a):r:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o}},{key:"append",value:function(t){if(!t.size)return this;if(!this.size)return t;var n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new e(o,this.size+t.size)}},{key:"cut",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==t&&n==this.size)return this;var r=[],o=0;if(n>t)for(var i=0,a=0;a<n;i++){var u=this.content[i],s=a+u.nodeSize;s>t&&((a<t||s>n)&&(u=u.isText?u.cut(Math.max(0,t-a),Math.min(u.text.length,n-a)):u.cut(Math.max(0,t-a-1),Math.min(u.content.size,n-a-1))),r.push(u),o+=u.nodeSize),a=s}return new e(r,o)}},{key:"cutByIndex",value:function(t,n){return t==n?e.empty:0==t&&n==this.content.length?this:new e(this.content.slice(t,n))}},{key:"replaceChild",value:function(t,n){var r=this.content[t];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new e(o,i)}},{key:"addToStart",value:function(t){return new e([t].concat(this.content),this.size+t.nodeSize)}},{key:"addToEnd",value:function(t){return new e(this.content.concat(t),this.size+t.nodeSize)}},{key:"eq",value:function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}},{key:"maybeChild",value:function(e){return this.content[e]||null}},{key:"forEach",value:function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}}},{key:"findDiffStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return rf(this,e,t)}},{key:"findDiffEnd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size;return of(this,e,t,n)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==e)return sf(0,e);if(e==this.size)return sf(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(var n=0,r=0;;n++){var o=this.child(n),i=r+o.nodeSize;if(i>=e)return i==e||t>0?sf(n+1,i):sf(n,r);r=i}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new e(n.map(t.nodeFromJSON))}},{key:"fromArray",value:function(t){if(!t.length)return e.empty;for(var n,r=0,o=0;o<t.length;o++){var i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new e(n||t,r)}},{key:"from",value:function(t){if(!t)return e.empty;if(t instanceof e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),e}();af.empty=new af([],0);var uf={index:0,offset:0};function sf(e,t){return uf.index=e,uf.offset=t,uf}function lf(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!lf(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!lf(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}var cf=function(){function e(t,n){v(this,e),this.type=t,this.attrs=n}return g(e,[{key:"addToSet",value:function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}},{key:"eq",value:function(e){return this==e||this.type==e.type&&lf(this.attrs,e.attrs)}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));return n.create(t.attrs)}},{key:"sameSet",value:function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}},{key:"setFrom",value:function(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];var n=t.slice();return n.sort((function(e,t){return e.type.rank-t.type.rank})),n}}]),e}();cf.none=[];var ff=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n)}(ef(Error)),df=function(){function e(t,n,r){v(this,e),this.content=t,this.openStart=n,this.openEnd=r}return g(e,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(t,n){var r=hf(this.content,t+this.openStart,n);return r&&new e(r,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(t,n){return new e(pf(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;var r=n.openStart||0,o=n.openEnd||0;if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new e(af.fromJSON(t,n.content),r,o)}},{key:"maxOpen",value:function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0,o=0,i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)o++;return new e(t,r,o)}}]),e}();function pf(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),u=e.findIndex(n),s=u.index,l=u.offset;if(i==t||a.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(pf(a.content,t-i-1,n-i-1)))}function hf(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,u=e.maybeChild(i);if(a==t||u.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var s=hf(u.content,t-a-1,n);return s&&e.replaceChild(i,u.copy(s))}function vf(e,t,n){if(n.openStart>e.depth)throw new ff("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ff("Inconsistent open depths");return mf(e,t,n,0)}function mf(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var a=mf(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var u=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(af.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return wf(i,xf(e,u.start,u.end,t,r))}var s=e.parent,l=s.content;return wf(s,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}return wf(i,Sf(e,t,r))}function gf(e,t){if(!t.type.compatibleContent(e.type))throw new ff("Cannot join "+t.type.name+" onto "+e.type.name)}function yf(e,t,n){var r=e.node(n);return gf(r,t.node(n)),r}function bf(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function kf(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(bf(e.nodeAfter,r),i++));for(var u=i;u<a;u++)bf(o.child(u),r);t&&t.depth==n&&t.textOffset&&bf(t.nodeBefore,r)}function wf(e,t){return e.type.checkContent(t),e.copy(t)}function xf(e,t,n,r,o){var i=e.depth>o&&yf(e,t,o+1),a=r.depth>o&&yf(n,r,o+1),u=[];return kf(null,e,o,u),i&&a&&t.index(o)==n.index(o)?(gf(i,a),bf(wf(i,xf(e,t,n,r,o+1)),u)):(i&&bf(wf(i,Sf(e,t,o+1)),u),kf(t,n,o,u),a&&bf(wf(a,Sf(n,r,o+1)),u)),kf(r,null,o,u),new af(u)}function Sf(e,t,n){var r=[];(kf(null,e,n,r),e.depth>n)&&bf(wf(yf(e,t,n+1),Sf(e,t,n+1)),r);return kf(t,null,n,r),new af(r)}df.empty=new df(af.empty,0,0);var Ef=function(){function e(t,n,r){v(this,e),this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}return g(e,[{key:"resolveDepth",value:function(e){return null==e?this.depth:e<0?this.depth+e:e}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(e){return this.path[3*this.resolveDepth(e)]}},{key:"index",value:function(e){return this.path[3*this.resolveDepth(e)+1]}},{key:"indexAfter",value:function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}},{key:"start",value:function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}},{key:"end",value:function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}},{key:"before",value:function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}},{key:"after",value:function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}},{key:"nodeBefore",get:function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}},{key:"posAtIndex",value:function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r}},{key:"marks",value:function(){var e=this.parent,t=this.index();if(0==e.content.size)return cf.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i}},{key:"marksAcross",value:function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}},{key:"sharedDepth",value:function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}},{key:"blockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Of(this,e,n);return null}},{key:"sameParent",value:function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}},{key:"max",value:function(e){return e.pos>this.pos?e:this}},{key:"min",value:function(e){return e.pos<this.pos?e:this}},{key:"toString",value:function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}}],[{key:"resolve",value:function(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,a=t;;){var u=a.content.findIndex(i),s=u.index,l=u.offset,c=i-l;if(r.push(a,s,o+l),!c)break;if((a=a.child(s)).isText)break;i=c-1,o+=l+1}return new e(n,r,i)}},{key:"resolveCached",value:function(t,n){for(var r=0;r<Cf.length;r++){var o=Cf[r];if(o.pos==n&&o.doc==t)return o}var i=Cf[Af]=e.resolve(t,n);return Af=(Af+1)%Df,i}}]),e}(),Cf=[],Af=0,Df=12,Of=function(){function e(t,n,r){v(this,e),this.$from=t,this.$to=n,this.depth=r}return g(e,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),e}(),_f=Object.create(null),Tf=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cf.none;v(this,e),this.type=t,this.attrs=n,this.marks=o,this.content=r||af.empty}return g(e,[{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(e){return this.content.child(e)}},{key:"maybeChild",value:function(e){return this.content.maybeChild(e)}},{key:"forEach",value:function(e){this.content.forEach(e)}},{key:"nodesBetween",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}},{key:"descendants",value:function(e){this.nodesBetween(0,this.content.size,e)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(e,t,n,r){return this.content.textBetween(e,t,n,r)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}},{key:"sameMarkup",value:function(e){return this.hasMarkup(e.type,e.attrs,e.marks)}},{key:"hasMarkup",value:function(e,t,n){return this.type==e&&lf(this.attrs,t||e.defaultAttrs||_f)&&cf.sameSet(this.marks,n||cf.none)}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}},{key:"mark",value:function(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}},{key:"cut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return df.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),u=r.node(i),s=u.content.cut(r.pos-a,o.pos-a);return new df(s,r.depth-i,o.depth-i)}},{key:"replace",value:function(e,t,n){return vf(this.resolve(e),this.resolve(t),n)}},{key:"nodeAt",value:function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}}},{key:"childAfter",value:function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}}},{key:"childBefore",value:function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}},{key:"resolve",value:function(e){return Ef.resolveCached(this,e)}},{key:"resolveNoCache",value:function(e){return Ef.resolve(this,e)}},{key:"rangeHasMark",value:function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Nf(this.marks,e)}},{key:"contentMatchAt",value:function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}},{key:"canReplace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:af.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var u=r;u<o;u++)if(!this.type.allowsMarks(n.child(u).marks))return!1;return!0}},{key:"canReplaceWith",value:function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}},{key:"canAppend",value:function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}},{key:"check",value:function(){this.type.checkContent(this.content);for(var e=cf.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!cf.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((function(e){return e.type.name}))));this.content.forEach((function(e){return e.check()}))}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=af.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}]),e}();Tf.prototype.text=void 0;var Mf=function(e){b(n,e);var t=E(n);function n(e,r,o,i){var a;if(v(this,n),a=t.call(this,e,r,null,i),!o)throw new RangeError("Empty text nodes are not allowed");return a.text=o,a}return g(n,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Nf(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(e,t){return this.text.slice(e,t)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(e){return e==this.marks?this:new n(this.type,this.attrs,this.text,e)}},{key:"withText",value:function(e){return e==this.text?this:new n(this.type,this.attrs,e,this.marks)}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}},{key:"eq",value:function(e){return this.sameMarkup(e)&&this.text==e.text}},{key:"toJSON",value:function(){var e=ei(k(n.prototype),"toJSON",this).call(this);return e.text=this.text,e}}]),n}(Tf);function Nf(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var Rf=function(){function e(t){v(this,e),this.validEnd=t,this.next=[],this.wrapCache=[]}return g(e,[{key:"matchType",value:function(e){for(var t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}},{key:"matchFragment",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}},{key:"inlineContent",get:function(){return 0!=this.next.length&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var e=0;e<this.next.length;e++){var t=this.next[e].type;if(!t.isText&&!t.hasRequiredAttrs())return t}return null}},{key:"compatible",value:function(e){for(var t=0;t<this.next.length;t++)for(var n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}},{key:"fillBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];function o(i,a){var u=i.matchFragment(e,n);if(u&&(!t||u.validEnd))return af.from(a.map((function(e){return e.createAndFill()})));for(var s=0;s<i.next.length;s++){var l=i.next[s],c=l.type,f=l.next;if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(f)){r.push(f);var d=o(f,a.concat(c));if(d)return d}}return null}return o(this,[])}},{key:"findWrapping",value:function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}},{key:"computeWrapping",value:function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var u=0;u<o.next.length;u++){var s=o.next[u],l=s.type,c=s.next;l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!c.validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}},{key:"toString",value:function(){var e=[];return function t(n){e.push(n);for(var r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r})).join("\n")}}],[{key:"parse",value:function(t,n){var r=new Pf(t,n);if(null==r.next)return e.empty;var o=If(r);r.next&&r.err("Unexpected trailing text");var i=Uf(function(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"!=e.type){if("star"==e.type){var a=n();return r(t,a),o(i(e.expr,a),a),[r(a)]}if("plus"==e.type){var u=n();return o(i(e.expr,t),u),o(i(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var s=t,l=0;l<e.min;l++){var c=n();o(i(e.expr,s),c),s=c}if(-1==e.max)o(i(e.expr,s),s);else for(var f=e.min;f<e.max;f++){var d=n();r(s,d),o(i(e.expr,s),d),s=d}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(var p=0;;p++){var h=i(e.exprs[p],t);if(p==e.exprs.length-1)return h;o(h,t=n())}}}(o));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],u=0;u<o.next.length;u++){var s=o.next[u],l=s.type,c=s.next;a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i}}]),e}();Rf.empty=new Rf(!0);var Pf=function(){function e(t,n){v(this,e),this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}return g(e,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(e){return this.next==e&&(this.pos++||!0)}},{key:"err",value:function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}]),e}();function If(e){var t=[];do{t.push(Ff(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Ff(e){var t=[];do{t.push(Lf(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Lf(e){for(var t=function(e){if(e.eat("(")){var t=If(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=jf(e,t)}return t}function Bf(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function jf(e,t){var n=Bf(e),r=n;return e.eat(",")&&(r="}"!=e.next?Bf(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function zf(e,t){return t-e}function $f(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],u=a.term,s=a.to;u||-1!=n.indexOf(s)||t(s)}}(t),n.sort(zf)}function Uf(e){var t=Object.create(null);return function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){for(var i,a=0;a<o.length;a++)o[a][0]==n&&(i=o[a][1]);$f(e,r).forEach((function(e){i||o.push([n,i=[]]),-1==i.indexOf(e)&&i.push(e)}))}}))}));for(var i=t[r.join(",")]=new Rf(r.indexOf(e.length-1)>-1),a=0;a<o.length;a++){var u=o[a][1].sort(zf);i.next.push({type:o[a][0],next:t[u.join(",")]||n(u)})}return i}($f(e,0))}function Wf(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Hf(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function Vf(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new qf(e[n]);return t}var Kf=function(){function e(t,n,r){v(this,e),this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Vf(r.attrs),this.defaultAttrs=Wf(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}return g(e,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==Rf.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(e){return this==e||this.contentMatch.compatible(e.contentMatch)}},{key:"computeAttrs",value:function(e){return!e&&this.defaultAttrs?this.defaultAttrs:Hf(this.attrs,e)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Tf(this,this.computeAttrs(e),af.from(t),cf.setFrom(n))}},{key:"createChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=af.from(t),this.checkContent(t),new Tf(this,this.computeAttrs(e),t,cf.setFrom(n))}},{key:"createAndFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),(t=af.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t),i=o&&o.fillBefore(af.empty,!0);return i?new Tf(this,e,t.append(i),cf.setFrom(n)):null}},{key:"validContent",value:function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}},{key:"checkContent",value:function(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}},{key:"allowsMarkType",value:function(e){return null==this.markSet||this.markSet.indexOf(e)>-1}},{key:"allowsMarks",value:function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}},{key:"allowedMarks",value:function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:cf.none:e}}],[{key:"compile",value:function(t,n){var r=Object.create(null);t.forEach((function(t,o){return r[t]=new e(t,n,o)}));var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}]),e}(),qf=function(){function e(t){v(this,e),this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}return g(e,[{key:"isRequired",get:function(){return!this.hasDefault}}]),e}(),Gf=function(){function e(t,n,r,o){v(this,e),this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=Vf(o.attrs),this.excluded=null;var i=Wf(this.attrs);this.instance=i?new cf(this,i):null}return g(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new cf(this,Hf(this.attrs,e))}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]}},{key:"excludes",value:function(e){return this.excluded.indexOf(e)>-1}}],[{key:"compile",value:function(t,n){var r=Object.create(null),o=0;return t.forEach((function(t,i){return r[t]=new e(t,o++,n,i)})),r}}]),e}(),Jf=function(){function e(t){v(this,e),this.cached=Object.create(null);var n=this.spec={};for(var r in t)n[r]=t[r];n.nodes=nf.from(t.nodes),n.marks=nf.from(t.marks||{}),this.nodes=Kf.compile(this.spec.nodes,this),this.marks=Gf.compile(this.spec.marks,this);var o=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var a=this.nodes[i],u=a.spec.content||"",s=a.spec.marks;a.contentMatch=o[u]||(o[u]=Rf.parse(u,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet="_"==s?null:s?Yf(this,s.split(" ")):""!=s&&a.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],f=c.spec.excludes;c.excluded=null==f?[c]:""==f?[]:Yf(this,f.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return g(e,[{key:"node",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Kf))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}},{key:"text",value:function(e,t){var n=this.nodes.text;return new Mf(n,n.defaultAttrs,e,cf.setFrom(t))}},{key:"mark",value:function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}},{key:"nodeFromJSON",value:function(e){return Tf.fromJSON(this,e)}},{key:"markFromJSON",value:function(e){return cf.fromJSON(this,e)}},{key:"nodeType",value:function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}]),e}();function Yf(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var u in e.marks){var s=e.marks[u];("_"==o||s.spec.group&&s.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=s)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}var Xf=function(){function e(t,n){var r=this;v(this,e),this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach((function(e){e.tag?r.tags.push(e):e.style&&r.styles.push(e)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}return g(e,[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new rd(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}},{key:"parseSlice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new rd(this,t,!0);return n.addAll(e,t.from,t.to),df.maxOpen(n.finish())}},{key:"matchTag",value:function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(od(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i||void 0}return o}}}},{key:"matchStyle",value:function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o],a=i.style;if(!(0!=a.indexOf(e)||i.context&&!n.matchesContext(i.context)||a.length>e.length&&(61!=a.charCodeAt(e.length)||a.slice(e.length+1)!=t))){if(i.getAttrs){var u=i.getAttrs(t);if(!1===u)continue;i.attrs=u||void 0}return i}}}}],[{key:"schemaRules",value:function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=id(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))};for(var o in e.marks)r(o);var i=function(t){var r=e.nodes[t].spec.parseDOM;r&&r.forEach((function(e){n(e=id(e)),e.node||e.ignore||e.mark||(e.node=t)}))};for(var a in e.nodes)i(a);return t}},{key:"fromSchema",value:function(t){return t.cached.domParser||(t.cached.domParser=new e(t,e.schemaRules(t)))}}]),e}(),Qf={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Zf={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ed={ol:!0,ul:!0};function td(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}var nd=function(){function e(t,n,r,o,i,a,u){v(this,e),this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=o,this.solid=i,this.options=u,this.content=[],this.activeMarks=cf.none,this.stashMarks=[],this.match=a||(4&u?null:t.contentMatch)}return g(e,[{key:"findWrapping",value:function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(af.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}},{key:"finish",value:function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];if(n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))){var r=n;n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}var o=af.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(af.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o}},{key:"popFromStashMark",value:function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}},{key:"applyPending",value:function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):ad(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}},{key:"inlineContext",value:function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Qf.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}]),e}(),rd=function(){function e(t,n,r){v(this,e),this.parser=t,this.options=n,this.isOpen=r,this.open=0;var o,i=n.topNode,a=td(null,n.preserveWhitespace,0)|(r?4:0);o=i?new nd(i.type,i.attrs,cf.none,cf.none,!0,n.topMatch||i.type.contentMatch,a):new nd(r?null:t.schema.topNodeType,null,cf.none,cf.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}return g(e,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style");if(t){var n=this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t));if(!n)return;for(var r=Ye(n,2),o=r[0],i=r[1],a=this.top,u=0;u<i.length;u++)this.removePendingMark(i[u],a);for(var s=0;s<o.length;s++)this.addPendingMark(o[s]);this.addElement(e);for(var l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(var c=0;c<i.length;c++)this.addPendingMark(i[c])}else this.addElement(e)}}},{key:"addTextNode",value:function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}},{key:"addElement",value:function(e,t){var n,r=e.nodeName.toLowerCase();ed.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&ed.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:Zf.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,u=this.needsBlock;if(Qf.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=u}else this.addElementByRule(e,o,!1===o.consuming?n:void 0)}},{key:"leafFallback",value:function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}},{key:"ignoreFallback",value:function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}},{key:"readStyles",value:function(e){var t=this,n=cf.none,r=cf.none;e:for(var o=0;o<e.length;o+=2)for(var i=function(i){var u=t.parser.matchStyle(e[o],e[o+1],t,i);return u?u.ignore?{v:null}:(u.clearMark?t.top.pendingMarks.forEach((function(e){u.clearMark(e)&&(r=e.addToSet(r))})):n=t.parser.schema.marks[u.mark].create(u.attrs).addToSet(n),!1!==u.consuming?(a=i,"break"):void(a=i=u)):(a=i,"continue|style")},a=void 0;;){var u=i(a);if("continue|style"===u)continue e;if("break"===u)break;if("object"===typeof u)return u.v}return[n,r]}},{key:"addElementByRule",value:function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var u=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var s=e;"string"==typeof t.contentElement?s=e.querySelector(t.contentElement):"function"==typeof t.contentElement?s=t.contentElement(e):t.contentElement&&(s=t.contentElement),this.findAround(e,s,!0),this.addAll(s)}r&&this.sync(u)&&this.open--,i&&this.removePendingMark(i,u)}},{key:"addAll",value:function(e,t,n){for(var r=t||0,o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}},{key:"findPlace",value:function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0}},{key:"insertNode",value:function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}},{key:"enter",value:function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}},{key:"enterInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);var i=td(e,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new nd(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}},{key:"closeExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}},{key:"sync",value:function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}},{key:"findAtPoint",value:function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}},{key:"findInside",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}},{key:"findAround",value:function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}},{key:"findInText",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}},{key:"matchesContext",value:function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1);return function e(a,u){for(;a>=0;a--){var s=n[a];if(""==s){if(a==n.length-1||0==a)continue;for(;u>=i;u--)if(e(a-1,u))return!0;return!1}var l=u>0||0==u&&o?t.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!l||l.name!=s&&-1==l.groups.indexOf(s))return!1;u--}return!0}(n.length-1,this.open)}},{key:"textblockFromContext",value:function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}}},{key:"addPendingMark",value:function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}},{key:"removePendingMark",value:function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}}}]),e}();function od(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function id(e){var t={};for(var n in e)t[n]=e[n];return t}function ad(e,t){var n=t.schema.nodes,r=function(){var r=n[o];if(!r.allowsMarkType(e))return"continue";var i=[];return function e(n){i.push(n);for(var r=0;r<n.edgeCount;r++){var o=n.edge(r),a=o.type,u=o.next;if(a==t)return!0;if(i.indexOf(u)<0&&e(u))return!0}}(r.contentMatch)?{v:!0}:void 0};for(var o in n){var i=r();if("continue"!==i&&"object"===typeof i)return i.v}}var ud=function(){function e(t,n){v(this,e),this.nodes=t,this.marks=n}return g(e,[{key:"serializeFragment",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;r||(r=ld(n).createDocumentFragment());var o=r,i=[];return e.forEach((function(e){if(i.length||e.marks.length){for(var r=0,a=0;r<i.length&&a<e.marks.length;){var u=e.marks[a];if(t.marks[u.type.name]){if(!u.eq(i[r][0])||!1===u.type.spec.spanning)break;r++,a++}else a++}for(;r<i.length;)o=i.pop()[1];for(;a<e.marks.length;){var s=e.marks[a++],l=t.serializeMark(s,e.isInline,n);l&&(i.push([s,o]),o.appendChild(l.dom),o=l.contentDOM||l.dom)}}o.appendChild(t.serializeNodeInner(e,n))})),r}},{key:"serializeNodeInner",value:function(t,n){var r=e.renderSpec(ld(n),this.nodes[t.type.name](t)),o=r.dom,i=r.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return o}},{key:"serializeNode",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}},{key:"serializeMark",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.marks[t.type.name];return o&&e.renderSpec(ld(r),o(t,n))}}],[{key:"renderSpec",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;var o,i=n[0],a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));var u=r?t.createElementNS(r,i):t.createElement(i),s=n[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var f=c.indexOf(" ");f>0?u.setAttributeNS(c.slice(0,f),c.slice(f+1),s[c]):u.setAttribute(c,s[c])}for(var d=l;d<n.length;d++){var p=n[d];if(0===p){if(d<n.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}var h=e.renderSpec(t,p,r),v=h.dom,m=h.contentDOM;if(u.appendChild(v),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:u,contentDOM:o}}},{key:"fromSchema",value:function(t){return t.cached.domSerializer||(t.cached.domSerializer=new e(this.nodesFromSchema(t),this.marksFromSchema(t)))}},{key:"nodesFromSchema",value:function(e){var t=sd(e.nodes);return t.text||(t.text=function(e){return e.text}),t}},{key:"marksFromSchema",value:function(e){return sd(e.marks)}}]),e}();function sd(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ld(e){return e.document||window.document}var cd=Math.pow(2,16);function fd(e){return 65535&e}var dd=function(){function e(t,n,r){v(this,e),this.pos=t,this.delInfo=n,this.recover=r}return g(e,[{key:"deleted",get:function(){return(8&this.delInfo)>0}},{key:"deletedBefore",get:function(){return(5&this.delInfo)>0}},{key:"deletedAfter",get:function(){return(6&this.delInfo)>0}},{key:"deletedAcross",get:function(){return(4&this.delInfo)>0}}]),e}(),pd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(v(this,e),this.ranges=t,this.inverted=n,!t.length&&e.empty)return e.empty}return g(e,[{key:"recover",value:function(e){var t=0,n=fd(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/cd}(e)}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}},{key:"_map",value:function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var u=this.ranges[a]-(this.inverted?r:0);if(u>e)break;var s=this.ranges[a+o],l=this.ranges[a+i],c=u+s;if(e<=c){var f=u+r+((s?e==u?-1:e==c?1:t:t)<0?0:l);if(n)return f;var d=e==(t<0?u:c)?null:a/3+(e-u)*cd,p=e==u?2:e==c?1:4;return(t<0?e!=u:e!=c)&&(p|=8),new dd(f,p,d)}r+=l-s}return n?e+r:new dd(e+r,0,null)}},{key:"touches",value:function(e,t){for(var n=0,r=fd(t),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var u=this.ranges[a]-(this.inverted?n:0);if(u>e)break;var s=this.ranges[a+o];if(e<=u+s&&a==3*r)return!0;n+=this.ranges[a+i]-s}return!1}},{key:"forEach",value:function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),u=i+(this.inverted?0:o),s=this.ranges[r+t],l=this.ranges[r+n];e(a,a+s,u,u+l),o+=l-s}}},{key:"invert",value:function(){return new e(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(t){return 0==t?e.empty:new e(t<0?[0,-t,0]:[0,0,t])}}]),e}();pd.empty=new pd([]);var hd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;v(this,e),this.maps=t,this.mirror=n,this.from=r,this.to=o}return g(e,[{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new e(this.maps,this.mirror,t,n)}},{key:"copy",value:function(){return new e(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}},{key:"appendMapping",value:function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}},{key:"getMirror",value:function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}},{key:"setMirror",value:function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}},{key:"appendMappingInverted",value:function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}},{key:"invert",value:function(){var t=new e;return t.appendMappingInverted(this),t}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"_map",value:function(e,t,n){for(var r=0,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new dd(e,r,null)}}]),e}(),vd=Object.create(null),md=function(){function e(){v(this,e)}return g(e,[{key:"getMap",value:function(){return pd.empty}},{key:"merge",value:function(e){return null}}],[{key:"fromJSON",value:function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=vd[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in vd)throw new RangeError("Duplicate use of step JSON ID "+e);return vd[e]=t,t.prototype.jsonID=e,t}}]),e}(),gd=function(){function e(t,n){v(this,e),this.doc=t,this.failed=n}return g(e,null,[{key:"ok",value:function(t){return new e(t,null)}},{key:"fail",value:function(t){return new e(null,t)}},{key:"fromReplace",value:function(t,n,r,o){try{return e.ok(t.replace(n,r,o))}catch(Xe){if(Xe instanceof ff)return e.fail(Xe.message);throw Xe}}}]),e}();function yd(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(yd(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return af.fromArray(r)}var bd=function(e){b(n,e);var t=E(n);function n(e,r,o){var i;return v(this,n),(i=t.call(this)).from=e,i.to=r,i.mark=o,i}return g(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new df(yd(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return gd.fromReplace(e,this.from,this.to,i)}},{key:"invert",value:function(){return new kd(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(md);md.jsonID("addMark",bd);var kd=function(e){b(n,e);var t=E(n);function n(e,r,o){var i;return v(this,n),(i=t.call(this)).from=e,i.to=r,i.mark=o,i}return g(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=new df(yd(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))}),e),n.openStart,n.openEnd);return gd.fromReplace(e,this.from,this.to,r)}},{key:"invert",value:function(){return new bd(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(md);md.jsonID("removeMark",kd);var wd=function(e){b(n,e);var t=E(n);function n(e,r){var o;return v(this,n),(o=t.call(this)).pos=e,o.mark=r,o}return g(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return gd.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return gd.fromReplace(e,this.pos,this.pos+1,new df(af.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);if(t){var r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(var o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new n(this.pos,t.marks[o]);return new n(this.pos,this.mark)}}return new xd(this.pos,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(md);md.jsonID("addNodeMark",wd);var xd=function(e){b(n,e);var t=E(n);function n(e,r){var o;return v(this,n),(o=t.call(this)).pos=e,o.mark=r,o}return g(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return gd.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return gd.fromReplace(e,this.pos,this.pos+1,new df(af.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new wd(this.pos,this.mark):this}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(md);md.jsonID("removeNodeMark",xd);var Sd=function(e){b(n,e);var t=E(n);function n(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return v(this,n),(i=t.call(this)).from=e,i.to=r,i.slice=o,i.structure=a,i}return g(n,[{key:"apply",value:function(e){return this.structure&&Cd(e,this.from,this.to)?gd.fail("Structure replace would overwrite content"):gd.fromReplace(e,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new pd([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(e){return new n(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new n(t.pos,Math.max(t.pos,r.pos),this.slice)}},{key:"merge",value:function(e){if(!(e instanceof n)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var t=this.slice.size+e.slice.size==0?df.empty:new df(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new n(e.from,this.to,t,this.structure)}var r=this.slice.size+e.slice.size==0?df.empty:new df(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new n(this.from,this.to+(e.to-e.from),r,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(t.from,t.to,df.fromJSON(e,t.slice),!!t.structure)}}]),n}(md);md.jsonID("replace",Sd);var Ed=function(e){b(n,e);var t=E(n);function n(e,r,o,i,a,u){var s,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v(this,n),(s=t.call(this)).from=e,s.to=r,s.gapFrom=o,s.gapTo=i,s.slice=a,s.insert=u,s.structure=l,s}return g(n,[{key:"apply",value:function(e){if(this.structure&&(Cd(e,this.from,this.gapFrom)||Cd(e,this.gapTo,this.to)))return gd.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return gd.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?gd.fromReplace(e,this.from,this.to,n):gd.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new pd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(e){var t=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||i>r.pos?null:new n(t.pos,r.pos,o,i,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(t.from,t.to,t.gapFrom,t.gapTo,df.fromJSON(e,t.slice),t.insert,!!t.structure)}}]),n}(md);function Cd(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function Ad(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Dd(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!Ad(r,o,i))break}return null}function Od(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=Td(e,t),i=o&&Md(r,t);return i?o.map(_d).concat({type:t,attrs:n}).concat(i.map(_d)):null}function _d(e){return{type:e,attrs:null}}function Td(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}function Md(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var u=(a.length?a[a.length-1]:t).contentMatch,s=r;u&&s<o;s++)u=u.matchType(n.child(s).type);return u&&u.validEnd?a:null}function Nd(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=e.steps.length;e.doc.nodesBetween(t,n,(function(t,n){if(t.isTextblock&&!t.hasMarkup(r,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){e.clearIncompatible(e.mapping.slice(i).map(n,1),r);var a=e.mapping.slice(i),u=a.map(n,1),s=a.map(n+t.nodeSize,1);return e.step(new Ed(u,s,u+1,s-1,new df(af.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}}))}function Rd(e,t,n,r,o){var i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);var a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Ed(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new df(af.from(a),0,0),1,!0))}function Pd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var u=o.depth-1,s=n-2;u>i;u--,s--){var l=o.node(u),c=o.index(u);if(l.type.spec.isolating)return!1;var f=l.content.cutByIndex(c,l.childCount),d=r&&r[s]||l;if(d!=l&&(f=f.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(c+1,l.childCount)||!d.type.validContent(f))return!1}var p=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(p,p,h?h.type:o.node(i+1).type)}function Id(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),i=af.empty,a=af.empty,u=o.depth,s=o.depth-n,l=n-1;u>s;u--,l--){i=af.from(o.node(u).copy(i));var c=r&&r[l];a=af.from(c?c.type.create(c.attrs,a):o.node(u).copy(a))}e.step(new Sd(t,t,new df(i.append(a),n,n),!0))}function Fd(e,t){var n=e.resolve(t),r=n.index();return Ld(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Ld(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function Bd(e,t,n){var r=new Sd(t-n,t+n,df.empty,!0);e.step(r)}function jd(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var u=r.indexAfter(a);if(r.node(a).canReplaceWith(u,u,n))return r.after(a+1);if(u<r.node(a).childCount)return null}return null}function zd(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var u=r.depth;u>=0;u--){var s=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,l=r.index(u)+(s>0?1:0),c=r.node(u),f=!1;if(1==a)f=c.canReplace(l,l,o);else{var d=c.contentMatchAt(l).findWrapping(o.firstChild.type);f=d&&c.canReplaceWith(l,l,d[0])}if(f)return 0==s?r.pos:s<0?r.before(u+1):r.after(u+1)}return null}function $d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:df.empty;if(t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return Ud(o,i,r)?new Sd(t,n,r):new Wd(o,i,r).fit()}function Ud(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}md.jsonID("replaceAround",Ed);var Wd=function(){function e(t,n,r){v(this,e),this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=af.empty;for(var o=0;o<=t.depth;o++){var i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(var a=t.depth;a>0;a--)this.placed=af.from(t.node(a).copy(this.placed))}return g(e,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,a=r.depth,u=o.depth;a&&u&&1==i.childCount;)i=i.firstChild.content,a--,u--;var s=new df(i,a,u);return t>-1?new Ed(r.pos,t,this.$to.pos,this.$to.end(),s,n):s.size||r.pos!=this.$to.pos?new Sd(r.pos,o.pos,s):null}},{key:"findFittable",value:function(){for(var e=this.unplaced.openStart,t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){var o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(var i=1;i<=2;i++)for(var a=1==i?e:this.unplaced.openStart;a>=0;a--)for(var u=null,s=(a?(u=Kd(this.unplaced.content,a-1).firstChild).content:this.unplaced.content).firstChild,l=this.depth;l>=0;l--){var c=this.frontier[l],f=c.type,d=c.match,p=void 0,h=null;if(1==i&&(s?d.matchType(s.type)||(h=d.fillBefore(af.from(s),!1)):u&&f.compatibleContent(u.type)))return{sliceDepth:a,frontierDepth:l,parent:u,inject:h};if(2==i&&s&&(p=d.findWrapping(s.type)))return{sliceDepth:a,frontierDepth:l,parent:u,wrap:p};if(u&&d.matchType(u.type))break}}},{key:"openMore",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=Kd(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new df(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}},{key:"dropNode",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=Kd(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new df(Hd(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new df(Hd(t,n,1),n,r)}},{key:"placeNodes",value:function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var u=this.unplaced,s=r?r.content:u.content,l=u.openStart-t,c=0,f=[],d=this.frontier[n],p=d.match,h=d.type;if(o){for(var v=0;v<o.childCount;v++)f.push(o.child(v));p=p.matchFragment(o)}for(var m=s.size+t-(u.content.size-u.openEnd);c<s.childCount;){var g=s.child(c),y=p.matchType(g.type);if(!y)break;(++c>1||0==l||g.content.size)&&(p=y,f.push(qd(g.mark(h.allowedMarks(g.marks)),1==c?l:0,c==s.childCount?m:-1)))}var b=c==s.childCount;b||(m=-1),this.placed=Vd(this.placed,n,af.from(f)),this.frontier[n].match=p,b&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var k=0,w=s;k<m;k++){var x=w.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),w=x.content}this.unplaced=b?0==t?df.empty:new df(Hd(u.content,t-1,1),t-1,m<0?u.openEnd:t-1):new df(Hd(u.content,t,c),u.openStart,u.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Gd(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r}},{key:"findCloseLevel",value:function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Gd(e,t,o,r,i);if(a){for(var u=t-1;u>=0;u--){var s=this.frontier[u],l=s.match,c=Gd(e,u,s.type,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}}},{key:"close",value:function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Vd(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e}},{key:"openFrontierNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Vd(this.placed,this.depth,af.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}},{key:"closeFrontierNode",value:function(){var e=this.frontier.pop().match.fillBefore(af.empty,!0);e.childCount&&(this.placed=Vd(this.placed,this.frontier.length,e))}}]),e}();function Hd(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Hd(e.firstChild.content,t-1,n)))}function Vd(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Vd(e.lastChild.content,t-1,n)))}function Kd(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function qd(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,qd(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(af.empty,!0)))),e.copy(r)}function Gd(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var u=r.fillBefore(i.content,!0,a);return u&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?u:null}function Jd(e){return e.spec.defining||e.spec.definingForContent}function Yd(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(Yd(i.content,t+1,n,r,i)))}if(t>r){var a=o.contentMatchAt(0),u=a.fillBefore(e).append(e);e=u.append(a.matchFragment(u).fillBefore(af.empty,!0))}return e}function Xd(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}var Qd=function(e){b(n,e);var t=E(n);function n(e,r,o){var i;return v(this,n),(i=t.call(this)).pos=e,i.attr=r,i.value=o,i}return g(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return gd.fail("No node at attribute step's position");var n=Object.create(null);for(var r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;var o=t.type.create(n,null,t.marks);return gd.fromReplace(e,this.pos,this.pos+1,new df(af.from(o),0,t.isLeaf?0:1))}},{key:"getMap",value:function(){return pd.empty}},{key:"invert",value:function(e){return new n(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(t.pos,t.attr,t.value)}}]),n}(md);md.jsonID("attr",Qd);var Zd=Error;((Zd=function e(t){var n=Error.call(this,t);return n.__proto__=e.prototype,n}).prototype=Object.create(Error.prototype)).constructor=Zd,Zd.prototype.name="TransformError";var ep=function(){function e(t){v(this,e),this.doc=t,this.steps=[],this.docs=[],this.mapping=new hd}return g(e,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(e){var t=this.maybeStep(e);if(t.failed)throw new Zd(t.failed);return this}},{key:"maybeStep",value:function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:df.empty,r=$d(this.doc,e,t,n);return r&&this.step(r),this}},{key:"replaceWith",value:function(e,t,n){return this.replace(e,t,new df(af.from(n),0,0))}},{key:"delete",value:function(e,t){return this.replace(e,t,df.empty)}},{key:"insert",value:function(e,t){return this.replaceWith(e,e,t)}},{key:"replaceRange",value:function(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);var o=e.doc.resolve(t),i=e.doc.resolve(n);if(Ud(o,i,r))return e.step(new Sd(t,n,r));var a=Xd(o,e.doc.resolve(n));0==a[a.length-1]&&a.pop();var u=-(o.depth+1);a.unshift(u);for(var s=o.depth,l=o.pos-1;s>0;s--,l--){var c=o.node(s).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;a.indexOf(s)>-1?u=s:o.before(s)==l&&a.splice(1,0,-s)}for(var f=a.indexOf(u),d=[],p=r.openStart,h=r.content,v=0;;v++){var m=h.firstChild;if(d.push(m),v==r.openStart)break;h=m.content}for(var g=p-1;g>=0;g--){var y=d[g].type,b=Jd(y);if(b&&o.node(f).type!=y)p=g;else if(b||!y.isTextblock)break}for(var k=r.openStart;k>=0;k--){var w=(k+p+1)%(r.openStart+1),x=d[w];if(x)for(var S=0;S<a.length;S++){var E=a[(S+f)%a.length],C=!0;E<0&&(C=!1,E=-E);var A=o.node(E-1),D=o.index(E-1);if(A.canReplaceWith(D,D,x.type,x.marks))return e.replace(o.before(E),C?i.after(E):n,new df(Yd(r.content,0,r.openStart,w),w,r.openEnd))}}for(var O=e.steps.length,_=a.length-1;_>=0&&(e.replace(t,n,r),!(e.steps.length>O));_--){var T=a[_];T<0||(t=o.before(T),n=i.after(T))}}(this,e,t,n),this}},{key:"replaceRangeWith",value:function(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){var o=jd(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new df(af.from(r),0,0))}(this,e,t,n),this}},{key:"deleteRange",value:function(e,t){return function(e,t,n){for(var r=e.doc.resolve(t),o=e.doc.resolve(n),i=Xd(r,o),a=0;a<i.length;a++){var u=i[a],s=a==i.length-1;if(s&&0==u||r.node(u).type.contentMatch.validEnd)return e.delete(r.start(u),o.end(u));if(u>0&&(s||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return e.delete(r.before(u),o.after(u))}for(var l=1;l<=r.depth&&l<=o.depth;l++)if(t-r.start(l)==r.depth-l&&n>r.end(l)&&o.end(l)-n!=o.depth-l)return e.delete(r.before(l),n);e.delete(t,n)}(this,e,t),this}},{key:"lift",value:function(e,t){return function(e,t,n){for(var r=t.$from,o=t.$to,i=t.depth,a=r.before(i+1),u=o.after(i+1),s=a,l=u,c=af.empty,f=0,d=i,p=!1;d>n;d--)p||r.index(d)>0?(p=!0,c=af.from(r.node(d).copy(c)),f++):s--;for(var h=af.empty,v=0,m=i,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,h=af.from(o.node(m).copy(h)),v++):l++;e.step(new Ed(s,l,a,u,new df(c.append(h),f,v),c.size-f,!0))}(this,e,t),this}},{key:"join",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Bd(this,e,t),this}},{key:"wrap",value:function(e,t){return function(e,t,n){for(var r=af.empty,o=n.length-1;o>=0;o--){if(r.size){var i=n[o].type.contentMatch.matchFragment(r);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=af.from(n[o].type.create(n[o].attrs,r))}var a=t.start,u=t.end;e.step(new Ed(a,u,a,u,new df(r,0,0),n.length,!0))}(this,e,t),this}},{key:"setBlockType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Nd(this,e,t,n,r),this}},{key:"setNodeMarkup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return Rd(this,e,t,n,r),this}},{key:"setNodeAttribute",value:function(e,t,n){return this.step(new Qd(e,t,n)),this}},{key:"addNodeMark",value:function(e,t){return this.step(new wd(e,t)),this}},{key:"removeNodeMark",value:function(e,t){if(!(t instanceof cf)){var n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new xd(e,t)),this}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return Id(this,e,t,n),this}},{key:"addMark",value:function(e,t,n){return function(e,t,n,r){var o,i,a=[],u=[];e.doc.nodesBetween(t,n,(function(e,s,l){if(e.isInline){var c=e.marks;if(!r.isInSet(c)&&l.type.allowsMarkType(r.type)){for(var f=Math.max(s,t),d=Math.min(s+e.nodeSize,n),p=r.addToSet(c),h=0;h<c.length;h++)c[h].isInSet(p)||(o&&o.to==f&&o.mark.eq(c[h])?o.to=d:a.push(o=new kd(f,d,c[h])));i&&i.to==f?i.to=d:u.push(i=new bd(f,d,r))}}})),a.forEach((function(t){return e.step(t)})),u.forEach((function(t){return e.step(t)}))}(this,e,t,n),this}},{key:"removeMark",value:function(e,t,n){return function(e,t,n,r){var o=[],i=0;e.doc.nodesBetween(t,n,(function(e,a){if(e.isInline){i++;var u=null;if(r instanceof Gf)for(var s,l=e.marks;s=r.isInSet(l);)(u||(u=[])).push(s),l=s.removeFromSet(l);else r?r.isInSet(e.marks)&&(u=[r]):u=e.marks;if(u&&u.length)for(var c=Math.min(a+e.nodeSize,n),f=0;f<u.length;f++){for(var d=u[f],p=void 0,h=0;h<o.length;h++){var v=o[h];v.step==i-1&&d.eq(o[h].style)&&(p=v)}p?(p.to=c,p.step=i):o.push({style:d,from:Math.max(a,t),to:c,step:i})}}})),o.forEach((function(t){return e.step(new kd(t.from,t.to,t.style))}))}(this,e,t,n),this}},{key:"clearIncompatible",value:function(e,t,n){return function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=e.doc.nodeAt(t),i=[],a=t+1,u=0;u<o.childCount;u++){var s=o.child(u),l=a+s.nodeSize,c=r.matchType(s.type);if(c){r=c;for(var f=0;f<s.marks.length;f++)n.allowsMarkType(s.marks[f].type)||e.step(new kd(a,l,s.marks[f]))}else i.push(new Sd(a,l,df.empty));a=l}if(!r.validEnd){var d=r.fillBefore(af.empty,!0);e.replace(a,a,new df(d,0,0))}for(var p=i.length-1;p>=0;p--)e.step(i[p])}(this,e,t,n),this}}]),e}(),tp=Object.create(null),np=function(){function e(t,n,r){v(this,e),this.$anchor=t,this.$head=n,this.ranges=r||[new rp(t.min(n),t.max(n))]}return g(e,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df.empty,n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var i=e.steps.length,a=this.ranges,u=0;u<a.length;u++){var s=a[u],l=s.$from,c=s.$to,f=e.mapping.slice(i);e.replaceRange(f.map(l.pos),f.map(c.pos),u?df.empty:t),0==u&&pp(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,u=i.$to,s=e.mapping.slice(n),l=s.map(a.pos),c=s.map(u.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),pp(e,n,t.isInline?-1:1))}}},{key:"getBookmark",value:function(){return ap.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new ap(e):dp(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?dp(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):dp(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}return null}},{key:"near",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new cp(e.node(0))}},{key:"atStart",value:function(e){return dp(e,e,0,0,1)||new cp(e)}},{key:"atEnd",value:function(e){return dp(e,e,e.content.size,e.childCount,-1)||new cp(e)}},{key:"fromJSON",value:function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=tp[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in tp)throw new RangeError("Duplicate use of selection JSON ID "+e);return tp[e]=t,t.prototype.jsonID=e,t}}]),e}();np.prototype.visible=!0;var rp=g((function e(t,n){v(this,e),this.$from=t,this.$to=n})),op=!1;function ip(e){op||e.parent.inlineContent||(op=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var ap=function(e){b(n,e);var t=E(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return v(this,n),ip(e),ip(r),t.call(this,e,r)}return g(n,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return np.near(r);var o=e.resolve(t.map(this.anchor));return new n(o.parent.inlineContent?o:r,r)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df.empty;if(ei(k(n.prototype),"replace",this).call(this,e,t),t==df.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor&&e.head==this.head}},{key:"getBookmark",value:function(){return new up(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}},{key:"between",value:function(e,t,r){var o=e.pos-t.pos;if(r&&!o||(r=o>=0?1:-1),!t.parent.inlineContent){var i=np.findFrom(t,r,!0)||np.findFrom(t,-r,!0);if(!i)return np.near(t,r);t=i.$head}return e.parent.inlineContent||(0==o||(e=(np.findFrom(e,-r,!0)||np.findFrom(e,r,!0)).$anchor).pos<t.pos!=o<0)&&(e=t),new n(e,t)}}]),n}(np);np.jsonID("text",ap);var up=function(){function e(t,n){v(this,e),this.anchor=t,this.head=n}return g(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){return ap.between(e.resolve(this.anchor),e.resolve(this.head))}}]),e}(),sp=function(e){b(n,e);var t=E(n);function n(e){var r;v(this,n);var o=e.nodeAfter,i=e.node(0).resolve(e.pos+o.nodeSize);return(r=t.call(this,e,i)).node=o,r}return g(n,[{key:"map",value:function(e,t){var r=t.mapResult(this.anchor),o=r.deleted,i=r.pos,a=e.resolve(i);return o?np.near(a):new n(a)}},{key:"content",value:function(){return new df(af.from(this.node),0,0)}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new lp(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(e.resolve(t.anchor))}},{key:"create",value:function(e,t){return new n(e.resolve(t))}},{key:"isSelectable",value:function(e){return!e.isText&&!1!==e.type.spec.selectable}}]),n}(np);sp.prototype.visible=!1,np.jsonID("node",sp);var lp=function(){function e(t){v(this,e),this.anchor=t}return g(e,[{key:"map",value:function(t){var n=t.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new up(o,o):new e(o)}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&sp.isSelectable(n)?new sp(t):np.near(t)}}]),e}(),cp=function(e){b(n,e);var t=E(n);function n(e){return v(this,n),t.call(this,e.resolve(0),e.resolve(e.content.size))}return g(n,[{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df.empty;if(t==df.empty){e.delete(0,e.doc.content.size);var r=np.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else ei(k(n.prototype),"replace",this).call(this,e,t)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(e){return new n(e)}},{key:"eq",value:function(e){return e instanceof n}},{key:"getBookmark",value:function(){return fp}}],[{key:"fromJSON",value:function(e){return new n(e)}}]),n}(np);np.jsonID("all",cp);var fp={map:function(){return this},resolve:function(e){return new cp(e)}};function dp(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return ap.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var u=t.child(a);if(u.isAtom){if(!i&&sp.isSelectable(u))return sp.create(e,n-(o<0?u.nodeSize:0))}else{var s=dp(e,u,n+o,o<0?u.childCount:0,o,i);if(s)return s}n+=u.nodeSize*o}return null}function pp(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o,i=e.steps[r];if(i instanceof Sd||i instanceof Ed)e.mapping.maps[r].forEach((function(e,t,n,r){null==o&&(o=r)})),e.setSelection(np.near(e.doc.resolve(o),n))}}var hp=function(e){b(n,e);var t=E(n);function n(e){var r;return v(this,n),(r=t.call(this,e.doc)).curSelectionFor=0,r.updated=0,r.meta=Object.create(null),r.time=Date.now(),r.curSelection=e.selection,r.storedMarks=e.storedMarks,r}return g(n,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(1&this.updated)>0}},{key:"setStoredMarks",value:function(e){return this.storedMarks=e,this.updated|=2,this}},{key:"ensureMarks",value:function(e){return cf.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}},{key:"addStoredMark",value:function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(2&this.updated)>0}},{key:"addStep",value:function(e,t){ei(k(n.prototype),"addStep",this).call(this,e,t),this.updated=-3&this.updated,this.storedMarks=null}},{key:"setTime",value:function(e){return this.time=e,this}},{key:"replaceSelection",value:function(e){return this.selection.replace(this,e),this}},{key:"replaceSelectionWith",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||cf.none))),n.replaceWith(this,e),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(e,t,n){var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(np.near(this.selection.$to)),this}},{key:"setMeta",value:function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}},{key:"getMeta",value:function(e){return this.meta["string"==typeof e?e:e.key]}},{key:"isGeneric",get:function(){for(var e in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=4,this}},{key:"scrolledIntoView",get:function(){return(4&this.updated)>0}}]),n}(ep);function vp(e,t){return t&&e?e.bind(t):e}var mp=g((function e(t,n,r){v(this,e),this.name=t,this.init=vp(n.init,r),this.apply=vp(n.apply,r)})),gp=[new mp("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new mp("selection",{init:function(e,t){return e.selection||np.atStart(t.doc)},apply:function(e){return e.selection}}),new mp("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new mp("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],yp=g((function e(t,n){var r=this;v(this,e),this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gp.slice(),n&&n.forEach((function(e){if(r.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");r.plugins.push(e),r.pluginsByKey[e.key]=e,e.spec.state&&r.fields.push(new mp(e.key,e.spec.state,e))}))})),bp=function(){function e(t){v(this,e),this.config=t}return g(e,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(e){return this.applyTransaction(e).state}},{key:"filterTransaction",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}},{key:"applyTransaction",value:function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var u=r?r[i].n:0,s=r?r[i].state:this,l=u<t.length&&a.spec.appendTransaction.call(a,u?t.slice(u):t,s,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",e),!r){r=[];for(var c=0;c<this.config.plugins.length;c++)r.push(c<i?{state:n,n:t.length}:{state:this,n:0})}t.push(l),n=n.applyInner(l),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}},{key:"applyInner",value:function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new e(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}},{key:"tr",get:function(){return new hp(this)}},{key:"reconfigure",value:function(t){for(var n=new yp(this.schema,t.plugins),r=n.fields,o=new e(n),i=0;i<r.length;i++){var a=r[i].name;o[a]=this.hasOwnProperty(a)?this[a]:r[i].init(t,o)}return o}},{key:"toJSON",value:function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}}],[{key:"create",value:function(t){for(var n=new yp(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new e(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}},{key:"fromJSON",value:function(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new yp(t.schema,t.plugins),i=new e(o);return o.fields.forEach((function(e){if("doc"==e.name)i.doc=Tf.fromJSON(t.schema,n.doc);else if("selection"==e.name)i.selection=np.fromJSON(i.doc,n.selection);else if("storedMarks"==e.name)n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var o in r){var a=r[o],u=a.spec.state;if(a.key==e.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,o))return void(i[e.name]=u.fromJSON.call(a,t,n[o],i))}i[e.name]=e.init(t,i)}})),i}}]),e}();function kp(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=kp(o,t,{})),n[r]=o}return n}var wp=function(){function e(t){v(this,e),this.spec=t,this.props={},t.props&&kp(t.props,this,this.props),this.key=t.key?t.key.key:Sp("plugin")}return g(e,[{key:"getState",value:function(e){return e[this.key]}}]),e}(),xp=Object.create(null);function Sp(e){return e in xp?e+"$"+ ++xp[e]:(xp[e]=0,e+"$")}var Ep=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";v(this,e),this.key=Sp(t)}return g(e,[{key:"get",value:function(e){return e.config.pluginsByKey[this.key]}},{key:"getState",value:function(e){return e[this.key]}}]),e}(),Cp=/[A-Z]/g,Ap=/^ms-/,Dp={};function Op(e){return"-"+e.toLowerCase()}var _p=function(e){if(Dp.hasOwnProperty(e))return Dp[e];var t=e.replace(Cp,Op);return Dp[e]=Ap.test(t)?"-"+t:t};function Tp(e,t){return function(e){return _p(e)}(e)+":"+t}function Mp(){return"undefined"!==typeof document?document:null}var Np=n(3766),Rp=g((function e(t,n){var r;v(this,e),this.match=t,this.match=t,this.handler="string"==typeof n?(r=n,function(e,t,n,o){var i=r;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var u=(n+=a)-o;u>0&&(i=t[0].slice(a-u,a)+i,n=o)}return e.tr.insertText(i,n,o)}):n}));function Pp(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,u=a.doc.resolve(t);if(u.parent.type.spec.code)return!1;for(var s=u.parent.textBetween(Math.max(0,u.parentOffset-500),u.parentOffset,null,"\ufffc")+r,l=0;l<o.length;l++){var c=o[l].match.exec(s),f=c&&o[l].handler(a,c,t-(c[0].length-r.length),n);if(f)return e.dispatch(f.setMeta(i,{transform:f,from:t,to:n,text:r})),!0}return!1}var Ip=function(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,u=i.transform,s=u.steps.length-1;s>=0;s--)a.step(u.steps[s].invert(u.docs[s]));if(i.text){var l=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,e.schema.text(i.text,l))}else a.delete(i.from,i.to);t(a)}return!0}}return!1};new Rp(/--$/,"\u2014"),new Rp(/\.\.\.$/,"\u2026"),new Rp(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Rp(/"$/,"\u201d"),new Rp(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Rp(/'$/,"\u2019");function Fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Rp(e,(function(e,o,i,a){var u=n instanceof Function?n(o):n,s=e.tr.delete(i,a),l=s.doc.resolve(i).blockRange(),c=l&&Od(l,t,u);if(!c)return null;s.wrap(l,c);var f=s.doc.resolve(i-1).nodeBefore;return f&&f.type==t&&Fd(s.doc,i-1)&&(!r||r(o,f))&&s.join(i-1),s}))}var Lp=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Bp=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},jp=null,zp=function(e,t,n){var r=jp||(jp=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},$p=function(e,t,n,r){return n&&(Wp(e,t,n,r,-1)||Wp(e,t,n,r,1))},Up=/^(img|br|input|textarea|hr)$/i;function Wp(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Hp(e))){var i=e.parentNode;if(!i||1!=i.nodeType||Kp(e)||Up.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Lp(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?Hp(e):0}}}function Hp(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Vp(e,t,n){for(var r=0==t,o=t==Hp(e);r||o;){if(e==n)return!0;var i=Lp(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==Hp(e)}}function Kp(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var qp=function(e){return e.focusNode&&$p(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Gp(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}var Jp="undefined"!=typeof navigator?navigator:null,Yp="undefined"!=typeof document?document:null,Xp=Jp&&Jp.userAgent||"",Qp=/Edge\/(\d+)/.exec(Xp),Zp=/MSIE \d/.exec(Xp),eh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xp),th=!!(Zp||eh||Qp),nh=Zp?document.documentMode:eh?+eh[1]:Qp?+Qp[1]:0,rh=!th&&/gecko\/(\d+)/i.test(Xp);rh&&(/Firefox\/(\d+)/.exec(Xp)||[0,0])[1];var oh=!th&&/Chrome\/(\d+)/.exec(Xp),ih=!!oh,ah=oh?+oh[1]:0,uh=!th&&!!Jp&&/Apple Computer/.test(Jp.vendor),sh=uh&&(/Mobile\/\w+/.test(Xp)||!!Jp&&Jp.maxTouchPoints>2),lh=sh||!!Jp&&/Mac/.test(Jp.platform),ch=/Android \d/.test(Xp),fh=!!Yp&&"webkitFontSmoothing"in Yp.documentElement.style,dh=fh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ph(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function hh(e,t){return"number"==typeof e?e:e[t]}function vh(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function mh(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=Bp(a))if(1==a.nodeType){var u=a,s=u==i.body,l=s?ph(i):vh(u),c=0,f=0;if(t.top<l.top+hh(r,"top")?f=-(l.top-t.top+hh(o,"top")):t.bottom>l.bottom-hh(r,"bottom")&&(f=t.bottom-l.bottom+hh(o,"bottom")),t.left<l.left+hh(r,"left")?c=-(l.left-t.left+hh(o,"left")):t.right>l.right-hh(r,"right")&&(c=t.right-l.right+hh(o,"right")),c||f)if(s)i.defaultView.scrollBy(c,f);else{var d=u.scrollLeft,p=u.scrollTop;f&&(u.scrollTop+=f),c&&(u.scrollLeft+=c);var h=u.scrollLeft-d,v=u.scrollTop-p;t={left:t.left-h,top:t.top-v,right:t.right-h,bottom:t.bottom-v}}if(s)break}}function gh(e){for(var t=[],n=e.ownerDocument,r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Bp(r));return t}function yh(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var bh=null;function kh(e,t){for(var n,r,o=2e8,i=0,a=t.top,u=t.top,s=e.firstChild,l=0;s;s=s.nextSibling,l++){var c=void 0;if(1==s.nodeType)c=s.getClientRects();else{if(3!=s.nodeType)continue;c=zp(s).getClientRects()}for(var f=0;f<c.length;f++){var d=c[f];if(d.top<=a&&d.bottom>=u){a=Math.max(d.bottom,a),u=Math.min(d.top,u);var p=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(p<o){n=s,o=p,r=p&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==s.nodeType&&p&&(i=l+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=Eh(r,1);if(i.top!=i.bottom&&wh(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:kh(n,r)}function wh(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function xh(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=e.childNodes[i];if(1==a.nodeType)for(var u=a.getClientRects(),s=0;s<u.length;s++){var l=u[s];if(wh(t,l))return xh(a,t,l)}if((i=(i+1)%r)==o)break}return e}function Sh(e,t){var n,r=e.dom.ownerDocument,o=0;if(r.caretPositionFromPoint)try{var i=r.caretPositionFromPoint(t.left,t.top);i&&(n=i.offsetNode,o=i.offset)}catch(gt){}if(!n&&r.caretRangeFromPoint){var a=r.caretRangeFromPoint(t.left,t.top);a&&(n=a.startContainer,o=a.startOffset)}var u,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){var l=e.dom.getBoundingClientRect();if(!wh(t,l))return null;if(!(s=xh(e.dom,t,l)))return null}if(uh)for(var c=s;n&&c;c=Bp(c))c.draggable&&(n=void 0);if(s=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(rh&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length))<n.childNodes.length){var f,d=n.childNodes[o];"IMG"==d.nodeName&&(f=d.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(u=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var u=a.dom.getBoundingClientRect();if(u.left>r.left||u.top>r.top)o=a.posBefore;else{if(!(u.right<r.left||u.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,1)}(e,n,o,t))}null==u&&(u=function(e,t,n){var r=kh(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var u=o.getBoundingClientRect();a=u.left!=u.right&&n.left>(u.left+u.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,s,t));var p=e.docView.nearestDesc(s,!0);return{pos:u,inside:p?p.posAtStart-p.border:-1}}function Eh(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var Ch=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ah(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,a=r.atom,u=fh||rh;if(3==o.nodeType){if(!u||!Ch.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var s=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==o.nodeValue.length?(s--,c=1):n<0?s--:l++,Dh(Eh(zp(o,s,l),1),c<0)}var f=Eh(zp(o,i,i),n);if(rh&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var d=Eh(zp(o,i-1,i-1),-1);if(d.top==f.top){var p=Eh(zp(o,i,i+1),-1);if(p.top!=f.top)return Dh(p,p.left<d.left)}}return f}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(null==a&&i&&(n<0||i==Hp(o))){var h=o.childNodes[i-1];if(1==h.nodeType)return Oh(h.getBoundingClientRect(),!1)}if(null==a&&i<Hp(o)){var v=o.childNodes[i];if(1==v.nodeType)return Oh(v.getBoundingClientRect(),!0)}return Oh(o.getBoundingClientRect(),n>=0)}if(null==a&&i&&(n<0||i==Hp(o))){var m=o.childNodes[i-1],g=3==m.nodeType?zp(m,Hp(m)-(u?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(g)return Dh(Eh(g,1),!1)}if(null==a&&i<Hp(o)){for(var y=o.childNodes[i];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var b=y?3==y.nodeType?zp(y,0,u?0:1):1==y.nodeType?y:null:null;if(b)return Dh(Eh(b,-1),!0)}return Dh(Eh(3==o.nodeType?zp(o):o,-n),n>=0)}function Dh(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Oh(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function _h(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var Th=/[\u0590-\u08ac]/;var Mh=null,Nh=null,Rh=!1;function Ph(e,t,n){return Mh==t&&Nh==n?Rh:(Mh=t,Nh=n,Rh="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return _h(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.contentDOM||r.dom;break}t=r.dom.parentNode}for(var i=Ah(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var u=void 0;if(1==a.nodeType)u=a.getClientRects();else{if(3!=a.nodeType)continue;u=zp(a,0,a.nodeValue.length).getClientRects()}for(var s=0;s<u.length;s++){var l=u[s];if(l.bottom>l.top+1&&("up"==n?i.top-l.top>2*(l.bottom-i.top):l.bottom-i.bottom>2*(i.bottom-l.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,u=e.domSelection();return Th.test(r.parent.textContent)&&u.modify?_h(e,t,(function(){var t=e.domSelectionRange(),o=t.focusNode,i=t.focusOffset,a=t.anchorNode,s=t.anchorOffset,l=u.caretBidiLevel;u.modify("move",n,"character");var c=r.depth?e.docView.domAfterPos(r.before()):e.dom,f=e.domSelectionRange(),d=f.focusNode,p=f.focusOffset,h=d&&!c.contains(1==d.nodeType?d:d.parentNode)||o==d&&i==p;try{u.collapse(a,s),o&&(o!=a||i!=s)&&u.extend&&u.extend(o,i)}catch(gt){}return null!=l&&(u.caretBidiLevel=l),h})):"left"==n||"backward"==n?i:a}(e,t,n))}var Ih=function(){function e(t,n,r,o){v(this,e),this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=0,r.pmViewDesc=this}return g(e,[{key:"matchesWidget",value:function(e){return!1}},{key:"matchesMark",value:function(e){return!1}},{key:"matchesNode",value:function(e,t,n){return!1}},{key:"matchesHack",value:function(e){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(e){return!1}},{key:"size",get:function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var e=0;e<this.children.length;e++)this.children[e].destroy()}},{key:"posBeforeChild",value:function(e){for(var t=0,n=this.posAtStart;;t++){var r=this.children[t];if(r==e)return n;n+=r.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var u;if(e==this.dom&&this.contentDOM)u=t>Lp(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))u=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var s=e;;s=s.parentNode){if(s==this.dom){u=!1;break}if(s.previousSibling)break}if(null==u&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){u=!0;break}if(l.nextSibling)break}}return(null==u?n>0:u)?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r),i=void 0;if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}},{key:"getDesc",value:function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t}},{key:"posFromDOM",value:function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}},{key:"descAt",value:function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}},{key:"domFromPos",value:function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};for(var n,r=0,o=0,i=0;r<this.children.length;r++){var a=this.children[r],u=i+a.size;if(u>e||a instanceof Uh){o=e-i;break}i=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof Fh&&n.side>=0;r--);if(t<=0){for(var s,l=!0;(s=r?this.children[r-1]:null)&&s.dom.parentNode!=this.contentDOM;r--,l=!1);return s&&t&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Lp(s.dom)+1:0}}for(var c,f=!0;(c=r<this.children.length?this.children[r]:null)&&c.dom.parentNode!=this.contentDOM;r++,f=!1);return c&&f&&!c.border&&!c.domAtom?c.domFromPos(0,t):{node:this.contentDOM,offset:c?Lp(c.dom):this.contentDOM.childNodes.length}}},{key:"parseRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var u=this.children[a],s=i+u.size;if(-1==r&&e<=s){var l=i+u.border;if(e>=l&&t<=s-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,t,l);e=i;for(var c=a;c>0;c--){var f=this.children[c-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=Lp(f.dom)+1;break}e-=f.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(var d=a+1;d<this.children.length;d++){var p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=Lp(p.dom);break}t+=p.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}},{key:"emptyChildAt",value:function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}},{key:"domAfterPos",value:function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}},{key:"setSelection",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),i=Math.max(e,t),a=0,u=0;a<this.children.length;a++){var s=this.children[a],l=u+s.size;if(o>u&&i<l)return s.setSelection(e-u-s.border,t-u-s.border,n,r);u=l}var c=this.domFromPos(e,e?-1:1),f=t==e?c:this.domFromPos(t,t?-1:1),d=n.getSelection(),p=!1;if((rh||uh)&&e==t){var h=c,v=h.node,m=h.offset;if(3==v.nodeType){if((p=!(!m||"\n"!=v.nodeValue[m-1]))&&m==v.nodeValue.length)for(var g,y=v;y;y=y.parentNode){if(g=y.nextSibling){"BR"==g.nodeName&&(c=f={node:g.parentNode,offset:Lp(g)+1});break}var b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{var k=v.childNodes[m-1];p=k&&("BR"==k.nodeName||"false"==k.contentEditable)}}if(rh&&d.focusNode&&d.focusNode!=f.node&&1==d.focusNode.nodeType){var w=d.focusNode.childNodes[d.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||p&&uh||!$p(c.node,c.offset,d.anchorNode,d.anchorOffset)||!$p(f.node,f.offset,d.focusNode,d.focusOffset)){var x=!1;if((d.extend||e==t)&&!p){d.collapse(c.node,c.offset);try{e!=t&&d.extend(f.node,f.offset),x=!0}catch(gt){}}if(!x){if(e>t){var S=c;c=f,f=S}var E=document.createRange();E.setEnd(f.node,f.offset),E.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(E)}}}},{key:"ignoreMutation",value:function(e){return!this.contentDOM&&"selection"!=e.type}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,u=i-o.border;if(e>=a&&t<=u)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=u||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}},{key:"markParentsDirty",value:function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}}]),e}(),Fh=function(e){b(n,e);var t=E(n);function n(e,r,o,i){var a;v(this,n);var u,s=r.type.toDOM;if("function"==typeof s&&(s=s(o,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:i}))),!r.type.spec.raw){if(1!=s.nodeType){var l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}return(a=t.call(this,e,[],s,null)).widget=r,a.widget=r,u=x(a),a}return g(n,[{key:"matchesWidget",value:function(e){return 0==this.dirty&&e.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)}},{key:"ignoreMutation",value:function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),ei(k(n.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),n}(Ih),Lh=function(e){b(n,e);var t=E(n);function n(e,r,o,i){var a;return v(this,n),(a=t.call(this,e,[],r,null)).textDOM=o,a.text=i,a}return g(n,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}},{key:"domFromPos",value:function(e){return{node:this.textDOM,offset:e}}},{key:"ignoreMutation",value:function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}]),n}(Ih),Bh=function(e){b(n,e);var t=E(n);function n(e,r,o,i){var a;return v(this,n),(a=t.call(this,e,[],o,i)).mark=r,a}return g(n,[{key:"parseRule",value:function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}},{key:"matchesMark",value:function(e){return 3!=this.dirty&&this.mark.eq(e)}},{key:"markDirty",value:function(e,t){if(ei(k(n.prototype),"markDirty",this).call(this,e,t),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}},{key:"slice",value:function(e,t,r){var o=n.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;t<a&&(i=tv(i,t,a,r)),e>0&&(i=tv(i,0,e,r));for(var u=0;u<i.length;u++)i[u].parent=o;return o.children=i,o}}],[{key:"create",value:function(e,t,r,o){var i=o.nodeViews[t.type.name],a=i&&i(t,o,r);return a&&a.dom||(a=ud.renderSpec(document,t.type.spec.toDOM(t,r))),new n(e,t,a.dom,a.contentDOM||a.dom)}}]),n}(Ih),jh=function(e){b(n,e);var t=E(n);function n(e,r,o,i,a,u,s,l,c){var f;return v(this,n),(f=t.call(this,e,[],a,u)).node=r,f.outerDeco=o,f.innerDeco=i,f.nodeDOM=s,u&&f.updateChildren(l,c),f}return g(n,[{key:"parseRule",value:function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var n=this.children.length-1;n>=0;n--){var r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=function(){return af.empty})}else t.contentElement=this.contentDOM;else t.getContent=function(){return e.node.content};return t}},{key:"matchesNode",value:function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Xh(t,this.outerDeco)&&n.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(e,t){var n=this,r=this.node.inlineContent,o=t,i=e.composing?this.localCompositionInfo(e,t):null,a=i&&i.pos>-1?i:null,u=i&&i.pos<0,s=new Zh(this,a&&a.node,e);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var u=e.child(a);r(u,o,t.forChild(i,u),a),i+=u.nodeSize}return}for(var s=0,l=[],c=null,f=0;;){if(s<o.length&&o[s].to==i){for(var d=o[s++],p=void 0;s<o.length&&o[s].to==i;)(p||(p=[d])).push(o[s++]);if(p){p.sort(ev);for(var h=0;h<p.length;h++)n(p[h],f,!!c)}else n(d,f,!!c)}var v=void 0,m=void 0;if(c)m=-1,v=c,c=null;else{if(!(f<e.childCount))break;m=f,v=e.child(f++)}for(var g=0;g<l.length;g++)l[g].to<=i&&l.splice(g--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);var y=i+v.nodeSize;if(v.isText){var b=y;s<o.length&&o[s].from<b&&(b=o[s].from);for(var k=0;k<l.length;k++)l[k].to<b&&(b=l[k].to);b<y&&(c=v.cut(b-i),v=v.cut(0,b-i),y=b,m=-1)}var w=v.isInline&&!v.isLeaf?l.filter((function(e){return!e.inline})):l.slice();r(v,w,t.forChild(i,v),m),i=y}}(this.node,this.innerDeco,(function(t,i,a){t.spec.marks?s.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?cf.none:n.node.child(i).marks,r,e),s.placeWidget(t,e,o)}),(function(t,n,a,l){var c;s.syncToMarks(t.marks,r,e),s.findNodeMatch(t,n,a,l)||u&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(c=s.findIndexWithChild(i.node))>-1&&s.updateNodeAt(t,n,a,c,e)||s.updateNextNode(t,n,a,e,l)||s.addNode(t,n,a,e,o),o+=t.nodeSize})),s.syncToMarks([],r,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),Hh(this.contentDOM,this.children,e),sh&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}},{key:"localCompositionInfo",value:function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(e.state.selection instanceof ap)||r<t||o>t+this.node.content.size)return null;var i=e.domSelectionRange(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=Hp(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){var u=a.nodeValue,s=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),u=i;if(i+=a.nodeSize,a.isText){for(var s=a.text;o<e.childCount;){var l=e.child(o++);if(i+=l.nodeSize,!l.isText)break;s+=l.text}if(i>=n){var c=u<r?s.lastIndexOf(t,r-u-1):-1;if(c>=0&&c+t.length+u>=n)return u+c;if(n==r&&s.length>=r+t.length-u&&s.slice(r-u,r-u+t.length)==t)return r}}}return-1}(this.node.content,u,r-t,o-t);return s<0?null:{node:a,pos:s,text:u}}return{node:a,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}var a=new Lh(this,i,n,o);e.input.compositionNodes.push(a),this.children=tv(this.children,r,r+o.length,e,a)}}},{key:"update",value:function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}},{key:"updateInner",value:function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}},{key:"updateOuterDeco",value:function(e){if(!Xh(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Gh(this.dom,this.nodeDOM,qh(this.outerDeco,this.node,t),qh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}}},{key:"selectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(e,t,r,o,i,a){var u,s=i.nodeViews[t.type.name],l=s&&s(t,i,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:a}),r,o),c=l&&l.dom,f=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){var d=ud.renderSpec(document,t.type.spec.toDOM(t));c=d.dom,f=d.contentDOM}f||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));var p=c;return c=Yh(c,r,t),l?u=new Wh(e,t,r,o,c,f||null,p,l,i,a+1):t.isText?new $h(e,t,r,o,c,p,i):new n(e,t,r,o,c,f||null,p,i,a+1)}}]),n}(Ih);function zh(e,t,n,r,o){return Yh(r,t,e),new jh(void 0,e,t,n,r,r,r,o,0)}var $h=function(e){b(n,e);var t=E(n);function n(e,r,o,i,a,u,s){return v(this,n),t.call(this,e,r,o,i,a,null,u,s,0)}return g(n,[{key:"parseRule",value:function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}},{key:"update",value:function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}},{key:"inParent",value:function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}},{key:"domFromPos",value:function(e){return{node:this.nodeDOM,offset:e}}},{key:"localPosFromDOM",value:function(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):ei(k(n.prototype),"localPosFromDOM",this).call(this,e,t,r)}},{key:"ignoreMutation",value:function(e){return"characterData"!=e.type&&"selection"!=e.type}},{key:"slice",value:function(e,t,r){var o=this.node.cut(e,t),i=document.createTextNode(o.text);return new n(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}},{key:"markDirty",value:function(e,t){ei(k(n.prototype),"markDirty",this).call(this,e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}},{key:"domAtom",get:function(){return!1}}]),n}(jh),Uh=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(e){return 0==this.dirty&&this.dom.nodeName==e}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return"IMG"==this.dom.nodeName}}]),n}(Ih),Wh=function(e){b(n,e);var t=E(n);function n(e,r,o,i,a,u,s,l,c,f){var d;return v(this,n),(d=t.call(this,e,r,o,i,a,u,s,c,f)).spec=l,d}return g(n,[{key:"update",value:function(e,t,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,t,r);return i&&this.updateInner(e,t,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&ei(k(n.prototype),"update",this).call(this,e,t,r,o)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():ei(k(n.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():ei(k(n.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r):ei(k(n.prototype),"setSelection",this).call(this,e,t,r,o)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),ei(k(n.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}},{key:"ignoreMutation",value:function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):ei(k(n.prototype),"ignoreMutation",this).call(this,e)}}]),n}(jh);function Hh(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],u=a.dom;if(u.parentNode==e){for(;u!=r;)r=Qh(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(u,r);if(a instanceof Bh){var s=r?r.previousSibling:e.lastChild;Hh(a.contentDOM,a.children,n),r=s?s.nextSibling:e.firstChild}}for(;r;)r=Qh(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}var Vh=function(e){e&&(this.nodeName=e)};Vh.prototype=Object.create(null);var Kh=[new Vh];function qh(e,t,n){if(0==e.length)return Kh;for(var r=n?Kh[0]:new Vh,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var u in a.nodeName&&o.push(r=new Vh(a.nodeName)),a){var s=a[u];null!=s&&(n&&1==o.length&&o.push(r=new Vh(t.isInline?"span":"div")),"class"==u?r.class=(r.class?r.class+" ":"")+s:"style"==u?r.style=(r.style?r.style+";":"")+s:"nodeName"!=u&&(r[u]=s))}}return o}function Gh(e,t,n,r){if(n==Kh&&r==Kh)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],u=n[i];if(i){var s=void 0;u&&u.nodeName==a.nodeName&&o!=e&&(s=o.parentNode)&&s.nodeName.toLowerCase()==a.nodeName||((s=document.createElement(a.nodeName)).pmIsDeco=!0,s.appendChild(o),u=Kh[0]),o=s}Jh(o,u||Kh[0],a)}return o}function Jh(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[],u=0;u<i.length;u++)-1==a.indexOf(i[u])&&e.classList.remove(i[u]);for(var s=0;s<a.length;s++)-1==i.indexOf(a[s])&&e.classList.add(a[s]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var l,c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=c.exec(t.style);)e.style.removeProperty(l[1]);n.style&&(e.style.cssText+=n.style)}}function Yh(e,t,n){return Gh(e,e,Kh,qh(t,n,1!=e.nodeType))}function Xh(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Qh(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Zh=function(){function e(t,n,r){v(this,e),this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(e,t){var n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){for(var u=void 0;;)if(r){var s=n.children[r-1];if(!(s instanceof Bh)){u=s,r--;break}n=s,r=s.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var l=u.node;if(l){if(l!=e.child(o-1))break;--o,i.set(u,o),a.push(u)}}return{index:o,matched:i,matches:a.reverse()}}(t.node.content,t)}return g(e,[{key:"destroyBetween",value:function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){var s=this.top.children[u];if(s.matchesMark(e[o])&&!this.isLocked(s.dom)){a=u;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=Bh.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}},{key:"findNodeMatch",value:function(e,t,n,r){var o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(var a=this.index,u=Math.min(this.top.children.length,a+5);a<u;a++){var s=this.top.children[a];if(s.matchesNode(e,t,n)&&!this.preMatch.matched.has(s)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}},{key:"updateNodeAt",value:function(e,t,n,r,o){var i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}},{key:"findIndexWithChild",value:function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}}},{key:"updateNextNode",value:function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof jh){var u=this.preMatch.matched.get(a);if(null!=u&&u!=o)return!1;var s=a.dom;if(!(this.isLocked(s)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Xh(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=s&&(this.changed=!0),this.index++,!0;break}}return!1}},{key:"addNode",value:function(e,t,n,r,o){this.top.children.splice(this.index++,0,jh.create(this.top,e,t,n,r,o)),this.changed=!0}},{key:"placeWidget",value:function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new Fh(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}},{key:"addTextblockHacks",value:function(){for(var e=this.top.children[this.index-1],t=this.top;e instanceof Bh;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof $h)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((uh||ih)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{var n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");var r=new Uh(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}},{key:"isLocked",value:function(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}]),e}();function ev(e,t){return e.type.side-t.type.side}function tv(e,t,n,r,o){for(var i=[],a=0,u=0;a<e.length;a++){var s=e[a],l=u,c=u+=s.size;l>=n||c<=t?i.push(s):(l<t&&i.push(s.slice(0,t-l,r)),o&&(i.push(o),o=void 0),c>n&&i.push(s.slice(n-l,s.size,r)))}return i}function nv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;var u,s,l=r.resolve(a);if(qp(n)){for(u=l;o&&!o.node;)o=o.parent;var c=o.node;if(o&&c.isAtom&&sp.isSelectable(c)&&o.parent&&(!c.isInline||!Vp(n.focusNode,n.focusOffset,o.dom))){var f=o.posBefore;s=new sp(a==f?l:r.resolve(f))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!s){var p="pointer"==t||e.state.selection.head<l.pos&&!i?1:-1;s=pv(e,u,l,p)}return s}function rv(e){return e.editable?e.hasFocus():vv(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ov(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(fv(e,n),rv(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ih){var r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&$p(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)cv(e);else{var i,a,u=n.anchor,s=n.head;!iv||n instanceof ap||(n.$from.parent.inlineContent||(i=av(e,n.from)),n.empty||n.$from.parent.inlineContent||(a=av(e,n.to))),e.docView.setSelection(u,s,e.root,t),iv&&(i&&sv(i),a&&sv(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&lv(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var iv=uh||ih&&ah<63;function av(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(uh&&i&&"false"==i.contentEditable)return uv(i);if((!i||"false"==i.contentEditable)&&(!a||"false"==a.contentEditable)){if(i)return uv(i);if(a)return uv(a)}}function uv(e){return e.contentEditable="true",uh&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function sv(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function lv(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);var n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((function(){rv(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}function cv(e){var t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Lp(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&th&&nh<=11&&(r.disabled=!0,r.disabled=!1)}function fv(e,t){if(t instanceof sp){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(dv(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else dv(e)}function dv(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function pv(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||ap.between(t,n,r)}function hv(e){return!(e.editable&&!e.hasFocus())&&vv(e)}function vv(e){var t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(gt){return!1}}function mv(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&np.findFrom(a,t)}function gv(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function yv(e,t,n){var r=e.state.selection;if(!(r instanceof ap)){if(r instanceof sp&&r.node.isInline)return gv(e,new ap(t>0?r.$to:r.$from));var o=mv(e.state,t);return!!o&&gv(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=mv(e.state,t);return!!(i&&i instanceof sp)&&gv(e,i)}if(!(lh&&n.indexOf("m")>-1)){var a,u=r.$head,s=u.textOffset?null:t<0?u.nodeBefore:u.nodeAfter;if(!s||s.isText)return!1;var l=t<0?u.pos-s.nodeSize:u.pos;return!!(s.isAtom||(a=e.docView.descAt(l))&&!a.contentDOM)&&(sp.isSelectable(s)?gv(e,new sp(t<0?e.state.doc.resolve(u.pos-s.nodeSize):u)):!!fh&&gv(e,new ap(e.state.doc.resolve(t<0?l:l+s.nodeSize))))}}function bv(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function kv(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function wv(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(rh&&1==n.nodeType&&r<bv(n)&&kv(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var u=n.childNodes[r-1];if(kv(u))o=n,i=--r;else{if(3!=u.nodeType)break;r=(n=u).nodeValue.length}}else{if(Sv(n))break;for(var s=n.previousSibling;s&&kv(s);)o=n.parentNode,i=Lp(s),s=s.previousSibling;if(s)r=bv(n=s);else{if((n=n.parentNode)==e.dom)break;r=0}}a?Ev(e,n,r):o&&Ev(e,o,i)}}function xv(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=bv(n);;)if(r<a){if(1!=n.nodeType)break;if(!kv(n.childNodes[r]))break;o=n,i=++r}else{if(Sv(n))break;for(var u=n.nextSibling;u&&kv(u);)o=u.parentNode,i=Lp(u)+1,u=u.nextSibling;if(u)r=0,a=bv(n=u);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&Ev(e,o,i)}}function Sv(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ev(e,t,n){var r=e.domSelection();if(qp(r)){var o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&ov(e)}),50)}function Cv(e,t,n){var r=e.state.selection;if(r instanceof ap&&!r.empty||n.indexOf("s")>-1)return!1;if(lh&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=mv(e.state,t);if(a&&a instanceof sp)return gv(e,a)}if(!o.parent.inlineContent){var u=t<0?o:i,s=r instanceof cp?np.near(u,t):np.findFrom(u,t);return!!s&&gv(e,s)}return!1}function Av(e,t){if(!(e.state.selection instanceof ap))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var u=e.state.tr;return t<0?u.delete(r.pos-a.nodeSize,r.pos):u.delete(r.pos,r.pos+a.nodeSize),e.dispatch(u),!0}return!1}function Dv(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ov(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||lh&&72==n&&"c"==r?Av(e,-1)||wv(e):46==n||lh&&68==n&&"c"==r?Av(e,1)||xv(e):13==n||27==n||(37==n||lh&&66==n&&"c"==r?yv(e,-1,r)||wv(e):39==n||lh&&70==n&&"c"==r?yv(e,1,r)||xv(e):38==n||lh&&80==n&&"c"==r?Cv(e,-1,r)||wv(e):40==n||lh&&78==n&&"c"==r?function(e){if(!uh||e.state.selection.$head.parentOffset>0)return!1;var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Dv(e,o,"true"),setTimeout((function(){return Dv(e,o,"false")}),20)}return!1}(e)||Cv(e,1,r)||xv(e):r==(lh?"m":"c")&&(66==n||73==n||89==n||90==n))}function _v(e,t){e.someProp("transformCopied",(function(n){t=n(t,e)}));for(var n=[],r=t,o=r.content,i=r.openStart,a=r.openEnd;i>1&&a>1&&1==o.childCount&&1==o.firstChild.childCount;){i--,a--;var u=o.firstChild;n.push(u.type.name,u.attrs!=u.type.defaultAttrs?u.attrs:null),o=u.content}var s=e.someProp("clipboardSerializer")||ud.fromSchema(e.state.schema),l=jv(),c=l.createElement("div");c.appendChild(s.serializeFragment(o,{document:l}));for(var f,d=c.firstChild,p=0;d&&1==d.nodeType&&(f=Lv[d.nodeName.toLowerCase()]);){for(var h=f.length-1;h>=0;h--){for(var v=l.createElement(f[h]);c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),p++}d=c.firstChild}d&&1==d.nodeType&&d.setAttribute("data-pm-slice","".concat(i," ").concat(a).concat(p?" -".concat(p):""," ").concat(JSON.stringify(n)));var m=e.someProp("clipboardTextSerializer",(function(n){return n(t,e)}))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:c,text:m}}function Tv(e,t,n,r,o){var i,a,u=o.parent.type.spec.code;if(!n&&!t)return null;var s=t&&(r||u||!n);if(s){if(e.someProp("transformPastedText",(function(n){t=n(t,u||r,e)})),u)return t?new df(af.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):df.empty;var l=e.someProp("clipboardTextParser",(function(n){return n(t,o,r,e)}));if(l)a=l;else{var c=o.marks(),f=e.state.schema,d=ud.fromSchema(f);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=i.appendChild(document.createElement("p"));e&&t.appendChild(d.serializeNode(f.text(e,c)))}))}}else e.someProp("transformPastedHTML",(function(t){n=t(n,e)})),i=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=jv().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&Lv[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),fh&&function(e){for(var t=e.querySelectorAll(ih?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);var p=i&&i.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(h&&h[3])for(var v=+h[3];v>0;v--){for(var m=i.firstChild;m&&1!=m.nodeType;)m=m.nextSibling;if(!m)break;i=m}if(!a){var g=e.someProp("clipboardParser")||e.someProp("domParser")||Xf.fromSchema(e.state.schema);a=g.parseSlice(i,{preserveWhitespace:!(!s&&!h),context:o,ruleFromNode:function(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Mv.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(h)a=function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(Xe){return e}for(var o=e.content,i=e.openStart,a=e.openEnd,u=n.length-2;u>=0;u-=2){var s=r.nodes[n[u]];if(!s||s.hasRequiredAttrs())break;o=af.from(s.create(n[u+1],o)),i++,a++}return new df(o,i,a)}(Fv(a,+h[1],+h[2]),h[4]);else if(a=df.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(){var n,o=t.node(r).contentMatchAt(t.index(r)),i=[];if(e.forEach((function(e){if(i){var t,r=o.findWrapping(e.type);if(!r)return i=null;if(t=i.length&&n.length&&Rv(r,n,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=Pv(i[i.length-1],n.length));var a=Nv(e,r);i.push(a),o=o.matchType(a.type),n=r}}})),i)return{v:af.from(i)}},r=t.depth;r>=0;r--){var o=n();if("object"===typeof o)return o.v}return e}(a.content,o),!0),a.openStart||a.openEnd){for(var y=0,b=0,k=a.content.firstChild;y<a.openStart&&!k.type.spec.isolating;y++,k=k.firstChild);for(var w=a.content.lastChild;b<a.openEnd&&!w.type.spec.isolating;b++,w=w.lastChild);a=Fv(a,y,b)}return e.someProp("transformPasted",(function(t){a=t(a,e)})),a}var Mv=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Nv(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length-1;r>=n;r--)e=t[r].create(null,af.from(e));return e}function Rv(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var i=Rv(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(af.from(Nv(n,e,o+1))))}}function Pv(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,Pv(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(af.empty,!0);return e.copy(n.append(r))}function Iv(e,t,n,r,o,i){var a=t<0?e.firstChild:e.lastChild,u=a.content;return o<r-1&&(u=Iv(u,t,n,r,o+1,i)),o>=n&&(u=t<0?a.contentMatchAt(0).fillBefore(u,e.childCount>1||i<=o).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(af.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(u))}function Fv(e,t,n){return t<e.openStart&&(e=new df(Iv(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new df(Iv(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var Lv={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Bv=null;function jv(){return Bv||(Bv=document.implementation.createHTMLDocument("title"))}var zv={},$v={},Uv={touchstart:!0,touchmove:!0},Wv=g((function e(){v(this,e),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}));function Hv(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Vv(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=function(t){return Kv(e,t)})}))}function Kv(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function qv(e){return{left:e.clientX,top:e.clientY}}function Gv(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},u=i.depth+1;u>0;u--){var s=a(u);if("object"===typeof s)return s.v}return!1}function Jv(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Yv(e,t,n,r,o){return Gv(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof sp&&(n=o.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var u=a>i.depth?i.nodeAfter:i.node(a);if(sp.isSelectable(u)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Jv(e,sp.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&sp.isSelectable(r))&&(Jv(e,new sp(n),"pointer"),!0)}(e,n))}function Xv(e,t,n,r){return Gv(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function Qv(e,t,n,r){return Gv(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Jv(e,ap.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),u=o.before(i);if(a.inlineContent)Jv(e,ap.create(r,u+1,u+1+a.content.size),"pointer");else{if(!sp.isSelectable(a))continue;Jv(e,sp.create(r,u),"pointer")}return!0}}(e,n,r)}function Zv(e){return am(e)}$v.keydown=function(e,t){var n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!nm(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!ch||!ih||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!sh||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(function(t){return t(e,n)}))||Ov(e,n)?n.preventDefault():Hv(e,"key");else{var r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout((function(){e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",(function(t){return t(e,Gp(13,"Enter"))})),e.input.lastIOSEnter=0)}),200)}},$v.keyup=function(e,t){16==t.keyCode&&(e.input.shiftKey=!1)},$v.keypress=function(e,t){var n=t;if(!(nm(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||lh&&n.metaKey))if(e.someProp("handleKeyPress",(function(t){return t(e,n)})))n.preventDefault();else{var r=e.state.selection;if(!(r instanceof ap)||!r.$from.sameParent(r.$to)){var o=String.fromCharCode(n.charCode);/[\r\n]/.test(o)||e.someProp("handleTextInput",(function(t){return t(e,r.$from.pos,r.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}}};var em=lh?"metaKey":"ctrlKey";zv.mousedown=function(e,t){var n=t;e.input.shiftKey=n.shiftKey;var r=Zv(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[em]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};var a=e.posAtCoords(qv(n));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new tm(e,a,n,!!r)):("doubleClick"==i?Xv:Qv)(e,a.pos,a.inside,n)?n.preventDefault():Hv(e,"pointer"))};var tm=function(){function e(t,n,r,o){var i,a,u=this;if(v(this,e),this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[em],this.allowDefault=r.shiftKey,n.inside>-1)i=t.state.doc.nodeAt(n.inside),a=n.inside;else{var s=t.state.doc.resolve(n.pos);i=s.parent,a=s.depth?s.before():0}var l=o?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var f=t.state.selection;(0==r.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||f instanceof sp&&f.from<=a&&f.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!rh||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){u.view.input.mouseDown==u&&u.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Hv(t,"pointer")}return g(e,[{key:"done",value:function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return ov(e.view)})),this.view.input.mouseDown=null}},{key:"up",value:function(e){if(this.done(),this.view.dom.contains(e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(qv(e))),this.updateAllowDefault(e),this.allowDefault||!t?Hv(this.view,"pointer"):Yv(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||uh&&this.mightDrag&&!this.mightDrag.node.isAtom||ih&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Jv(this.view,np.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Hv(this.view,"pointer")}}},{key:"move",value:function(e){this.updateAllowDefault(e),Hv(this.view,"pointer"),0==e.buttons&&this.done()}},{key:"updateAllowDefault",value:function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}]),e}();function nm(e,t){return!!e.composing||!!(uh&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}zv.touchstart=function(e){e.input.lastTouch=Date.now(),Zv(e),Hv(e,"pointer")},zv.touchmove=function(e){e.input.lastTouch=Date.now(),Hv(e,"pointer")},zv.contextmenu=function(e){return Zv(e)};var rm=ch?5e3:-1;function om(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((function(){return am(e)}),t))}function im(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function am(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(ch&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),im(e),t||e.docView&&e.docView.dirty){var n=nv(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}$v.compositionstart=$v.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),am(e,!0),e.markCursor=null;else if(am(e),rh&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.domSelectionRange(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){e.domSelection().collapse(a,a.nodeValue.length);break}o=a,i=-1}e.input.composing=!0}om(e,rm)},$v.compositionend=function(e,t){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,om(e,20))};var um=th&&nh<15||sh&&dh<604;function sm(e,t,n,r,o){var i=Tv(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,o,i||df.empty)})))return!0;if(!i)return!1;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),u=a?e.state.tr.replaceSelectionWith(a,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}zv.copy=$v.cut=function(e,t){var n=t,r=e.state.selection,o="cut"==n.type;if(!r.empty){var i=um?null:n.clipboardData,a=_v(e,r.content()),u=a.dom,s=a.text;i?(n.preventDefault(),i.clearData(),i.setData("text/html",u.innerHTML),i.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,u),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},$v.paste=function(e,t){var n=t;if(!e.composing||ch){var r=um?null:n.clipboardData;r&&sm(e,r.getData("text/plain"),r.getData("text/html"),e.input.shiftKey,n)?n.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?sm(e,r.value,null,e.input.shiftKey,t):sm(e,r.textContent,r.innerHTML,e.input.shiftKey,t)}),50)}}(e,n)}};var lm=g((function e(t,n){v(this,e),this.slice=t,this.move=n})),cm=lh?"altKey":"ctrlKey";for(var fm in zv.dragstart=function(e,t){var n=t,r=e.input.mouseDown;if(r&&r.done(),n.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(qv(n));if(i&&i.pos>=o.from&&i.pos<=(o instanceof sp?o.to-1:o.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(sp.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){var a=e.docView.nearestDesc(n.target,!0);a&&a.node.type.spec.draggable&&a!=e.docView&&e.dispatch(e.state.tr.setSelection(sp.create(e.state.doc,a.posBefore)))}var u=e.state.selection.content(),s=_v(e,u),l=s.dom,c=s.text;n.dataTransfer.clearData(),n.dataTransfer.setData(um?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",um||n.dataTransfer.setData("text/plain",c),e.dragging=new lm(u,!n[cm])}},zv.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},$v.dragover=$v.dragenter=function(e,t){return t.preventDefault()},$v.drop=function(e,t){var n=t,r=e.dragging;if(e.dragging=null,n.dataTransfer){var o=e.posAtCoords(qv(n));if(o){var i=e.state.doc.resolve(o.pos),a=r&&r.slice;a?e.someProp("transformPasted",(function(t){a=t(a,e)})):a=Tv(e,n.dataTransfer.getData(um?"Text":"text/plain"),um?null:n.dataTransfer.getData("text/html"),!1,i);var u=!(!r||n[cm]);if(e.someProp("handleDrop",(function(t){return t(e,n,a||df.empty,u)})))n.preventDefault();else if(a){n.preventDefault();var s=a?zd(e.state.doc,i.pos,a):i.pos;null==s&&(s=i.pos);var l=e.state.tr;u&&l.deleteSelection();var c=l.mapping.map(s),f=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=l.doc;if(f?l.replaceRangeWith(c,c,a.content.firstChild):l.replaceRange(c,c,a),!l.doc.eq(d)){var p=l.doc.resolve(c);if(f&&sp.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new sp(p));else{var h=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((function(e,t,n,r){return h=r})),l.setSelection(pv(e,p,l.doc.resolve(h)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}},zv.focus=function(e){e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ov(e)}),20))},zv.blur=function(e,t){var n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},zv.beforeinput=function(e,t){if(ih&&ch&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();var n=e.input.domChangeCount;setTimeout((function(){if(e.input.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,Gp(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},$v)zv[fm]=$v[fm];function dm(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var pm=function(){function e(t,n){v(this,e),this.toDOM=t,this.spec=n||ym,this.side=this.spec.side||0}return g(e,[{key:"map",value:function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new mm(i-n,i-n,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(t){return this==t||t instanceof e&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&dm(this.spec,t.spec))}},{key:"destroy",value:function(e){this.spec.destroy&&this.spec.destroy(e)}}]),e}(),hm=function(){function e(t,n){v(this,e),this.attrs=t,this.spec=n||ym}return g(e,[{key:"map",value:function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new mm(o,i,this)}},{key:"valid",value:function(e,t){return t.from<t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&dm(this.attrs,t.attrs)&&dm(this.spec,t.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(t){return t.type instanceof e}}]),e}(),vm=function(){function e(t,n){v(this,e),this.attrs=t,this.spec=n||ym}return g(e,[{key:"map",value:function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new mm(o.pos-n,i.pos-n,this)}},{key:"valid",value:function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&dm(this.attrs,t.attrs)&&dm(this.spec,t.spec)}},{key:"destroy",value:function(){}}]),e}(),mm=function(){function e(t,n,r){v(this,e),this.from=t,this.to=n,this.type=r}return g(e,[{key:"copy",value:function(t,n){return new e(t,n,this.type)}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}},{key:"map",value:function(e,t,n){return this.type.map(e,this,t,n)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof hm}}],[{key:"widget",value:function(t,n,r){return new e(t,t,new pm(n,r))}},{key:"inline",value:function(t,n,r,o){return new e(t,n,new hm(r,o))}},{key:"node",value:function(t,n,r,o){return new e(t,n,new vm(r,o))}}]),e}(),gm=[],ym={},bm=function(){function e(t,n){v(this,e),this.local=t.length?t:gm,this.children=n.length?n:gm}return g(e,[{key:"find",value:function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}},{key:"findInner",value:function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){var s=this.children[u]+1;this.children[u+2].findInner(e-s,t-s,n,r+s,o)}}},{key:"map",value:function(e,t,n){return this==km||0==e.maps.length?this:this.mapInner(e,t,0,0,n||ym)}},{key:"mapInner",value:function(t,n,r,o,i){for(var a,u=0;u<this.local.length;u++){var s=this.local[u].map(t,r,o);s&&s.type.valid(n,s)?(a||(a=[])).push(s):i.onRemove&&i.onRemove(this.local[u].spec)}return this.children.length?xm(this.children,a||[],t,n,r,o,i):a?new e(a.sort(Dm),gm):km}},{key:"add",value:function(t,n){return n.length?this==km?e.create(t,n):this.addInner(t,n,0):this}},{key:"addInner",value:function(t,n,r){var o,i=this,a=0;t.forEach((function(e,t){var u,s=t+r;if(u=Em(n,e,s)){for(o||(o=i.children.slice());a<o.length&&o[a]<t;)a+=3;o[a]==t?o[a+2]=o[a+2].addInner(e,u,s+1):o.splice(a,0,t,t+e.nodeSize,Am(u,e,s+1,ym)),a+=3}}));for(var u=Sm(a?Cm(n):n,-r),s=0;s<u.length;s++)u[s].type.valid(t,u[s])||u.splice(s--,1);return new e(u.length?this.local.concat(u).sort(Dm):this.local,o||this.children)}},{key:"remove",value:function(e){return 0==e.length||this==km?this:this.removeInner(e,0)}},{key:"removeInner",value:function(t,n){for(var r=this.children,o=this.local,i=0;i<r.length;i+=3){for(var a,u=void 0,s=r[i]+n,l=r[i+1]+n,c=0;c<t.length;c++)(a=t[c])&&a.from>s&&a.to<l&&(t[c]=null,(u||(u=[])).push(a));if(u){r==this.children&&(r=this.children.slice());var f=r[i+2].removeInner(u,s+1);f!=km?r[i+2]=f:(r.splice(i,3),i-=3)}}if(o.length)for(var d,p=0;p<t.length;p++)if(d=t[p])for(var h=0;h<o.length;h++)o[h].eq(d,n)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1));return r==this.children&&o==this.local?this:o.length||r.length?new e(o,r):km}},{key:"forChild",value:function(t,n){if(this==km)return this;if(n.isLeaf)return e.empty;for(var r,o,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(r=this.children[i+2]);break}for(var a=t+1,u=a+n.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<u&&l.to>a&&l.type instanceof hm){var c=Math.max(a,l.from)-a,f=Math.min(u,l.to)-a;c<f&&(o||(o=[])).push(l.copy(c,f))}}if(o){var d=new e(o.sort(Dm),gm);return r?new wm([d,r]):d}return r||km}},{key:"eq",value:function(t){if(this==t)return!0;if(!(t instanceof e)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}},{key:"locals",value:function(e){return Om(this.localsInner(e))}},{key:"localsInner",value:function(e){if(this==km)return gm;if(e.inlineContent||!this.local.some(hm.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof hm||t.push(this.local[n]);return t}}],[{key:"create",value:function(e,t){return t.length?Am(t,e,0,ym):km}}]),e}();bm.empty=new bm([],[]),bm.removeOverlap=Om;var km=bm.empty,wm=function(){function e(t){v(this,e),this.members=t}return g(e,[{key:"map",value:function(t,n){var r=this.members.map((function(e){return e.map(t,n,ym)}));return e.from(r)}},{key:"forChild",value:function(t,n){if(n.isLeaf)return bm.empty;for(var r=[],o=0;o<this.members.length;o++){var i=this.members[o].forChild(t,n);i!=km&&(i instanceof e?r=r.concat(i.members):r.push(i))}return e.from(r)}},{key:"eq",value:function(t){if(!(t instanceof e)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}},{key:"locals",value:function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Om(n?t:t.sort(Dm)):gm}}],[{key:"from",value:function(t){switch(t.length){case 0:return km;case 1:return t[0];default:return new e(t.every((function(e){return e instanceof bm}))?t:t.reduce((function(e,t){return e.concat(t instanceof bm?t:t.members)}),[]))}}}]),e}();function xm(e,t,n,r,o,i,a){for(var u=e.slice(),s=function(e){var t=0;n.maps[l].forEach((function(n,r,i,a){for(var s=a-i-(r-n),l=0;l<u.length;l+=3){var c=u[l+1];if(!(c<0||n>c+e-t)){var f=u[l]+e-t;r>=f?u[l+1]=n<=f?-2:-1:i>=o&&s&&(u[l]+=s,u[l+1]+=s)}}t+=s})),e=n.maps[l].map(e,-1),c=e},l=0,c=i;l<n.maps.length;l++)s(c);for(var f=!1,d=0;d<u.length;d+=3)if(u[d+1]<0){if(-2==u[d+1]){f=!0,u[d+1]=-1;continue}var p=n.map(e[d]+i),h=p-o;if(h<0||h>=r.content.size){f=!0;continue}var v=n.map(e[d+1]+i,-1)-o,m=r.content.findIndex(h),g=m.index,y=m.offset,b=r.maybeChild(g);if(b&&y==h&&y+b.nodeSize==v){var k=u[d+2].mapInner(n,b,p+1,e[d]+i+1,a);k!=km?(u[d]=h,u[d+1]=v,u[d+2]=k):(u[d+1]=-2,f=!0)}else f=!0}if(f){var w=function(e,t,n,r,o,i,a){function u(e,t){for(var i=0;i<e.local.length;i++){var s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)u(e.children[l+2],e.children[l]+t+1)}for(var s=0;s<e.length;s+=3)-1==e[s+1]&&u(e[s+2],t[s]+i+1);return n}(u,e,t,n,o,i,a),x=Am(w,r,0,a);t=x.local;for(var S=0;S<u.length;S+=3)u[S+1]<0&&(u.splice(S,3),S-=3);for(var E=0,C=0;E<x.children.length;E+=3){for(var A=x.children[E];C<u.length&&u[C]<A;)C+=3;u.splice(C,0,x.children[E],x.children[E+1],x.children[E+2])}}return new bm(t.sort(Dm),u)}function Sm(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new mm(o.from+t,o.to+t,o.type))}return n}function Em(e,t,n){if(t.isLeaf)return null;for(var r,o=n+t.nodeSize,i=null,a=0;a<e.length;a++)(r=e[a])&&r.from>n&&r.to<o&&((i||(i=[])).push(r),e[a]=null);return i}function Cm(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Am(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var u=Em(e,t,a+n);if(u){i=!0;var s=Am(u,t,n+a+1,r);s!=km&&o.push(a,a+t.nodeSize,s)}}));for(var a=Sm(i?Cm(e):e,-n).sort(Dm),u=0;u<a.length;u++)a[u].type.valid(t,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||o.length?new bm(a,o):km}function Dm(e,t){return e.from-t.from||e.to-t.to}function Om(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),_m(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),_m(t,o+1,i.copy(r.to,i.to)))}}return t}function _m(e,t,n){for(;t<e.length&&Dm(n,e[t])>0;)t++;e.splice(t,0,n)}function Tm(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=km&&t.push(r)})),e.cursorWrapper&&t.push(bm.create(e.state.doc,[e.cursorWrapper.deco])),wm.from(t)}var Mm={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Nm=th&&nh<=11,Rm=function(){function e(){v(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return g(e,[{key:"set",value:function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}]),e}(),Pm=function(){function e(t,n){var r=this;v(this,e),this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rm,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)r.queue.push(e[t]);th&&nh<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?r.flushSoon():r.flush()})),Nm&&(this.onCharData=function(e){r.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return g(e,[{key:"flushSoon",value:function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Mm)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)}},{key:"onSelectionChange",value:function(){if(hv(this.view)){if(this.suppressingSelectionUpdates)return ov(this.view);if(th&&nh<=11&&!this.view.state.selection.empty){var e=this.view.domSelectionRange();if(e.focusNode&&$p(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(e){if(!e.focusNode)return!0;for(var t,n=new Set,r=e.focusNode;r;r=Bp(r))n.add(r);for(var o=e.anchorNode;o;o=Bp(o))if(n.has(o)){t=o;break}var i=t&&this.view.docView.nearestDesc(t);return i&&i.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}},{key:"flush",value:function(){var e=this.view;if(e.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&hv(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,a=!1,u=[];if(e.editable)for(var s=0;s<t.length;s++){var l=this.registerMutation(t[s],u);l&&(o=o<0?l.from:Math.min(l.from,o),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(a=!0))}if(rh&&u.length>1){var c=u.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}var p=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&qp(n)&&(p=nv(e))&&p.eq(np.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ov(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(Im.has(e))return;if(Im.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=rh,Fm)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Fm=!0}}(e)),this.handleDOMChange(o,i,a,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ov(e),this.currentSelection.set(n))}}},{key:"registerMutation",value:function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(th&&nh<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var u=e.addedNodes[a],s=u.previousSibling,l=u.nextSibling;(!s||Array.prototype.indexOf.call(e.addedNodes,s)<0)&&(o=s),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l)}var c=o&&o.parentNode==e.target?Lp(o)+1:0,f=n.localPosFromDOM(e.target,c,-1),d=i&&i.parentNode==e.target?Lp(i):e.target.childNodes.length;return{from:f,to:n.localPosFromDOM(e.target,d,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}]),e}(),Im=new WeakMap,Fm=!1;function Lm(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(uh&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||uh&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Bm(e,t,n,r,o){if(t<0){var i=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,a=nv(e,i);if(a&&!e.state.selection.eq(a)){if(ih&&ch&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(function(t){return t(e,Gp(13,"Enter"))})))return;var u=e.state.tr.setSelection(a);"pointer"==i?u.setMeta("pointer",!0):"key"==i&&u.scrollIntoView(),e.dispatch(u)}}else{var s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);var c,f,d=e.state.selection,p=function(e,t,n){var r,o=e.docView.parseRange(t,n),i=o.node,a=o.fromOffset,u=o.toOffset,s=o.from,l=o.to,c=e.domSelectionRange(),f=c.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(r=[{node:f,offset:c.anchorOffset}],qp(c)||r.push({node:c.focusNode,offset:c.focusOffset})),ih&&8===e.input.lastKeyCode)for(var d=u;d>a;d--){var p=i.childNodes[d-1],h=p.pmViewDesc;if("BR"==p.nodeName&&!h){u=d;break}if(!h||h.size)break}var v=e.state.doc,m=e.someProp("domParser")||Xf.fromSchema(e.state.schema),g=v.resolve(s),y=null,b=m.parse(i,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:a,to:u,preserveWhitespace:"pre"!=g.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Lm,context:g});if(r&&null!=r[0].pos){var k=r[0].pos,w=r[1]&&r[1].pos;null==w&&(w=k),y={anchor:k+s,head:w+s}}return{doc:b,sel:y,from:s,to:l}}(e,t,n),h=e.state.doc,v=h.slice(p.from,p.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(c=e.state.selection.to,f="end"):(c=e.state.selection.from,f="start"),e.input.lastKeyCode=null;var m=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),u=a.a,s=a.b;if("end"==o){r-=u+Math.max(0,i-Math.min(u,s))-i}if(u<i&&e.size<t.size){s=(i-=r<=i&&r>=u?i-r:0)+(s-u),u=i}else if(s<i){u=(i-=r<=i&&r>=s?i-r:0)+(u-s),s=i}return{start:i,endA:u,endB:s}}(v.content,p.doc.content,p.from,c,f);if((sh&&e.input.lastIOSEnter>Date.now()-225||ch)&&o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName||"LI"==e.nodeName}))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",(function(t){return t(e,Gp(13,"Enter"))})))e.input.lastIOSEnter=0;else{if(!m){if(!(r&&d instanceof ap&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||p.sel&&p.sel.anchor!=p.sel.head){if(p.sel){var g=jm(e,e.state.doc,p.sel);g&&!g.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(g))}return}m={start:d.from,endA:d.to,endB:d.to}}if(ih&&e.cursorWrapper&&p.sel&&p.sel.anchor==e.cursorWrapper.deco.from&&p.sel.head==p.sel.anchor){var y=m.endB-m.start;p.sel={anchor:p.sel.anchor+y,head:p.sel.anchor+y}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof ap&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=p.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=p.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),th&&nh<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>p.from&&" \xa0"==p.doc.textBetween(m.start-p.from-1,m.start-p.from+1)&&(m.start--,m.endA--,m.endB--);var b,k=p.doc.resolveNoCache(m.start-p.from),w=p.doc.resolveNoCache(m.endB-p.from),x=h.resolve(m.start),S=k.sameParent(w)&&k.parent.inlineContent&&x.end()>=m.endA;if((sh&&e.input.lastIOSEnter>Date.now()-225&&(!S||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!S&&k.pos<p.doc.content.size&&(b=np.findFrom(p.doc.resolve(k.pos+1),1,!0))&&b.head==w.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,Gp(13,"Enter"))})))e.input.lastIOSEnter=0;else if(e.state.selection.anchor>m.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||zm(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(zm(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||zm(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(h,m.start,m.endA,k,w)&&e.someProp("handleKeyDown",(function(t){return t(e,Gp(8,"Backspace"))})))ch&&ih&&e.domObserver.suppressSelectionUpdates();else{ih&&ch&&m.endB==m.start&&(e.input.lastAndroidDelete=Date.now()),ch&&!S&&k.start()!=w.start()&&0==w.parentOffset&&k.depth==w.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==m.endA&&(m.endB-=2,w=p.doc.resolveNoCache(m.endB-p.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,Gp(13,"Enter"))}))}),20));var E,C,A,D=m.start,O=m.endA;if(S)if(k.pos==w.pos)th&&nh<=11&&0==k.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ov(e)}),20)),E=e.state.tr.delete(D,O),C=h.resolve(m.start).marksAcross(h.resolve(m.endA));else if(m.endA==m.endB&&(A=function(e,t){for(var n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,u=i,s=a,l=0;l<a.length;l++)u=a[l].removeFromSet(u);for(var c=0;c<i.length;c++)s=i[c].removeFromSet(s);if(1==u.length&&0==s.length)r=u[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=u.length||1!=s.length)return null;r=s[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var f=[],d=0;d<t.childCount;d++)f.push(o(t.child(d)));if(af.from(f).eq(e))return{mark:r,type:n}}(k.parent.content.cut(k.parentOffset,w.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start()))))E=e.state.tr,"add"==A.type?E.addMark(D,O,A.mark):E.removeMark(D,O,A.mark);else if(k.parent.child(k.index()).isText&&k.index()==w.index()-(w.textOffset?0:1)){var _=k.parent.textBetween(k.parentOffset,w.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,D,O,_)})))return;E=e.state.tr.insertText(_,D,O)}if(E||(E=e.state.tr.replace(D,O,p.doc.slice(m.start-p.from,m.endB-p.from))),p.sel){var T=jm(e,E.doc,p.sel);T&&!(ih&&ch&&e.composing&&T.empty&&(m.start!=m.endB||e.input.lastAndroidDelete<Date.now()-100)&&(T.head==D||T.head==E.mapping.map(O)-1)||th&&T.empty&&T.head==D)&&E.setSelection(T)}C&&E.ensureMarks(C),e.dispatch(E.scrollIntoView())}}}}function jm(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:pv(e,t.resolve(n.anchor),t.resolve(n.head))}function zm(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}var $m=function(){function e(t,n){var r=this;v(this,e),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Wv,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Km),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Hm(this),Wm(this),this.nodeViews=Vm(this),this.docView=zh(this.state.doc,Um(this),Tm(this),this.dom,this),this.domObserver=new Pm(this,(function(e,t,n,o){return Bm(r,e,t,n,o)})),this.domObserver.start(),function(e){var t=function(){var t=zv[n];e.dom.addEventListener(n,e.input.eventHandlers[n]=function(n){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,n)||Kv(e,n)||!e.editable&&n.type in $v||t(e,n)},Uv[n]?{passive:!0}:void 0)};for(var n in zv)t();uh&&e.dom.addEventListener("input",(function(){return null})),Vv(e)}(this),this.updatePluginViews()}return g(e,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}},{key:"update",value:function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vv(this);var t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Km),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}},{key:"setProps",value:function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)}},{key:"updateState",value:function(e){this.updateStateInner(e,this._props)}},{key:"updateStateInner",value:function(e,t){var n=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(im(this),o=!0),this.state=e;var i=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(i||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){var a=Vm(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(a,this.nodeViews)&&(this.nodeViews=a,r=!0)}(i||t.handleDOMEvents!=this._props.handleDOMEvents)&&Vv(this),this.editable=Hm(this),Wm(this);var u=Tm(this),s=Um(this),l=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,s,u);!c&&e.selection.eq(n.selection)||(o=!0);var f="preserve"==l&&o&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var u=e.root.elementFromPoint(i,a);if(u&&u!=e.dom&&e.dom.contains(u)){var s=u.getBoundingClientRect();if(s.top>=o-20){t=u,n=s.top;break}}}return{refDOM:t,refTop:n,stack:gh(e.dom)}}(this);if(o){this.domObserver.stop();var d=c&&(th||ih)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(c){var p=ih?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,s,u,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=zh(e.doc,s,u,this.dom,this)),p&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return $p(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?ov(this,d):(fv(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():f&&function(e){var t=e.refDOM,n=e.refTop,r=e.stack,o=t?t.getBoundingClientRect().top:0;yh(r,0==o?0:o-n)}(f)}},{key:"scrollToSelection",value:function(){var e=this,t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(function(t){return t(e)})));else if(this.state.selection instanceof sp){var n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&mh(this,n.getBoundingClientRect(),t)}else mh(this,this.coordsAtPos(this.state.selection.head,1),t)}},{key:"destroyPluginViews",value:function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()}},{key:"updatePluginViews",value:function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}}},{key:"someProp",value:function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins;if(a)for(var u=0;u<a.length;u++){var s=a[u].props[e];if(null!=s&&(n=t?t(s):s))return n}}},{key:"hasFocus",value:function(){if(th){var e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(bh)return e.focus(bh);var t=gh(e);e.focus(null==bh?{get preventScroll(){return bh={preventScroll:!0},!0}}:void 0),bh||(bh=!1,yh(t,0))}(this.dom),ov(this),this.domObserver.start()}},{key:"root",get:function(){var e=this,t=this._root;if(null==t)for(var n=function(t){if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return t.ownerDocument.getSelection()}),{v:e._root=t}},r=this.dom.parentNode;r;r=r.parentNode){var o=n(r);if("object"===typeof o)return o.v}return t||document}},{key:"posAtCoords",value:function(e){return Sh(this,e)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Ah(this,e,t)}},{key:"domAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}},{key:"nodeDOM",value:function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null}},{key:"posAtDOM",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}},{key:"endOfTextblock",value:function(e,t){return Ph(this,t||this.state,e)}},{key:"pasteHTML",value:function(e,t){return sm(this,"",e,!1,t||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(e,t){return sm(this,e,null,!0,t||new ClipboardEvent("paste"))}},{key:"destroy",value:function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Tm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}},{key:"isDestroyed",get:function(){return null==this.docView}},{key:"dispatchEvent",value:function(e){return function(e,t){Kv(e,t)||!zv[t.type]||!e.editable&&t.type in $v||zv[t.type](e,t)}(this,e)}},{key:"dispatch",value:function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}},{key:"domSelectionRange",value:function(){return uh&&11===this.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){var t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,u=e.domAtPos(e.state.selection.anchor);if($p(u.node,u.offset,i,a)){var s=[i,a,r,o];r=s[0],o=s[1],i=s[2],a=s[3]}return{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:a}}(this):this.domSelection()}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),e}();function Um(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r&&(t.class+=" "+n[r]),"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[mm.node(0,e.state.doc.content.size,t)]}function Wm(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:mm.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Hm(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Vm(e){var t=Object.create(null);function n(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Km(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qm=n(6814),Gm=Object.defineProperty,Jm=function(e,t,n){return function(e,t,n){t in e?Gm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Ym=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Xm=function(e,t,n){return Ym(e,t,"read from private field"),n?n.call(e):t.get(e)},Qm=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Zm=function(e,t,n,r){return Ym(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n};var eg=["jump-backward-exit","jump-forward-exit"],tg=["jump-backward-change","jump-forward-change"];function ng(e){return!!(e&&e.query.full.length>=e.suggester.matchOffset)}function rg(e){return $i(e)&&e instanceof ap}function og(e){var t=e.match,n=e.changeReason,r=e.exitReason;return h(h({},t),{},{changeReason:n,exitReason:r})}function ig(e){var t,n=e.text,r=e.regexp,o=e.$pos,i=e.suggester,a=o.start();return qi(n,r).forEach((function(e){if(function(e,t){var n=t.invalidPrefixCharacters,r=t.validPrefixCharacters;return n?!new RegExp(vg(n)).test(e):new RegExp(vg(r)).test(e)}(e.input.slice(Math.max(0,e.index-1),e.index),i)){var n=e.index+a,r=e[0],u=e[1];if(!Pi(r)||!Pi(u))return;var s=n+r.length,l=Math.min(s,o.pos),c=l-n;n<o.pos&&s>=o.pos&&(t={range:{from:n,to:s,cursor:l},match:e,query:{partial:r.slice(u.length,c),full:r.slice(u.length)},text:{partial:r.slice(0,c),full:r},textAfter:o.doc.textBetween(s,o.end(),ri,ri),textBefore:o.doc.textBetween(a,n,ri,ri),suggester:i})}})),t}function ag(e){var t=e.$pos,n=e.suggester,r=n.char,o=n.name,i=n.startOfLine,a=n.supportedCharacters,u=function(e){var t=e.char,n=e.matchOffset,r=e.startOfLine,o=e.supportedCharacters,i=e.captureChar,a=void 0===i||i,u=e.caseInsensitive,s=void 0!==u&&u,l=e.multiline,c=void 0!==l&&l,f=e.unicode,d=void 0!==f&&f,p="g".concat(c?"m":"").concat(s?"i":"").concat(d?"u":""),h=function(e){return Pi(e)?new RegExp(qm(e)):e}(t).source;a&&(h="(".concat(h,")"));return new RegExp("".concat((v=r,v?"^":"")).concat(h).concat(function(e,t){return"(?:".concat(vg(e),"){").concat(t,",}")}(o,n)),p);var v}({char:r,matchOffset:n.matchOffset,startOfLine:i,supportedCharacters:a,multiline:n.multiline,caseInsensitive:n.caseInsensitive,unicode:n.unicode});return ig({suggester:n,text:t.doc.textBetween(t.before(),t.end(),ri,ri),regexp:u,$pos:t,char:r,name:o})}function ug(e){var t=e.state,n=e.match;try{return ag({$pos:t.doc.resolve(n.range.cursor),suggester:n.suggester})}catch(r){return}}function sg(e){var t=e.prev,n=e.next,r=e.state;return!n&&t.range.from>=r.doc.nodeSize?{exit:og({match:t,exitReason:"delete"})}:n&&t.query.partial?t.range.to===n.range.cursor?{exit:og({match:n,exitReason:"exit-end"})}:t.query.partial?{exit:og({match:n,exitReason:"exit-split"})}:{}:{exit:og({match:t,exitReason:"invalid-exit-split"})}}function lg(e){var t=e.prev,n=e.next,r=e.state,o=e.$pos,i=Oi();if(!t&&!n)return i;var a={prev:t,next:n};return function(e){return!(!e.prev||!e.next||e.prev.range.from===e.next.range.from)}(a)?function(e){var t=e.prev,n=e.next,r=e.state,o=Oi(),i=ug({state:r,match:t}),a=(i&&i.query.full!==t.query.full?sg({prev:t,next:i,state:r}):o).exit;return t.range.from<n.range.from?{exit:null!=a?a:og({match:t,exitReason:"jump-forward-exit"}),change:og({match:n,changeReason:"jump-forward-change"})}:{exit:null!=a?a:og({match:t,exitReason:"jump-backward-exit"}),change:og({match:n,changeReason:"jump-backward-change"})}}({prev:a.prev,next:a.next,state:r}):function(e){return!(e.prev||!e.next)}(a)?{change:og({match:a.next,changeReason:"start"})}:function(e){return!(!e.prev||e.next)}(a)?function(e){var t=e.match,n=e.state,r=e.$pos,o=n.selection,i=ug({match:t,state:n});return i&&i.text.full===t.text.full?!o.empty&&(o.from<=t.range.from||o.to>=t.range.to)?{exit:og({match:t,exitReason:"selection-outside"})}:r.pos>t.range.to?{exit:og({match:t,exitReason:"move-end"})}:r.pos<=t.range.from?{exit:og({match:t,exitReason:"move-start"})}:{}:sg({prev:t,next:i,state:n})}({$pos:o,match:a.prev,state:r}):function(e){return!(!e.prev||!e.next||e.prev.text.full===e.next.text.full)}(a)?{change:og({match:a.next,changeReason:"change-character"})}:function(e){return!(!e.prev||!e.next||e.prev.range.cursor===e.next.range.cursor)}(a)?{change:og({match:a.next,changeReason:r.selection.empty?"move":"selection-inside"})}:i}function cg(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t.includes(r.type.name))return!0}return!1}function fg(e,t){var n=e.$from,r=e.$to;return!!dg(e,t)||sa(n.pos,r.pos).some((function(e){return function(e,t){var n=new Set(e.marks().map((function(e){return e.type.name})));return t.some((function(e){return n.has(e)}))}(n.doc.resolve(e),t)}))}function dg(e,t){var n,r=e.$from,o=e.$to,i=new Set((null!=(n=r.marksAcross(o))?n:[]).map((function(e){return e.type.name})));return t.some((function(e){return i.has(e)}))}function pg(e,t){var n=t.$cursor,r=e.validMarks,o=e.validNodes,i=e.invalidMarks,a=e.invalidNodes;return!(r||o||!Vi(i)||!Vi(a))||!(r&&!dg(t,r))&&(!(o&&!cg(n,o))&&(!(!r&&fg(t,i))&&!(!o&&cg(n,a))))}function hg(e){var t,n=e.suggesters,r=e.$pos,o=e.selectionEmpty,i=qe(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!a.emptySelectionsOnly||o)try{var u=ag({suggester:a,$pos:r});if(!u)continue;var s={$from:r.doc.resolve(u.range.from),$to:r.doc.resolve(u.range.to),$cursor:r};if(pg(a,s)&&a.isValidPosition(s,u))return u}catch(l){}}}catch(c){i.e(c)}finally{i.f()}}function vg(e){return Ui(e)?e.source:e}var mg,gg,yg,bg,kg,wg,xg,Sg,Eg,Cg={appendTransaction:!1,priority:50,ignoredTag:"span",matchOffset:0,disableDecorations:!1,startOfLine:!1,suggestClassName:"suggest",suggestTag:"span",supportedCharacters:/\w+/,validPrefixCharacters:/^[\s\0]?$/,invalidPrefixCharacters:null,ignoredClassName:null,invalidMarks:[],invalidNodes:[],validMarks:null,validNodes:null,isValidPosition:function(){return!0},checkNextValidSelection:null,emptySelectionsOnly:!1,caseInsensitive:!1,multiline:!1,unicode:!1,captureChar:!0},Ag="__ignore_prosemirror_suggest_update__";var Dg=function(){function e(t){var n=this;v(this,e),Qm(this,mg,!1),Qm(this,gg,!1),Qm(this,yg,void 0),Qm(this,bg,void 0),Qm(this,kg,void 0),Qm(this,wg,Oi()),Jm(this,"view"),Qm(this,xg,bm.empty),Qm(this,Sg,!1),Qm(this,Eg,!1),Jm(this,"setMarkRemoved",(function(){Zm(n,Sg,!0)})),Jm(this,"findNextTextSelection",(function(e){var t=e.$from.doc,n=Math.min(t.nodeSize-2,e.to+1),r=t.resolve(n),o=np.findFrom(r,1,!0);if(rg(o))return o})),Jm(this,"ignoreNextExit",(function(){Zm(n,gg,!0)})),Jm(this,"addIgnored",(function(e){var t=e.from,r=e.name,o=e.specific,i=void 0!==o&&o,a=Xm(n,yg).find((function(e){return e.name===r}));if(!a)throw new Error("No suggester exists for the name provided: ".concat(r));var u=t+(Pi(a.char)?a.char.length:1),s=a.ignoredClassName?{class:a.ignoredClassName}:{},l=mm.inline(t,u,h({nodeName:a.ignoredTag},s),{name:r,specific:i,char:a.char});Zm(n,xg,Xm(n,xg).add(n.view.state.doc,[l]))})),Jm(this,"removeIgnored",(function(e){var t=e.from,r=e.name,o=Xm(n,yg).find((function(e){return e.name===r}));if(!o)throw new Error("No suggester exists for the name provided: ".concat(r));var i=Pi(o.char)?o.char.length:1,a=Xm(n,xg).find(t,t+i)[0];a&&a.spec.name===r&&Zm(n,xg,Xm(n,xg).remove([a]))})),Jm(this,"clearIgnored",(function(e){if(e){var t=Xm(n,xg).find().filter((function(t){return t.spec.name===e}));Zm(n,xg,Xm(n,xg).remove(t))}else Zm(n,xg,bm.empty)})),Jm(this,"findMatchAtPosition",(function(e,t){return hg({suggesters:t?Xm(n,yg).filter((function(e){return e.name===t})):Xm(n,yg),$pos:e,docChanged:!1,selectionEmpty:!0})})),Jm(this,"setLastChangeFromAppend",(function(){Zm(n,Eg,!0)}));var r=_g();Zm(this,yg,t.map(r)),Zm(this,yg,oa(Xm(this,yg),(function(e,t){return t.priority-e.priority})))}return g(e,[{key:"decorationSet",get:function(){return Xm(this,xg)}},{key:"removed",get:function(){return Xm(this,Sg)}},{key:"match",get:function(){return Xm(this,bg)?Xm(this,bg):Xm(this,kg)&&Xm(this,wg).exit?Xm(this,kg):void 0}},{key:"init",value:function(e){return this.view=e,this}},{key:"createProps",value:function(e){var t=e.suggester,n=t.name,r=t.char;return h({view:this.view,addIgnored:this.addIgnored,clearIgnored:this.clearIgnored,ignoreNextExit:this.ignoreNextExit,setMarkRemoved:this.setMarkRemoved,name:n,char:r},e)}},{key:"shouldRunExit",value:function(){return!Xm(this,gg)||(Zm(this,gg,!1),!1)}},{key:"updateWithNextSelection",value:function(e){var t,n,r,o=this.findNextTextSelection(e.selection);if(o){var i,a=qe(Xm(this,yg));try{for(a.s();!(i=a.n()).done;){var u=i.value,s=null==(t=Xm(this,wg).change)?void 0:t.suggester.name,l=null==(n=Xm(this,wg).exit)?void 0:n.suggester.name;null==(r=u.checkNextValidSelection)||r.call(u,o.$from,e,{change:s,exit:l})}}catch(c){a.e(c)}finally{a.f()}}}},{key:"changeHandler",value:function(e,t){var n=Xm(this,wg),r=n.change,o=n.exit,i=this.match;if((r||o)&&ng(i)){var a=t===(null==o?void 0:o.suggester.appendTransaction)&&this.shouldRunExit(),u=t===(null==r?void 0:r.suggester.appendTransaction);if(a||u){if(r&&o&&function(e){var t,n;return Di(eg,null==(t=e.exit)?void 0:t.exitReason)||Di(tg,null==(n=e.change)?void 0:n.changeReason)}({change:r,exit:o})){var s=this.createProps(o),l=this.createProps(r);o.range.from,r.range.from;return a&&o.suggester.onChange(s,e),u&&r.suggester.onChange(l,e),void(a&&Zm(this,Sg,!1))}r&&u&&r.suggester.onChange(this.createProps(r),e),o&&a&&(o.suggester.onChange(this.createProps(o),e),Zm(this,Sg,!1),"invalid-exit-split"===o.exitReason&&Zm(this,wg,Oi()))}}}},{key:"mapIgnoredDecorations",value:function(e){var t=Xm(this,xg).map(e.mapping,e.doc),n=t.find().filter((function(e){var t=e.from,n=e.to,r=e.spec;return n-t!==(Pi(r.char)?r.char.length:1)}));Zm(this,xg,t.remove(n))}},{key:"shouldIgnoreMatch",value:function(e){var t=e.range,n=e.suggester.name;return Xm(this,xg).find().some((function(e){var r=e.spec;return e.from===t.from&&(!r.specific||r.name===n)}))}},{key:"resetState",value:function(){Zm(this,wg,Oi()),Zm(this,bg,void 0),Zm(this,Sg,!1),Zm(this,Eg,!1)}},{key:"updateReasons",value:function(e){var t=e.$pos,n=e.state,r=Xm(this,mg),o=Xm(this,yg),i=n.selection.empty,a=rg(n.selection)?hg({suggesters:o,$pos:t,docChanged:r,selectionEmpty:i}):void 0;Zm(this,bg,a&&this.shouldIgnoreMatch(a)?void 0:a),Zm(this,wg,lg({next:Xm(this,bg),prev:Xm(this,kg),state:n,$pos:t}))}},{key:"addSuggester",value:function(e){var t=this,n=Xm(this,yg).find((function(t){return t.name===e.name})),r=_g();if(n)Zm(this,yg,Xm(this,yg).map((function(t){return t===n?r(e):t})));else{var o=[].concat(d(Xm(this,yg)),[r(e)]);Zm(this,yg,oa(o,(function(e,t){return t.priority-e.priority})))}return function(){return t.removeSuggester(e.name)}}},{key:"removeSuggester",value:function(e){var t=Pi(e)?e:e.name;Zm(this,yg,Xm(this,yg).filter((function(e){return e.name!==t}))),this.clearIgnored(t)}},{key:"toJSON",value:function(){return this.match}},{key:"apply",value:function(e){var t=Xm(this,wg),n=t.exit,r=t.change;if(Xm(this,Eg)&&(Zm(this,Eg,!1),!(null==n?void 0:n.suggester.appendTransaction)&&!(null==r?void 0:r.suggester.appendTransaction)))return this;var o=e.tr,i=e.state,a=o.docChanged||o.selectionSet;return o.getMeta(Ag)||!a&&!Xm(this,Sg)||(Zm(this,mg,o.docChanged),this.mapIgnoredDecorations(o),n&&this.resetState(),Zm(this,kg,Xm(this,bg)),this.updateReasons({$pos:o.selection.$from,state:i})),this}},{key:"createDecorations",value:function(e){var t=this.match;if(!ng(t))return Xm(this,xg);var n=t.suggester.disableDecorations;if(Fi(n)?n(e,t):n)return Xm(this,xg);var r=t.range,o=t.suggester,i=o.name,a=o.suggestTag,u=o.suggestClassName,s=r.from,l=r.to;return this.shouldIgnoreMatch(t)?Xm(this,xg):Xm(this,xg).add(e.doc,[mm.inline(s,l,{nodeName:a,class:i?"".concat(u," suggest-").concat(i):u},{name:i})])}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),Og=Dg;function _g(){var e=new Set;return function(t){if(e.has(t.name))throw new Error("A suggester already exists with the name '".concat(t.name,"'. The name provided must be unique."));var n=h(h({},Cg),t);return e.add(t.name),n}}mg=new WeakMap,gg=new WeakMap,yg=new WeakMap,bg=new WeakMap,kg=new WeakMap,wg=new WeakMap,xg=new WeakMap,Sg=new WeakMap,Eg=new WeakMap;var Tg=new Ep("suggest");function Mg(e){return Tg.getState(e)}function Ng(e,t){return Mg(e).addSuggester(t)}function Rg(e){e.setMeta(Ag,!0)}function Pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Og.create(t);return new wp({key:Tg,view:function(e){return r.init(e),{update:function(e){return r.changeHandler(e.state.tr,!1)}}},state:{init:function(){return r},apply:function(e,t,n,o){return r.apply({tr:e,state:o})}},appendTransaction:function(e,t,n){var o=n.tr;return r.updateWithNextSelection(o),r.changeHandler(o,!0),o.docChanged||o.steps.length>0||o.selectionSet||o.storedMarksSet?(r.setLastChangeFromAppend(),o):null},props:{decorations:function(e){return r.createDecorations(e)}}})}var Ig=["content","schema","document","fragment"],Fg=["json","schema"],Lg=["type"],Bg={get isBrowser(){return!("undefined"===typeof window||"undefined"===typeof window.document||!window.navigator||!window.navigator.userAgent)},get isJSDOM(){return Bg.isBrowser&&window.navigator.userAgent.includes("jsdom")},get isNode(){return"undefined"!==typeof process&&null!=process.versions&&null!=process.versions.node},get isIos(){return Bg.isBrowser&&/iPod|iPhone|iPad/.test(navigator.platform)},get isMac(){return Bg.isBrowser&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)},get isApple(){return Bg.isNode?"darwin"===process.platform:!!Bg.isBrowser&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)},get isDevelopment(){return!1},get isTest(){return!1},get isProduction(){return!0}};function jg(e,t){var n,r,o=Gy(e);return null!=(r=null==(n=null==o?void 0:o.getComputedStyle(e))?void 0:n.getPropertyValue(t))?r:""}function zg(e,t){return Object.assign(e.style,t)}var $g=["px","rem","em","in","q","mm","cm","pt","pc","vh","vw","vmin","vmax"],Ug=/[\d-.]+(\w+)$/;function Wg(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",n=t||"0",r=Number.parseFloat(n),o=n.match(Ug),i=(null!=(e=null==o?void 0:o[1])?e:"px").toLowerCase();return[r,Di($g,i)?i:"px"]}var Hg=96,Vg=25.4;function Kg(e){if(Zg(e))return jg(e,"font-size")||Kg(e.parentElement);var t=Gy(e);return t?jg(t.document.documentElement,"font-size"):""}var qg=/^([a-z]+)\((.+)\)$/i;function Gg(e,t){if(!qg.test(e))return Number.NaN;var n=Np(e,{brackets:["()"],escape:"_",flat:!0});if(!n||0===n.length)return Number.NaN;function r(e){return e.replace(/_(\d+)_/g,(function(e,t){var r,o=Number.parseFloat(t);return null!=(r=n[o])?r:""}))}var o,i=qe(qi(Uy(n,0),qg));try{for(i.s();!(o=i.n()).done;){var a=o.value,u=Uy(a,1),s=r(Uy(a,2)).split(/\s*,\s*/).map((function(e){return qg.test(e)?Gg(r(e),t):Jg(e,t)}));switch(u){case"min":return Math.min.apply(Math,d(s));case"max":return Math.max.apply(Math,d(s));case"clamp":var l=Ye(s,3),c=l[0],f=l[1],p=l[2];if(Ii(c)&&Ii(f)&&Ii(p))return na({min:c,max:p,value:f});break;default:return Number.NaN}}}catch(h){i.e(h)}finally{i.f()}return Number.NaN}function Jg(e,t){var n=Ye(Wg(e),2);return t(n[0],n[1])}function Yg(e,t){var n=function(e){var t=Yy(e),n=t.document.documentElement||t.document.body;return function(r,o){switch(o){case"rem":return r*Yg(Kg(n));case"em":return r*Yg(Kg(e),null==e?void 0:e.parentElement);case"in":return r*Hg;case"q":return r*Hg/Vg/4;case"mm":return r*Hg/Vg;case"cm":return r*Hg*10/Vg;case"pt":return r*Hg/72;case"pc":return r*Hg/6;case"vh":return(r*t.innerHeight||n.clientWidth)/100;case"vw":return(r*t.innerWidth||n.clientHeight)/100;case"vmin":return r*Math.min(t.innerWidth||n.clientWidth,t.innerHeight||n.clientHeight)/100;case"vmax":return r*Math.max(t.innerWidth||n.clientWidth,t.innerHeight||n.clientHeight)/100;default:return r}}}(t);return qg.test(e)?Gg(e.toLowerCase(),n):Jg(e,n)}function Xg(e,t,n){var r=Yy(n),o=r.document.documentElement||r.document.body,i=Yg(e,n);switch(t){case"px":default:return i;case"rem":return i/Yg(Kg(o));case"em":return i*Yg(Kg(n),null==n?void 0:n.parentElement);case"in":return i/Hg;case"q":return i/Hg*Vg*4;case"mm":return i/Hg*Vg;case"cm":return i/Hg/10*Vg;case"pt":return i/Hg*72;case"pc":return i/Hg*6;case"vh":return i/(r.innerHeight||o.clientWidth)*100;case"vw":return i/(r.innerWidth||o.clientHeight)*100;case"vmin":return i/Math.min(r.innerWidth||o.clientWidth,r.innerHeight||o.clientHeight)*100;case"vmax":return i/Math.max(r.innerWidth||o.clientWidth,r.innerHeight||o.clientHeight)*100}}function Qg(e){return $i(e)&&Ii(e.nodeType)&&Pi(e.nodeName)}function Zg(e){return Qg(e)&&1===e.nodeType}function ey(e){return Qg(e)&&3===e.nodeType}function ty(e,t){var n=Math.min(e.left,t.left),r=Math.max(e.right,t.right),o=Math.min(e.top,t.top),i=Math.max(e.bottom,t.bottom);return new DOMRect(n,o,r-n,i-o)}function ny(e){var t=e.types,n=e.node;if(!n)return!1;var r=function(e){return e===n.type||e===n.type.name};return Hi(t)?t.some(r):r(t)}function ry(e,t){var n=t.tr;return e.forEach((function(e){e.steps.forEach((function(e){n.step(e)}))})),n}function oy(e){var t=e.pos,n=e.tr,r=n.doc.nodeAt(t);return r&&n.delete(t,t+r.nodeSize),n}function iy(e){var t=e.pos,n=e.tr,r=e.content,o=n.doc.nodeAt(t);return o&&n.replaceWith(t,t+o.nodeSize,r),n}function ay(e){for(var t=e.predicate,n=e.selection,r=Sy(n)?n.selection.$from:Cy(n)?n.$from:n,o=r.depth;o>0;o--){var i=r.node(o),a=o>0?r.before(o):0,u=r.start(o),s=a+i.nodeSize;if(t(i,a))return{pos:a,depth:o,node:i,start:u,end:s}}}function uy(e){var t=ay({predicate:function(){return!0},selection:e});return ga(t,{message:"No parent node found for the selection provided."}),t}function sy(e){var t=e.types;return ay({predicate:function(e){return ny({types:t,node:e})},selection:e.selection})}function ly(e){var t=e.types,n=e.selection;if(Oy(n)&&ny({types:t,node:n.node}))return{pos:n.$from.pos,depth:n.$from.depth,start:n.$from.start(),end:n.$from.pos+n.node.nodeSize,node:n.node}}function cy(e){return Cy(e)?e.empty:e.selection.empty}function fy(e){return!!dy(e)}function dy(e){var t,n=e.state,r=e.type,o=e.attrs,i=n.selection,a=n.doc,u=Pi(r)?a.type.schema.nodes[r]:r;ga(u,{code:pi.SCHEMA,message:"No node exists for ".concat(r)});var s=null!=(t=ly({selection:i,types:r}))?t:ay({predicate:function(e){return e.type===u},selection:i});return o&&!Wi(o)&&s?s.node.hasMarkup(u,h(h({},s.node.attrs),o))?s:void 0:s}function py(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){if(!Ki(t))return!1;var n=t[0],r=t.slice(1),o=!1,i=function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(){if(!Ki(r))return!1;o=!0;var n=r.slice(1);return py.apply(void 0,r)(h(h({},e),{},{next:t.apply(void 0,d(n))}))}}.apply(void 0,d(r)),a=n(h(h({},e),{},{next:i}));return o||a?a:i()}}function hy(e,t){var n,r,o=new Map,i=Oi(),a=qe(e);try{for(a.s();!(r=a.n()).done;){var u,s=qe(Ei(r.value));try{for(s.s();!(u=s.n()).done;){var l=Ye(u.value,2),c=l[0],f=l[1],p=null!=(n=o.get(c))?n:[],h=[].concat(d(p),[f]),v=py.apply(void 0,d(h));o.set(c,h),i[c]=t(v)}}catch(m){s.e(m)}finally{s.f()}}}catch(m){a.e(m)}finally{a.f()}return i}function vy(e,t){var n,r=null!=(n=e.attrs)?n:{};return Object.entries(t).every((function(e){var t=Ye(e,2),n=t[0],o=t[1];return r[n]===o}))}function my(e){return Ly(e,[bd,Ed,Sd,kd])}function gy(e){return $i(e)}function yy(e,t){return Hi(t)?Di(t,e[si]):t===e[si]}function by(e,t){return Pi(e)?wi(t.nodes,e):e}function ky(e){return $i(e)&&e instanceof Gf}function wy(e){return $i(e)&&e instanceof Tf}function xy(e){return $i(e)&&e instanceof af}function Sy(e){return $i(e)&&e instanceof bp}function Ey(e){return $i(e)&&e instanceof ap}function Cy(e){return $i(e)&&e instanceof np}function Ay(e){return $i(e)&&e instanceof Ef}function Dy(e){var t=e.trState,n=e.from,r=e.to,o=e.type,i=e.attrs,a=void 0===i?{}:i,u=t.doc,s=function(e,t){return Pi(e)?wi(t.marks,e):e}(o,u.type.schema);if(0===Object.keys(a).length)return u.rangeHasMark(n,r,s);var l=!1;return r>n&&u.nodesBetween(n,r,(function(e){var t;if(l)return!1;var n=null!=(t=e.marks)?t:[];return!(l=n.some((function(e){return e.type===s&&vy(e,a)})))})),l}function Oy(e){return $i(e)&&e instanceof sp}function _y(e){var t=e.trState,n=e.type,r=e.attrs,o=void 0===r?{}:r,i=e.from,a=e.to,u=t.selection,s=t.doc,l=t.storedMarks;if(ga(Pi(n)?s.type.schema.marks[n]:n,{code:pi.SCHEMA,message:"Mark type: ".concat(n," does not exist on the current schema.")}),i&&a)try{return Math.max(i,a)<s.nodeSize&&Dy(h(h({},e),{},{from:i,to:a}))}catch(c){return!1}return u.empty?(null!=l?l:u.$from.marks()).some((function(e){return e.type===n&&vy(e,null!=o?o:{})})):Dy(h(h({},e),{},{from:u.from,to:u.to}))}function Ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ny(e.type.schema);if(!n)return!1;var r=t.ignoreAttributes,o=t.ignoreDocAttributes;return r?My(n,e):o?n.content.eq(e.content):n.eq(e)}function My(e,t){if(e===t)return!0;return e.type===t.type&&cf.sameSet(e.marks,t.marks)&&function(){if(e.content===t.content)return!0;if(e.content.size!==t.content.size)return!1;var n=[],r=[];e.content.forEach((function(e){return n.push(e)})),t.content.forEach((function(e){return r.push(e)}));var o,i=qe(n.entries());try{for(i.s();!(o=i.n()).done;){var a=Ye(o.value,2),u=a[0],s=a[1],l=r[u];if(!l)return!1;if(!My(s,l))return!1}}catch(c){i.e(c)}finally{i.f()}return!0}()}function Ny(e){var t,n;return null!=(n=null==(t=e.nodes.doc)?void 0:t.createAndFill())?n:void 0}function Ry(e){for(var t=0,n=Object.values(e.nodes);t<n.length;t++){var r=n[t];if("doc"!==r.name&&(r.isBlock||r.isTextblock))return r}ga(!1,{code:pi.SCHEMA,message:"No default block node found for the provided schema."})}function Py(e){return e.type===Ry(e.type.schema)}function Iy(e){return!!e&&e.type.isBlock&&!e.textContent&&!e.childCount}function Fy(e,t,n){var r=e.parent.childAfter(e.parentOffset);if(r.node){var o=Pi(t)?t:t.name,i=r.node.marks.find((function(e){return e.type.name===o})),a=e.index(),u=e.start()+r.offset,s=a+1,l=u+r.node.nodeSize;if(!i)return n&&l<n.pos?Fy(e.doc.resolve(l+1),t,n):void 0;for(;a>0&&i.isInSet(e.parent.child(a-1).marks);)a-=1,u-=e.parent.child(a).nodeSize;for(;s<e.parent.childCount&&i.isInSet(e.parent.child(s).marks);)l+=e.parent.child(s).nodeSize,s+=1;return{from:u,to:l,text:e.doc.textBetween(u,l,"\ufffc","\n\n"),mark:i}}}function Ly(e,t){return 0===t.length||t.some((function(t){return e instanceof t}))}function By(e){var t=ua(e,(function(e){var t=e.from,n=e.to,r=e.prevFrom,o=e.prevTo;return"".concat(t,"_").concat(n,"_").concat(r,"_").concat(o)}));return t.filter((function(e,t,n){return!n.some((function(n,r){return t!==r&&(e.prevFrom>=n.prevFrom&&e.prevTo<=n.prevTo&&e.from>=n.from&&e.to<=n.to)}))}))}function jy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=e.steps,o=e.mapping,i=o.invert();r.forEach((function(e,r){if(Ly(e,t)){var a=[],u=e.getMap(),s=o.slice(r);if(0===u.ranges.length&&my(e)){var l=e.from,c=e.to;a.push({from:l,to:c})}else u.forEach((function(e,t){a.push({from:e,to:t})}));a.forEach((function(e){var t=s.map(e.from,-1),r=s.map(e.to);n.push({from:t,to:r,prevFrom:i.map(t,-1),prevTo:i.map(r)})}))}}));var a=oa(n,(function(e,t){return e.from-t.from}));return By(a)}function zy(e,t){var n,r=[],o=qe(jy(e,t));try{for(o.s();!(n=o.n()).done;){var i=n.value;try{var a=e.doc.resolve(i.from),u=e.doc.resolve(i.to),s=a.blockRange(u);s&&r.push(s)}catch(l){}}}catch(c){o.e(c)}finally{o.f()}return r}function $y(e){return function(e,t){if(Ey(e.selection)){for(var n=e.selection,r=n.from,o=n.to,i=function(t,n){return function(e){var t,n;return null!=(n=null==(t=e.content.firstChild)?void 0:t.textContent)?n:""}(ap.between(e.doc.resolve(t),e.doc.resolve(n)).content())},a=i(r-1,r);a&&!t.test(a);a=i(--r-1,r));for(var u=i(o,o+1);u&&!t.test(u);u=i(++o,o+1));if(r!==o)return{from:r,to:o,text:e.doc.textBetween(r,o,"\ufffc","\n\n")}}}(e,/\W/)}function Uy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Hi(e)?e[t]:e;return xi(Pi(n),"No match string found for match ".concat(e)),null!=n?n:""}function Wy(e,t){return!!wy(e)&&(t?e.type===t.nodes.doc:"doc"===e.type.name)}function Hy(e,t){var n,r,o=t.nodeSize-2,i=function(e){return na({min:0,max:o,value:e})};if(Cy(e))return e;if("all"===e)return new cp(t);if(n="start"===e?0:"end"===e?o:Ay(e)?e.pos:e,Ii(n))return n=i(n),ap.near(t.resolve(n));if($i(r=n)&&Ii(r.anchor)&&Ii(r.head)){var a=i(n.anchor),u=i(n.head);return ap.between(t.resolve(a),t.resolve(u))}var s=i(n.from),l=i(n.to);return ap.between(t.resolve(s),t.resolve(l))}function Vy(e){var t=e.content,n=e.schema,r=e.document,o=e.stringHandler,a=e.onError,u=e.attempts,s=void 0===u?0:u;if(ga(a&&s<=3||0===s,{code:pi.INVALID_CONTENT,message:"The invalid content has been called recursively more than ${MAX_ATTEMPTS} times. The content is invalid and the error handler has not been able to recover properly."}),Pi(t))return ga(o,{code:pi.INVALID_CONTENT,message:"The string '".concat(t,"' was added to the editor, but no `stringHandler` was added. Please provide a valid string handler which transforms your content to a `ProsemirrorNode` to prevent this error.")}),o({document:r,content:t,schema:n});if(Sy(t))return t.doc;if(wy(t))return t;try{return n.nodeFromJSON(t)}catch(f){var l=function(e){var t=e.json,n=e.schema,r=i(e,Fg),o=new Set(Ci(n.marks)),a=new Set(Ci(n.nodes)),u=ob({json:t,path:[],validNodes:a,validMarks:o});return h({json:t,invalidContent:u,transformers:rb},r)}({schema:n,error:f,json:t}),c=null==a?void 0:a(l);return ga(c,{code:pi.INVALID_CONTENT,message:"An error occurred when processing the content. Please provide an `onError` handler to process the invalid content: ".concat(JSON.stringify(l.invalidContent,null,2))}),Vy(h(h({},e),{},{content:c,attempts:s+1}))}}function Ky(){var e=Mp();if(e)return e;throw new Error("Unable to retrieve the document from the global scope. \nIt seems that you are running Remirror in a non-browser environment. Remirror need browser APIs to work. \nIf you are using Jest (or other testing frameworks), make sure that you are using the JSDOM environment (https://jestjs.io/docs/29.0/configuration#testenvironment-string). \nIf you are using Next.js (or other server-side rendering frameworks), please use dynamic import with `ssr: false` to load the editor component without rendering it on the server (https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr). \nIf you are using Node.js, you can install JSDOM and Remirror will try to use it automatically, or you can create a fake document and pass it to Remirror")}function qy(e){var t,n,r;return null!=(r=null!=(t=null==e?void 0:e.defaultView)?t:"undefined"!==typeof window?window:void 0)?r:null==(n=Mp())?void 0:n.defaultView}function Gy(e){return qy(null==e?void 0:e.ownerDocument)}function Jy(e){var t,n=null!=(t=qy(e))?t:Ky().defaultView;if(n)return n;throw new Error("Unable to retrieve the window from the global scope")}function Yy(e){return Jy(null==e?void 0:e.ownerDocument)}function Xy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky(),n=Wy(e,e.type.schema)?e.content:af.from(e);return ud.fromSchema(e.type.schema).serializeFragment(n,{document:t})}function Qy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky(),n=t.createElement("div");return n.append(Xy(e,t)),n.innerHTML}function Zy(e){var t=e.content,n=e.schema,r=e.document,o=e.fragment,a=void 0!==o&&o,u=i(e,Ig),s=function(e,t){return(new(Jy(t).DOMParser)).parseFromString("<body>".concat(e,"</body>"),"text/html").body}(t,r),l=Xf.fromSchema(n);return a?l.parseSlice(s,h(h({},eb),u)).content:l.parse(s,h(h({},eb),u))}var eb={preserveWhitespace:!1};function tb(e,t){var n=Ci(t.defaults());return gi(h({},e),n)}function nb(e,t){var n="";t&&(n="".concat(t.trim()));var r=function(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t&&(t+=";"),t+=Tp(n,r))}return t}(e);if(!r)return n;var o=(n.endsWith(";")," ");return"".concat(n).concat(o).concat(r)}var rb={remove:function(e,t){var n,r=e,o=qe(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.invalidParentNode||(r=ia(i.path,r))}}catch(a){o.e(a)}finally{o.f()}return r}};function ob(e){var t=e.json,n=e.validMarks,r=e.validNodes,o=e.path,i=void 0===o?[]:o,a={validMarks:n,validNodes:r},u=[],s=t.type,l=t.marks,c=t.content,f=e.invalidParentMark,p=void 0!==f&&f,v=e.invalidParentNode,m=void 0!==v&&v;if(l){var g,y=[],b=qe(l.entries());try{for(b.s();!(g=b.n()).done;){var k=Ye(g.value,2),w=k[0],x=k[1],S=Pi(x)?x:x.type;n.has(S)||(y.unshift({name:S,path:[].concat(d(i),["marks","".concat(w)]),type:"mark",invalidParentMark:p,invalidParentNode:m}),p=!0)}}catch(T){b.e(T)}finally{b.f()}u.push.apply(u,y)}if(r.has(s)||(u.push({name:s,type:"node",path:i,invalidParentMark:p,invalidParentNode:m}),m=!0),c){var E,C=[],A=qe(c.entries());try{for(A.s();!(E=A.n()).done;){var D=Ye(E.value,2),O=D[0],_=D[1];C.unshift.apply(C,d(ob(h(h({},a),{},{json:_,path:[].concat(d(i),["content","".concat(O)]),invalidParentMark:p,invalidParentNode:m}))))}}catch(T){A.e(T)}finally{A.f()}u.unshift.apply(u,C)}return u}function ib(e){return!!(Ey(e)&&e.$cursor&&e.$cursor.parentOffset<=0)}function ab(e){var t=np.atStart(e.$anchor.doc);return!(!ib(e)||t.anchor!==e.anchor)}function ub(e){var t=e.tr,n=e.dispatch,r=t.selection,o=r.$from,i=r.$to,a=o.blockRange(i),u=a&&Dd(a);return!(!Ii(u)||!a)&&(null==n||n(t.lift(a,u).scrollIntoView()),!0)}function sb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(r){var o=r.tr,i=r.dispatch,a=r.state,u=Pi(e)?wi(a.schema.nodes,e):e,s=Hy(null!=n?n:o.selection,o.doc),l=s.from,c=s.to,f=o.doc.resolve(l),d=o.doc.resolve(c),p=f.blockRange(d),h=p&&Od(p,u,t);return!(!h||!p)&&(null==i||i(o.wrap(p,h).scrollIntoView()),!0)}}function lb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(r){var o=r.tr,i=r.state;return dy({state:o,type:Pi(e)?wi(i.schema.nodes,e):e,attrs:t})?ub(r):sb(e,t,n)(r)}}function cb(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(o){var i,a=o.tr,u=o.dispatch,s=o.state,l=Pi(e)?wi(s.schema.nodes,e):e,c=Hy(null!=n?n:a.selection,a.doc),f=c.from,d=c.to,p=!1;return a.doc.nodesBetween(f,d,(function(e,n){if(p)return!1;if(e.isTextblock&&!e.hasMarkup(l,t)){if(e.type===l)return p=!0,void(i=e.attrs);var r=a.doc.resolve(n),o=r.index();(p=r.parent.canReplaceWith(o,o+1,l))&&(i=r.parent.attrs)}})),!!p&&(null==u||u(a.setBlockType(f,d,l,h(h({},r?i:{}),t)).scrollIntoView()),!0)}}function fb(e){return function(t){var n,r=t.tr,o=t.state,i=e.type,a=e.attrs,u=e.preserveAttrs,s=void 0===u||u,l=dy({state:r,type:i,attrs:a}),c=null!=(n=e.toggleType)?n:Ry(o.schema);if(l)return cb(c,h(h({},s?l.node.attrs:{}),a))(t);var f=dy({state:r,type:c,attrs:a});return cb(i,h(h({},s?null==f?void 0:f.node.attrs:{}),a))(t)}}function db(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return!!t&&Number.parseInt(wi(t,2),10)>=e}function pb(e){var t=e.attrs,n=void 0===t?{}:t,r=e.appendText,o=void 0===r?"":r,i=e.content,a=void 0===i?"":i,u=e.keepSelection,s=void 0!==u&&u,l=e.range;return function(t){var r,i,u,c,f,d=t.state,p=t.tr,h=t.dispatch,v=d.schema,m=Hy(null!=(i=null!=(r=e.selection)?r:l)?i:p.selection,p.doc),g=m.$from.index(),y=m.from,b=m.to,k=m.$from,w=Pi(e.type)?null!=(u=v.nodes[e.type])?u:v.marks[e.type]:e.type;if(ga(!Pi(e.type)||w,{code:pi.SCHEMA,message:"Schema contains no marks or nodes with name ".concat(w)}),$i(f=w)&&f instanceof Kf){if(!k.parent.canReplaceWith(g,g,w))return!1;p.replaceWith(y,b,w.create(n,a?v.text(a):void 0))}else ga(a,{message:"`replaceText` cannot be called without content when using a mark type"}),p.replaceWith(y,b,v.text(a,ky(w)?[w.create(n)]:void 0));return o&&p.insertText(o),s&&function(e,t){var n,r=e.head,o=e.empty,i=e.anchor,a=qe(t.steps);try{for(a.s();!(n=a.n()).done;)r=n.value.getMap().map(r)}catch(u){a.e(u)}finally{a.f()}o?t.setSelection(ap.near(t.doc.resolve(r))):t.setSelection(ap.between(t.doc.resolve(i),t.doc.resolve(r)))}(d.selection,p),h&&(db(60)&&(null==(c=document.getSelection())||c.empty()),h(p)),!0}}function hb(e,t){var n=e.parent.childAfter(e.parentOffset);if(n.node){var r=n.node,o=r.marks,i=r.nodeSize;if(o[0])return o[0].type;var a=e.start()+n.offset+i;return hb(e.doc.resolve(a+1),t)}}function vb(e){return function(t){var n,r,o=t.dispatch,i=t.tr,a=t.state,u=e.type,s=e.expand,l=void 0===s||s,c=e.range,f=Hy(null!=(r=null!=(n=e.selection)?n:c)?r:i.selection,i.doc),d=f.from,p=f.to,h=f.$from,v=f.$to,m=Pi(u)?a.schema.marks[u]:u;null!==m&&ga(m,{code:pi.SCHEMA,message:"Mark type: ".concat(u," does not exist on the current schema.")});var g=null!=m?m:hb(h);if(!g)return!1;var y=Fy(h,g,v);return l&&y&&(d=Math.max(0,Math.min(d,y.from)),p=Math.min(Math.max(p,y.to),i.doc.nodeSize-2)),null==o||o(i.removeMark(d,Ii(p)?p:d,ky(m)?m:void 0)),!0}}function mb(e){var t=e.node,n=e.predicate,r=e.descend,o=void 0===r||r,i=e.action;ga(wy(t),{code:pi.INTERNAL,message:'Invalid "node" parameter passed to "findChildren".'}),ga(Fi(n),{code:pi.INTERNAL,message:'Invalid "predicate" parameter passed to "findChildren".'});var a=[];return t.descendants((function(e,t){var r={node:e,pos:t};return n(r)?(a.push(r),null==i||i(r),o):o})),a}function gb(e){var t=e.predicate;return function(e){return mb(h(h({},e),{},{predicate:t}))}}gb({predicate:function(e){return e.node.isText}}),gb({predicate:function(e){return e.node.isInline}}),gb({predicate:function(e){return e.node.isBlock}});function yb(e){var t=e.type;return mb(h(h({},i(e,Lg)),{},{predicate:function(e){return e.node.type===t}}))}function bb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.descend,o=void 0!==r&&r,i=n.predicate,a=n.StepTypes,u=zy(e,a),s=[],l=qe(u);try{var c=function(){var n=t.value,r=n.start,a=n.end;e.doc.nodesBetween(r,a,(function(e,t){var r;return(null==(r=null==i?void 0:i(e,t,n))||r)&&s.push({node:e,pos:t}),o}))};for(l.s();!(t=l.n()).done;)c()}catch(f){l.e(f)}finally{l.f()}return s}function kb(e){var t,n=e.regexp,r=e.type,o=e.getAttributes,i=e.ignoreWhitespace,a=void 0!==i&&i,u=e.beforeDispatch,s=e.updateCaptured,l=e.shouldSkip,c=e.invalidMarks,f=new Rp(n,(function(e,n,i,d){var p,h=e.tr,v=e.schema;t||ga(t=Pi(r)?v.marks[r]:r,{code:pi.SCHEMA,message:"Mark type: ".concat(r," does not exist on the current schema.")});var m=n[1],g=n[0],y=xb({captureGroup:m,fullMatch:g,end:d,start:i,rule:f,state:e,ignoreWhitespace:a,invalidMarks:c,shouldSkip:l,updateCaptured:s});if(!y)return null;i=y.start,d=y.end,m=y.captureGroup,g=y.fullMatch;var b=Fi(o)?o(n):o,k=d,w=[];if(m){var x=g.search(/\S/),S=i+g.indexOf(m),E=S+m.length;w=null!=(p=h.storedMarks)?p:[],E<d&&h.delete(E,d),S>i&&h.delete(i+x,S),k=i+x+m.length}return h.addMark(i,k,t.create(b)),h.setStoredMarks(w),null==u||u({tr:h,match:n,start:i,end:d}),h}));return f}function wb(e){var t=e.regexp,n=e.type,r=e.getAttributes,o=e.beforeDispatch,i=e.shouldSkip,a=e.ignoreWhitespace,u=void 0!==a&&a,s=e.updateCaptured,l=e.invalidMarks,c=new Rp(t,(function(e,t,a,f){var d=Fi(r)?r(t):r,p=e.tr,h=e.schema,v=Pi(n)?h.nodes[n]:n,m=t[1],g=t[0],y=xb({captureGroup:m,fullMatch:g,end:f,start:a,rule:c,state:e,ignoreWhitespace:u,invalidMarks:l,shouldSkip:i,updateCaptured:s});if(!y)return null;a=y.start,f=y.end,m=y.captureGroup,g=y.fullMatch,ga(v,{code:pi.SCHEMA,message:"No node exists for ".concat(n," in the schema.")});var b=v.createAndFill(d);return b&&(p.replaceRangeWith(v.isBlock?p.doc.resolve(a).before():a,f,b),null==o||o({tr:p,match:[g,null!=m?m:""],start:a,end:f})),p}));return c}function xb(e){var t,n,r,o,i,a,u=e.captureGroup,s=e.fullMatch,l=e.end,c=e.start,f=e.rule,d=e.ignoreWhitespace,p=e.shouldSkip,h=e.updateCaptured,v=e.state,m=e.invalidMarks;if(null==s)return null;var g=null!=(t=null==h?void 0:h({captureGroup:u,fullMatch:s,start:c,end:l}))?t:{};u=null!=(n=g.captureGroup)?n:u,s=null!=(r=g.fullMatch)?r:s,c=null!=(o=g.start)?o:c,l=null!=(i=g.end)?i:l;var y=v.doc.resolve(c),b=v.doc.resolve(l);return m&&fg({$from:y,$to:b},m)||f.invalidMarks&&fg({$from:y,$to:b},f.invalidMarks)||d&&""===(null==u?void 0:u.trim())||(null==p?void 0:p({state:v,captureGroup:u,fullMatch:s,start:c,end:l,ruleType:"mark"}))||(null==(a=f.shouldSkip)?void 0:a.call(f,{state:v,captureGroup:u,fullMatch:s,start:c,end:l,ruleType:"mark"}))?null:{captureGroup:u,end:l,fullMatch:s,start:c}}var Sb=Object.freeze({__proto__:null,COPY_LABEL:{id:"extension.command.copy.label",comment:"Label for copy command.",message:"Copy"},COPY_DESCRIPTION:{id:"extension.command.copy.description",comment:"Description for copy command.",message:"Copy the selected text"},CUT_LABEL:{id:"extension.command.cut.label",comment:"Label for cut command.",message:"Cut"},CUT_DESCRIPTION:{id:"extension.command.cut.description",comment:"Description for cut command.",message:"Cut the selected text"},PASTE_LABEL:{id:"extension.command.paste.label",comment:"Label for paste command.",message:"Paste"},PASTE_DESCRIPTION:{id:"extension.command.paste.description",comment:"Description for paste command.",message:"Paste content into the editor"},SELECT_ALL_LABEL:{id:"extension.command.select-all.label",comment:"Label for select all command.",message:"Select all"},SELECT_ALL_DESCRIPTION:{id:"extension.command.select-all.description",comment:"Description for select all command.",message:"Select all content within the editor"}}),Eb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-blockquote.label",comment:"Label for blockquote formatting command.",message:"Blockquote"},DESCRIPTION:{id:"extension.command.toggle-blockquote.description",comment:"Description for blockquote formatting command.",message:"Add blockquote formatting to the selected text"}}),Cb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-bold.label",comment:"Label for bold formatting command.",message:"Bold"},DESCRIPTION:{id:"extension.command.toggle-bold.description",comment:"Description for bold formatting command.",message:"Add bold formatting to the selected text"}}),Ab=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-callout.label",comment:"Label for callout command with support for callout types.",message:"{type, select, info {Information Callout}\nwarning {Warning Callout}\nerror {Error Callout}\nsuccess {Success Callout}\nother {Callout}}"},DESCRIPTION:{id:"extension.command.toggle-callout.description",comment:"Description of the callout command with support for callout types.",message:"{type, select, info {Create an information callout block}\nwarning {Create a warning callout block}\nerror {Create an error callout block}\nsuccess {Create a success callout block}\nother {Create a callout block}}"}}),Db=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-code-block.label",comment:"Label for the code block command.",message:"Codeblock"},DESCRIPTION:{id:"extension.command.toggle-code-block.description",comment:"Description for the code block command.",message:"Add a code block"}}),Ob=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-code.label",comment:"Label for the inline code formatting.",message:"Code"},DESCRIPTION:{id:"extension.command.toggle-code.description",comment:"Description for the inline code formatting command.",message:"Add inline code formatting to the selected text"}}),_b=Object.freeze({__proto__:null,SET_LABEL:{id:"extension.command.set-font-size.label",comment:"Label for adding a font size.",message:"Font size"},SET_DESCRIPTION:{id:"extension.command.set-font-size.description",comment:"Description for adding a font size.",message:"Set the font size for the selected text."},INCREASE_LABEL:{id:"extension.command.increase-font-size.label",comment:"Label for increasing the font size.",message:"Increase"},INCREASE_DESCRIPTION:{id:"extension.command.increase-font-size.description",comment:"Description for increasing the font size.",message:"Increase the font size"},DECREASE_LABEL:{id:"extension.command.decrease-font-size.label",comment:"Label for decreasing the font size.",message:"Decrease"},DECREASE_DESCRIPTION:{id:"extension.command.decrease-font-size.description",comment:"Description for decreasing the font size.",message:"Decrease the font size."}}),Tb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-heading.label",comment:"Label for heading command with support for levels.",message:"{level, select, 1 {Heading 1}\n2 {Heading 2}\n3 {Heading 3}\n4 {Heading 4}\n5 {Heading 5}\n6 {Heading 6}\nother {Heading}}"}}),Mb=Object.freeze({__proto__:null,UNDO_LABEL:{id:"extension.command.undo.label",comment:"Label for undo.",message:"Undo"},UNDO_DESCRIPTION:{id:"extension.command.undo.description",comment:"Description for undo.",message:"Undo the most recent action"},REDO_LABEL:{id:"extension.command.redo.label",comment:"Label for redo.",message:"Redo"},REDO_DESCRIPTION:{id:"extension.command.redo.description",comment:"Description for redo.",message:"Redo the most recent action"}}),Nb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.insert-horizontal-rule.label",comment:"Label for inserting a horizontal rule (divider) command.",message:"Divider"},DESCRIPTION:{id:"extension.command.insert-horizontal-rule.description",comment:"Description for inserting a horizontal rule (divider) command.",message:"Separate content with a diving horizontal line"}}),Rb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-italic.label",comment:"Label for italic formatting command.",message:"Italic"},DESCRIPTION:{id:"extension.command.toggle-italic.description",comment:"Description for italic formatting command.",message:"Italicize the selected text"}}),Pb=Object.freeze({__proto__:null,ORDERED_LIST_LABEL:{id:"extension.command.toggle-ordered-list.label",comment:"Label for inserting an ordered list into the editor.",message:"Ordered list"},BULLET_LIST_LABEL:{id:"extension.command.toggle-bullet-list.description",comment:"Description for inserting a bullet list into the editor.",message:"Bulleted list"},TASK_LIST_LABEL:{id:"extension.command.toggle-task-list.description",comment:"Description for inserting a task list into the editor.",message:"Tasked list"}}),Ib=Object.freeze({__proto__:null,INCREASE_INDENT_LABEL:{id:"extension.command.increase-indent.label",comment:"Label for increasing the indentation level.",message:"Increase indentation"},DECREASE_INDENT_LABEL:{id:"extension.command.decrease-indent.label",comment:"Label for decreasing the indentation level of the current node block.",message:"Decrease indentation"},CENTER_ALIGN_LABEL:{id:"extension.command.center-align.label",comment:"Center align the text in the current node.",message:"Center align"},JUSTIFY_ALIGN_LABEL:{id:"extension.command.justify-align.label",comment:"Justify the alignment of the selected nodes.",message:"Justify"},RIGHT_ALIGN_LABEL:{id:"extension.command.right-align.label",comment:"Right align the selected nodes.",message:"Right align"},LEFT_ALIGN_LABEL:{id:"extension.command.left-align.label",comment:"Left align the selected nodes.",message:"Left align"}}),Fb=Object.freeze({__proto__:null,INSERT_LABEL:{id:"extension.command.insert-paragraph.label",comment:"Label for inserting a paragraph.",message:"Insert Paragraph"},INSERT_DESCRIPTION:{id:"extension.command.insert-paragraph.description",comment:"Description for inserting a paragraph.",message:"Insert a new paragraph"},CONVERT_LABEL:{id:"extension.command.convert-paragraph.label",comment:"Label for converting the current node into a paragraph.",message:"Convert Paragraph"},CONVERT_DESCRIPTION:{id:"extension.command.convert-paragraph.description",comment:"Description for converting a paragraph.",message:"Convert current block into a paragraph block."}}),Lb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-strike.label",comment:"Label for strike formatting command.",message:"Strikethrough"},DESCRIPTION:{id:"extension.command.toggle-strike.description",comment:"Description for strike formatting command.",message:"Strikethrough the selected text"}}),Bb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-subscript.label",comment:"Label for toggling a subscript.",message:"Subscript"}}),jb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-superscript.label",comment:"Label for toggling a superscript.",message:"Superscript"}}),zb=Object.freeze({__proto__:null,CREATE_COMMAND_LABEL:{id:"extension.command.create-table.label",comment:"Label for creating a table",message:"Create table"},CREATE_COMMAND_DESCRIPTION:{id:"extension.command.create-table.description",comment:"Description for creating a table",message:"Create a table with set number of rows and columns."},COLUMN_COUNT:{id:"extension.table.column_count",comment:"The number of columns",message:"{count, plural, one {# column} other {# columns}}"},ROW_COUNT:{id:"extension.table.row_count",comment:"The number of rows",message:"{count, plural, one {# row} other {# rows}}"}}),$b=Object.freeze({__proto__:null,TOGGLE_LABEL:{id:"extension.command.toggle-upper-case.label",comment:"Label for toggling between upper and lower case.",message:"{case, select, upper {Uppercase}\nlower {Lowercase}\ncapitalize {Sentence case}\nsmallCaps {Small caps}\nother {Text case}}"},SET_LABEL:{id:"extension.command.set-casing.label",comment:"Label for setting the case.",message:"Set text case"}}),Ub=Object.freeze({__proto__:null,SET_COLOR_LABEL:{id:"extension.command.set-text-color.label",comment:"Label for color formatting command.",message:"Text color"},SET_COLOR_DESCRIPTION:{id:"extension.command.set-text-color.description",comment:"Description for color formatting command.",message:"Set the text color for the selected text."},TRANSPARENT:{id:"ui.text-color.transparent",comment:"Transparent color label.",message:"Transparent"},WHITE:{id:"ui.text-color.white",comment:"White color.",message:"White"},BLACK:{id:"ui.text-color.black",comment:"Black color.",message:"Black"},GRAY:{id:"ui.text-color.gray",comment:"Gray color.",message:"Gray"},GRAY_HUE:{id:"ui.text-color.gray.hue",comment:"Gray color hues.",message:"Gray {hue}"},RED:{id:"ui.text-color.red",comment:"Red color.",message:"Red"},RED_HUE:{id:"ui.text-color.red.hue",comment:"Red color hues.",message:"Red {hue}"},PINK:{id:"ui.text-color.pink",comment:"Pink color.",message:"Pink"},PINK_HUE:{id:"ui.text-color.pink.hue",comment:"Pink color hues.",message:"Pink {hue}"},GRAPE:{id:"ui.text-color.grape",comment:"Grape color.",message:"Grape"},GRAPE_HUE:{id:"ui.text-color.grape.hue",comment:"Grape color hues.",message:"Grape {hue}"},VIOLET:{id:"ui.text-color.violet",comment:"Violet color.",message:"Violet"},VIOLET_HUE:{id:"ui.text-color.violet.hue",comment:"Violet color hues.",message:"Violet {hue}"},INDIGO:{id:"ui.text-color.indigo",comment:"Indigo color.",message:"Indigo"},INDIGO_HUE:{id:"ui.text-color.indigo.hue",comment:"Indigo color hues.",message:"Indigo {hue}"},BLUE:{id:"ui.text-color.blue",comment:"Blue color.",message:"Blue"},BLUE_HUE:{id:"ui.text-color.blue.hue",comment:"Blue color hues.",message:"Blue {hue}"},CYAN:{id:"ui.text-color.cyan",comment:"Cyan color.",message:"Cyan"},CYAN_HUE:{id:"ui.text-color.cyan.hue",comment:"Cyan color hues.",message:"Cyan {hue}"},TEAL:{id:"ui.text-color.teal",comment:"Teal color.",message:"Teal"},TEAL_HUE:{id:"ui.text-color.teal.hue",comment:"Teal color hues.",message:"Teal {hue}"},GREEN:{id:"ui.text-color.green",comment:"Green color.",message:"Green"},GREEN_HUE:{id:"ui.text-color.green.hue",comment:"Green color hues.",message:"Green {hue}"},LIME:{id:"ui.text-color.lime",comment:"Lime color.",message:"Lime"},LIME_HUE:{id:"ui.text-color.lime.hue",comment:"Lime color hues.",message:"Lime {hue}"},YELLOW:{id:"ui.text-color.yellow",comment:"Yellow color.",message:"Yellow"},YELLOW_HUE:{id:"ui.text-color.yellow.hue",comment:"Yellow color hues.",message:"Yellow {hue}"},ORANGE:{id:"ui.text-color.orange",comment:"Orange color.",message:"Orange"},ORANGE_HUE:{id:"ui.text-color.orange.hue",comment:"Orange color hues.",message:"Orange {hue}"}}),Wb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.set-text-highlight.label",comment:"Label for adding a text highlight.",message:"Text highlight"},DESCRIPTION:{id:"extension.command.set-text-highlight.description",comment:"Description for adding a text highlight.",message:"Set the text highlight color for the selected text."}}),Hb=Object.freeze({__proto__:null,LABEL:{id:"extension.command.toggle-underline.label",comment:"Label for underline formatting command.",message:"Underline"},DESCRIPTION:{id:"extension.command.toggle-underline.description",comment:"Description for underline formatting command.",message:"Underline the selected text"}});function Vb(e,t){for(var n=Object.getPrototypeOf(t),r=e.selection,o=e.doc,i=e.storedMarks,a=Oi(),u=0,s=Object.entries(t);u<s.length;u++){var l=Ye(s[u],2),c=l[0],f=l[1];a[c]={value:f}}return Object.create(n,h(h({},a),{},{storedMarks:{get:function(){return i}},selection:{get:function(){return r}},doc:{get:function(){return o}},tr:{get:function(){return r=e.selection,o=e.doc,i=e.storedMarks,e}}}))}function Kb(e){return function(t){var n=t.state,r=t.dispatch,o=t.view,i=t.tr;return e(Vb(i,n),r,o)}}function qb(e){return function(t){var n;return ga(void 0===t.dispatch||t.dispatch===(null==(n=t.view)?void 0:n.dispatch),{code:pi.NON_CHAINABLE_COMMAND}),e(t)}}var Gb=function(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)};function Jb(e,t){var n=e.selection.$cursor;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}var Yb=function(e,t,n){var r=Jb(e,n);if(!r)return!1;var o=Qb(r);if(!o){var i=r.blockRange(),a=i&&Dd(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}var u=o.nodeBefore;if(!u.type.spec.isolating&&ik(e,o,t))return!0;if(0==r.parent.content.size&&(Xb(u,"end")||sp.isSelectable(u))){var s=$d(e.doc,r.before(),r.after(),df.empty);if(s&&s.slice.size<s.to-s.from){if(t){var l=e.tr.step(s);l.setSelection(Xb(u,"end")?np.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):sp.create(l.doc,o.pos-u.nodeSize)),t(l.scrollIntoView())}return!0}}return!(!u.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-u.nodeSize,o.pos).scrollIntoView()),!0)};function Xb(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function Qb(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Zb(e,t){var n=e.selection.$cursor;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}function ek(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function tk(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var nk,rk=function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof sp&&e.selection.node.isBlock)return!(!r.parentOffset||!Pd(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;(e.selection instanceof ap||e.selection instanceof cp)&&a.deleteSelection();var u=0==r.depth?null:tk(r.node(-1).contentMatchAt(r.indexAfter(-1))),s=nk&&nk(o.parent,i),l=s?[s]:i&&u?[{type:u}]:void 0,c=Pd(a.doc,a.mapping.map(r.pos),1,l);if(l||c||!Pd(a.doc,a.mapping.map(r.pos),1,u?[{type:u}]:void 0)||(u&&(l=[{type:u}]),c=!0),c&&(a.split(a.mapping.map(r.pos),1,l),!i&&!r.parentOffset&&r.parent.type!=u)){var f=a.mapping.map(r.before()),d=a.doc.resolve(f);u&&r.node(-1).canReplaceWith(d.index(),d.index()+1,u)&&a.setNodeMarkup(a.mapping.map(r.before()),u)}t(a.scrollIntoView())}return!0},ok=function(e,t){var n,r=e.selection,o=r.$from,i=r.to,a=o.sharedDepth(i);return 0!=a&&(n=o.before(a),t&&t(e.tr.setSelection(sp.create(e.doc,n))),!0)};function ik(e,t,n){var r,o,i=t.nodeBefore,a=t.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Fd(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;var u=t.parent.canReplace(t.index(),t.index()+1);if(u&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var s=t.pos+a.nodeSize,l=af.empty,c=r.length-1;c>=0;c--)l=af.from(r[c].create(null,l));l=af.from(i.copy(l));var f=e.tr.step(new Ed(t.pos-1,s,t.pos,s,new df(l,1,0),r.length,!0)),d=s+2*r.length;Fd(f.doc,d)&&f.join(d),n(f.scrollIntoView())}return!0}var p=np.findFrom(t,1),h=p&&p.$from.blockRange(p.$to),v=h&&Dd(h);if(null!=v&&v>=t.depth)return n&&n(e.tr.lift(h,v).scrollIntoView()),!0;if(u&&Xb(a,"start",!0)&&Xb(i,"end")){for(var m=i,g=[];g.push(m),!m.isTextblock;)m=m.lastChild;for(var y=a,b=1;!y.isTextblock;y=y.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){for(var k=af.empty,w=g.length-1;w>=0;w--)k=af.from(g[w].copy(k));n(e.tr.step(new Ed(t.pos-g.length,t.pos+a.nodeSize,t.pos+b,t.pos+a.nodeSize-b,new df(k,g.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function ak(e){return function(t,n){for(var r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(ap.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}var uk=ak(-1),sk=ak(1);function lk(e,t,n){for(var r=function(){var r=t[o],i=r.$from,a=r.$to,u=0==i.depth&&(e.inlineContent&&e.type.allowsMarkType(n));if(e.nodesBetween(i.pos,a.pos,(function(e){if(u)return!1;u=e.inlineContent&&e.type.allowsMarkType(n)})),u)return{v:!0}},o=0;o<t.length;o++){var i=r();if("object"===typeof i)return i.v}return!1}function ck(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var fk=ck(Gb,Yb,(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=Qb(o)}var a=i&&i.nodeBefore;return!(!a||!sp.isSelectable(a))&&(t&&t(e.tr.setSelection(sp.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)})),dk=ck(Gb,(function(e,t,n){var r=Zb(e,n);if(!r)return!1;var o=ek(r);if(!o)return!1;var i=o.nodeAfter;if(ik(e,o,t))return!0;if(0==r.parent.content.size&&(Xb(i,"start")||sp.isSelectable(i))){var a=$d(e.doc,r.before(),r.after(),df.empty);if(a&&a.slice.size<a.to-a.from){if(t){var u=e.tr.step(a);u.setSelection(Xb(i,"start")?np.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):sp.create(u.doc,u.mapping.map(o.pos))),t(u.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=ek(o)}var a=i&&i.nodeAfter;return!(!a||!sp.isSelectable(a))&&(t&&t(e.tr.setSelection(sp.create(e.doc,i.pos)).scrollIntoView()),!0)})),pk={Enter:ck((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof cp||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=tk(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=e.tr.insert(a,i.createAndFill());u.setSelection(ap.create(u.doc,a+1)),t(u.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Pd(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Dd(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),rk),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),u=tk(i.contentMatchAt(a));if(!u||!i.canReplaceWith(a,a,u))return!1;if(t){var s=r.after(),l=e.tr.replaceWith(s,s,u.createAndFill());l.setSelection(np.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},Backspace:fk,"Mod-Backspace":fk,"Shift-Backspace":fk,Delete:dk,"Mod-Delete":dk,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new cp(e.doc))),!0}},hk={"Ctrl-h":pk.Backspace,"Alt-Backspace":pk["Mod-Backspace"],"Ctrl-d":pk.Delete,"Ctrl-Alt-Backspace":pk["Mod-Delete"],"Alt-Delete":pk["Mod-Delete"],"Alt-d":pk["Mod-Delete"],"Ctrl-a":uk,"Ctrl-e":sk};for(var vk in pk)hk[vk]=pk[vk];for(var mk=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?hk:pk,gk={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yk={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bk="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),kk=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),wk="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xk=kk||bk&&+bk[1]<57,Sk=0;Sk<10;Sk++)gk[48+Sk]=gk[96+Sk]=String(Sk);for(Sk=1;Sk<=24;Sk++)gk[Sk+111]="F"+Sk;for(Sk=65;Sk<=90;Sk++)gk[Sk]=String.fromCharCode(Sk+32),yk[Sk]=String.fromCharCode(Sk);for(var Ek in gk)yk.hasOwnProperty(Ek)||(yk[Ek]=gk[Ek]);var Ck="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Ak(e){var t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var u=0;u<i.length-1;u++){var s=i[u];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);Ck?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function Dk(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Ok(e){var t=function(e){var t=Object.create(null);for(var n in e)t[Ak(n)]=e[n];return t}(e);return function(e,n){var r,o=function(e){var t=!(xk&&(e.ctrlKey||e.altKey||e.metaKey)||wk&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?yk:gk)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=1==o.length&&" "!=o,a=t[Dk(o,n,!i)];if(a&&a(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=gk[n.keyCode])&&r!=o){var u=t[Dk(r,n,!0)];if(u&&u(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){var s=t[Dk(o,n,!0)];if(s&&s(e.state,e.dispatch,e))return!0}return!1}}function _k(e){var t,n,r=oa(e,(function(e,t){var n,r;return(null!=(n=t.priority)?n:ci.Low)-(null!=(r=e.priority)?r:ci.Low)})),o=[],i=[],a=qe(r);try{for(a.s();!(t=a.n()).done;){var u=t.value;Fk(u)?o.push(u):i.push(u)}}catch(s){a.e(s)}finally{a.f()}return new wp({key:Tk,view:function(e){return n=e,{}},props:{transformPasted:function(e){for(var t,r,i,a,u=n.state.selection.$from,s=u.node().type.name,l=new Set(u.marks().map((function(e){return e.type.name}))),c=function(){var o=d[f];if((null==(t=o.ignoredNodes)?void 0:t.includes(s))||(null==(r=o.ignoredMarks)?void 0:r.some((function(e){return l.has(e)}))))return"continue";var u=null!=(a=null==(i=e.content.firstChild)?void 0:i.textContent)?a:"",c=!n.state.selection.empty&&1===e.content.childCount&&u,p=qi(u,o.regexp)[0];if(c&&p&&"mark"===o.type&&o.replaceSelection){var h=n.state.selection,v=h.from,m=h.to,g=n.state.doc.slice(v,m),y=g.content.textBetween(0,g.content.size);if("boolean"!==typeof o.replaceSelection?o.replaceSelection(y):o.replaceSelection){var b=[],k=o.getAttributes,w=o.markType,x=Fi(k)?k(p,!0):k,S=w.create(x);return g.content.forEach((function(e){if(e.isText){var t=S.addToSet(e.marks);b.push(e.mark(t))}})),{v:df.maxOpen(af.fromArray(b))}}}var E=function(e,t,n){var r=[];switch(t.type){case"mark":return Mk(Nk,n)({fragment:e,nodes:r,rule:t});case"node":return Mk(Pk,n)({fragment:e,nodes:r,rule:t});default:return Mk(Rk,n)({fragment:e,nodes:r,rule:t})}}(e.content,o,n.state.schema),C=E.nodes;E.transformed&&(e="node"===o.type&&o.nodeType.isBlock?new df(af.fromArray(C),0,0):new df(af.fromArray(C),e.openStart,e.openEnd))},f=0,d=o;f<d.length;f++){var p=c();if("continue"!==p&&"object"===typeof p)return p.v}return function(e){var t=df.maxOpen(e.content);return t.openStart<e.openStart||t.openEnd<e.openEnd?t:e}(e)},handleDOMEvents:{paste:function(e,t){var n,r,o=t;if(!(null==(r=(n=e.props).editable)?void 0:r.call(n,e.state)))return!1;var a=o.clipboardData;if(!a)return!1;var u=d(a.items).map((function(e){return e.getAsFile()})).filter((function(e){return!!e}));if(0===u.length)return!1;for(var s=e.state.selection,l=function(){var t=f[c],n=t.fileHandler,r=t.regexp,i=r?u.filter((function(e){return r.test(e.type)})):u;return 0===i.length?"continue":n({event:o,files:i,selection:s,view:e,type:"paste"})?(o.preventDefault(),{v:!0}):void 0},c=0,f=i;c<f.length;c++){var p=l();if("continue"!==p&&"object"===typeof p)return p.v}return!1},drop:function(e,t){var n,r,o,a,u=t;if(!(null==(r=(n=e.props).editable)?void 0:r.call(n,e.state)))return!1;var s=u.dataTransfer,l=u.clientX,c=u.clientY;if(!s)return!1;var f=function(e){var t,n,r=e.dataTransfer;if(!r)return[];if((null==(t=r.files)?void 0:t.length)>0)return d(r.files);if(null==(n=r.items)?void 0:n.length)return d(r.items).map((function(e){return e.getAsFile()})).filter((function(e){return!!e}));return[]}(u);if(0===f.length)return!1;for(var p=null!=(a=null==(o=e.posAtCoords({left:l,top:c}))?void 0:o.pos)?a:e.state.selection.anchor,h=function(){var t=m[v],n=t.fileHandler,r=t.regexp,o=r?f.filter((function(e){return r.test(e.type)})):f;return 0===o.length?"continue":n({event:u,files:o,pos:p,view:e,type:"drop"})?(u.preventDefault(),{v:!0}):void 0},v=0,m=i;v<m.length;v++){var g=h();if("continue"!==g&&"object"===typeof g)return g.v}return!1}}}})}var Tk=new Ep("pasteRule");function Mk(e,t){return function n(r){var o=r.fragment,i=r.rule,a=r.nodes,u=i.regexp,s=i.ignoreWhitespace,l=i.ignoredMarks,c=i.ignoredNodes,f=!1;return o.forEach((function(r){var o;if((null==c?void 0:c.includes(r.type.name))||Lk(r))a.push(r);else if(r.isText)if(r.marks.some((function(e){return Bk(e)||(null==l?void 0:l.includes(e.type.name))})))a.push(r);else{var p,h=null!=(o=r.text)?o:"",v=0,m=qe(qi(h,u));try{for(m.s();!(p=m.n()).done;){var g=p.value,y=g[1],b=g[0];if(s&&""===(null==y?void 0:y.trim())||!b)return;var k=g.index,w=k+b.length;k>v&&a.push(r.cut(v,k));var x=r.cut(k,w);if(b&&y){var S=b.search(/\S/),E=k+b.indexOf(y),C=E+y.length;S&&a.push(r.cut(k,k+S)),x=r.cut(E,C)}e({nodes:a,rule:i,textNode:x,match:g,schema:t}),f=!0,v=w}}catch(O){m.e(O)}finally{m.f()}h&&v<h.length&&a.push(r.cut(v))}else{var A=n({fragment:r.content,rule:i,nodes:[]});f||(f=A.transformed);var D=af.fromArray(A.nodes);r.type.validContent(D)?a.push(r.copy(D)):a.push.apply(a,d(A.nodes))}})),{nodes:a,transformed:f}}}function Nk(e){var t,n=e.nodes,r=e.rule,o=e.textNode,i=e.match,a=e.schema,u=r.transformMatch,s=r.getAttributes,l=r.markType,c=Fi(s)?s(i,!1):s,f=null!=(t=o.text)?t:"",d=l.create(c),p=null==u?void 0:u(i);if(""!==p)if(!1!==p){var h=d.addToSet(o.marks);n.push(a.text(null!=p?p:f,h))}else n.push(a.text(f,o.marks))}function Rk(e){var t,n=e.nodes,r=e.rule,o=e.textNode,i=e.match,a=e.schema,u=r.transformMatch,s=null==u?void 0:u(i);if(""!==s&&!1!==s){var l=null!=(t=null!=s?s:o.text)?t:"";n.push(a.text(l,o.marks))}}function Pk(e){var t=e.nodes,n=e.rule,r=e.textNode,o=e.match,i=n.getAttributes,a=n.nodeType,u=n.getContent,s=Fi(i)?i(o,!1):i,l=(u?u(o):r)||void 0;t.push(a.createChecked(s,l))}var Ik=["mark","node","text"];function Fk(e){return Di(Ik,e.type)}function Lk(e){var t;return e.type.spec.code||(null==(t=e.type.spec.group)?void 0:t.split(" ").includes("code"))}function Bk(e){var t;return"code"===e.type.name||(null==(t=e.type.spec.group)?void 0:t.split(" ").includes("code"))}var jk=function(){return{events:{},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.events[e]||[]).forEach((function(e){return e.apply(void 0,n)}))},on:function(e,t){var n=this;return(this.events[e]=this.events[e]||[]).push(t),function(){return n.events[e]=(n.events[e]||[]).filter((function(e){return e!==t}))}}}};var zk,$k,Uk,Wk=function(e,t){},Hk=["defaultOptions","customHandlerKeys","handlerKeys","staticKeys","defaultPriority","handlerKeyOptions"],Vk=["nodeName","className"],Kk=["parseDOM"],qk=Object.defineProperty,Gk=Object.getOwnPropertyDescriptor,Jk=function(e,t,n,r){for(var o,i=r>1?void 0:r?Gk(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&qk(t,n,i),i},Yk=function(e,t,n){return function(e,t,n){t in e?qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Xk=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},Qk=function(e,t,n){return Xk(e,t,"read from private field"),n?n.call(e):t.get(e)},Zk=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ew=function(e,t,n,r){return Xk(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n};function tw(e,t){return e===t}function nw(e){var t,n=e.previousOptions,r=e.update,o=e.equals,i=void 0===o?tw:o,a=h(h({},n),r),u=Oi(),s=qe(Ci(n));try{for(s.s();!(t=s.n()).done;){var l=t.value,c=n[l],f=a[l];i(c,f)?u[l]={changed:!1}:u[l]={changed:!0,previousValue:c,value:f}}}catch(d){s.e(d)}finally{s.f()}return{changes:u,options:a,pickChanged:function(e){var t,n=Oi(),r=qe(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=u[o];(null==i?void 0:i.changed)&&(n[o]=i.value)}}catch(d){r.e(d)}finally{r.f()}return n}}}var rw=(s(zk={},pi.DUPLICATE_HELPER_NAMES,"helper method"),s(zk,pi.DUPLICATE_COMMAND_NAMES,"command method"),zk);function ow(e){var t=e.name,n=e.set,r=e.code,o=rw[r];ga(!n.has(t),{code:r,message:"There is a naming conflict for the name: ".concat(t," used in this '").concat(o,"'. Please rename or remove from the editor to avoid runtime errors.")}),n.add(t)}var iw="__IGNORE__",aw=function(){function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=r[0];v(this,e),Yk(this,"~O",{}),Yk(this,"_initialOptions"),Yk(this,"_dynamicKeys"),Yk(this,"_options"),Yk(this,"_mappedHandlers"),Yk(this,"onAddCustomHandler"),this._mappedHandlers=Oi(),this.populateMappedHandlers(),this._options=this._initialOptions=ta(t,this.constructor.defaultOptions,null!=i?i:Oi(),this.createDefaultHandlerOptions()),this._dynamicKeys=this.getDynamicKeys(),this.init()}return g(e,[{key:"options",get:function(){return this._options}},{key:"dynamicKeys",get:function(){return this._dynamicKeys}},{key:"initialOptions",get:function(){return this._initialOptions}},{key:"init",value:function(){}},{key:"getDynamicKeys",value:function(){var e,t=[],n=this.constructor,r=n.customHandlerKeys,o=n.handlerKeys,i=n.staticKeys,a=qe(Ci(this._options));try{for(a.s();!(e=a.n()).done;){var u=e.value;i.includes(u)||o.includes(u)||r.includes(u)||t.push(u)}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"ensureAllKeysAreDynamic",value:function(e){if(!Bg.isProduction){var t,n=[],r=qe(Ci(e));try{for(r.s();!(t=r.n()).done;){var o=t.value;this._dynamicKeys.includes(o)||n.push(o)}}catch(i){r.e(i)}finally{r.f()}ga(Vi(n),{code:pi.INVALID_SET_EXTENSION_OPTIONS,message:"Invalid properties passed into the 'setOptions()' method: ".concat(JSON.stringify(n),".")})}}},{key:"setOptions",value:function(e){var t,n=this.getDynamicOptions();this.ensureAllKeysAreDynamic(e);var r=nw({previousOptions:n,update:e}),o=r.changes,i=r.options,a=r.pickChanged;this.updateDynamicOptions(i),null==(t=this.onSetOptions)||t.call(this,{reason:"set",changes:o,options:i,pickChanged:a,initialOptions:this._initialOptions})}},{key:"resetOptions",value:function(){var e,t=nw({previousOptions:this.getDynamicOptions(),update:this._initialOptions}),n=t.changes,r=t.options,o=t.pickChanged;this.updateDynamicOptions(r),null==(e=this.onSetOptions)||e.call(this,{reason:"reset",options:r,changes:n,pickChanged:o,initialOptions:this._initialOptions})}},{key:"getDynamicOptions",value:function(){return gi(this._options,[].concat(d(this.constructor.customHandlerKeys),d(this.constructor.handlerKeys)))}},{key:"updateDynamicOptions",value:function(e){this._options=h(h({},this._options),e)}},{key:"populateMappedHandlers",value:function(){var e,t=qe(this.constructor.handlerKeys);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._mappedHandlers[n]=[]}}catch(r){t.e(r)}finally{t.f()}}},{key:"createDefaultHandlerOptions",value:function(){var e,t=this,n=Oi(),r=qe(this.constructor.handlerKeys);try{var o=function(){var r=e.value;n[r]=function(){for(var e,n=t.constructor.handlerKeyOptions,o=null==(e=n[r])?void 0:e.reducer,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];var s,l=null==o?void 0:o.getDefault.apply(o,a),c=qe(t._mappedHandlers[r]);try{for(c.s();!(s=c.n()).done;){var f=Ye(s.value,2),d=f[1],p=d.apply(void 0,a);if(uw(n,l=o?o.accumulator.apply(o,[l,p].concat(a)):p,r))return l}}catch(h){c.e(h)}finally{c.f()}return l}};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return n}},{key:"addHandler",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci.Default;return this._mappedHandlers[e].push([r,t]),this.sortHandlers(e),function(){return n._mappedHandlers[e]=n._mappedHandlers[e].filter((function(e){return Ye(e,2)[1]!==t}))}}},{key:"hasHandlers",value:function(e){var t;return(null!=(t=this._mappedHandlers[e])?t:[]).length>0}},{key:"sortHandlers",value:function(e){this._mappedHandlers[e]=oa(this._mappedHandlers[e],(function(e,t){var n=Ye(e,1)[0];return Ye(t,1)[0]-n}))}},{key:"addCustomHandler",value:function(e,t){var n,r;return null!=(r=null==(n=this.onAddCustomHandler)?void 0:n.call(this,s({},e,t)))?r:ea}}]),e}();function uw(e,t,n){var r=e.__ALL__,o=e[n];return!(!r&&!o)&&(!(!o||o.earlyReturnValue===iw||(Fi(o.earlyReturnValue)?!0!==o.earlyReturnValue(t):t!==o.earlyReturnValue))||!(!r||r.earlyReturnValue===iw||(Fi(r.earlyReturnValue)?!0!==r.earlyReturnValue(t):t!==r.earlyReturnValue)))}Yk(aw,"defaultOptions",{}),Yk(aw,"staticKeys",[]),Yk(aw,"handlerKeys",[]),Yk(aw,"handlerKeyOptions",{}),Yk(aw,"customHandlerKeys",[]);var sw=function(e){b(n,e);var t=E(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=t.call.apply(t,[this,dw].concat(o)),Yk(x(e),"priorityOverride"),Yk(x(e),"_extensions"),Yk(x(e),"extensionMap"),Yk(x(e),"_store"),Yk(x(e),"~E",{}),e._extensions=ua(e.createExtensions(),(function(e){return e.constructor})),e.extensionMap=new Map;var a,u=qe(e._extensions);try{for(u.s();!(a=u.n()).done;){var s=a.value;e.extensionMap.set(s.constructor,s)}}catch(l){u.e(l)}finally{u.f()}return e}return g(n,[{key:"priority",get:function(){var e,t;return null!=(t=null!=(e=this.priorityOverride)?e:this.options.priority)?t:this.constructor.defaultPriority}},{key:"constructorName",get:function(){return"".concat(Qc(this.name),"Extension")}},{key:"store",get:function(){return ga(this._store,{code:pi.MANAGER_PHASE_ERROR,message:"An error occurred while attempting to access the 'extension.store' when the Manager has not yet set created the lifecycle methods."}),ba(this._store,{requireKeys:!0})}},{key:"extensions",get:function(){return this._extensions}},{key:"replaceChildExtension",value:function(e,t){this.extensionMap.has(e)&&(this.extensionMap.set(e,t),this._extensions=this.extensions.map((function(n){return t.constructor===e?t:n})))}},{key:"createExtensions",value:function(){return[]}},{key:"getExtension",value:function(e){var t=this.extensionMap.get(e);return ga(t,{code:pi.INVALID_GET_EXTENSION,message:"'".concat(e.name,"' does not exist within the preset: '").concat(this.name,"'")}),t}},{key:"isOfType",value:function(e){return this.constructor===e}},{key:"setStore",value:function(e){this._store||(this._store=e)}},{key:"clone",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qc(this.constructor,t)}},{key:"setPriority",value:function(e){this.priorityOverride=e}}]),n}(aw);Yk(sw,"defaultPriority",ci.Default);var lw=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:si,get:function(){return li.PlainExtension}}],[{key:si,get:function(){return li.PlainExtensionConstructor}}]),n}(sw),cw=function(e){b(n,e);var t=E(n);function n(){v(this,n);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.call.apply(t,[this].concat(r))}return g(n,[{key:si,get:function(){return li.MarkExtension}},{key:"type",get:function(){return wi(this.store.schema.marks,this.name)}}],[{key:si,get:function(){return li.MarkExtensionConstructor}}]),n}(sw);Yk(cw,"disableExtraAttributes",!1);var fw=function(e){b(n,e);var t=E(n);function n(){v(this,n);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.call.apply(t,[this].concat(r))}return g(n,[{key:si,get:function(){return li.NodeExtension}},{key:"type",get:function(){return wi(this.store.schema.nodes,this.name)}}],[{key:si,get:function(){return li.NodeExtensionConstructor}}]),n}(sw);Yk(fw,"disableExtraAttributes",!1);var dw={priority:void 0,extraAttributes:{},disableExtraAttributes:!1,exclude:{}};function pw(e){return gy(e)&&yy(e,[li.PlainExtension,li.MarkExtension,li.NodeExtension])}function hw(e){return gy(e)&&yy(e,li.PlainExtension)}function vw(e){return gy(e)&&yy(e,li.NodeExtension)}function mw(e){return gy(e)&&yy(e,li.MarkExtension)}function gw(e){return function(t){var n=e.defaultOptions,r=e.customHandlerKeys,o=e.handlerKeys,a=e.staticKeys,u=e.defaultPriority,s=e.handlerKeyOptions,l=i(e,Hk),c=t;n&&(c.defaultOptions=n),u&&(c.defaultPriority=u),s&&(c.handlerKeyOptions=s),c.staticKeys=null!=a?a:[],c.handlerKeys=null!=o?o:[],c.customHandlerKeys=null!=r?r:[];for(var f=0,d=Object.entries(l);f<d.length;f++){var p=Ye(d[f],2),h=p[0],v=p[1];c[h]||(c[h]=v)}return c}}var yw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"attributeList",[]),Yk(x(e),"attributeObject",Oi()),Yk(x(e),"updateAttributes",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.transformAttributes(),t&&e.store.commands.forceUpdate("attributes")})),e}return g(n,[{key:"name",get:function(){return"attributes"}},{key:"onCreate",value:function(){this.transformAttributes(),this.store.setExtensionStore("updateAttributes",this.updateAttributes)}},{key:"transformAttributes",value:function(){var e,t,n,r;if(this.attributeObject=Oi(),null==(e=this.store.managerSettings.exclude)?void 0:e.attributes)this.store.setStoreKey("attributes",this.attributeObject);else{this.attributeList=[];var o,i=qe(this.store.extensions);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!(null==(t=a.options.exclude)?void 0:t.attributes)){var u=null==(n=a.createAttributes)?void 0:n.call(a),s=h(h({},u),{},{class:fa.apply(void 0,d(null!=(r=a.classNames)?r:[]).concat([null==u?void 0:u.class]))});this.attributeList.unshift(s)}}}catch(p){i.e(p)}finally{i.f()}var l,c=qe(this.attributeList);try{for(c.s();!(l=c.n()).done;){var f=l.value;this.attributeObject=h(h(h({},this.attributeObject),f),{},{class:fa(this.attributeObject.class,f.class)})}}catch(p){c.e(p)}finally{c.f()}this.store.setStoreKey("attributes",this.attributeObject)}}}]),n}(lw);function bw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var o;(null!=(o=t.decoratedHelpers)?o:t.decoratedHelpers={})[n]=e}}function kw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){var o;(null!=(o=t.decoratedCommands)?o:t.decoratedCommands={})[n]=e}}function ww(e){return function(t,n,r){var o;(null!=(o=t.decoratedKeybindings)?o:t.decoratedKeybindings={})[n]=e}}var xw=function(){function e(t){var n=this;v(this,e),this.promiseCreator=t,Yk(this,"failureHandlers",[]),Yk(this,"successHandlers",[]),Yk(this,"validateHandlers",[]),Yk(this,"generateCommand",(function(){return function(e){var t=!0,r=e.view,o=e.tr,i=e.dispatch;if(!r)return!1;var a,u=qe(n.validateHandlers);try{for(u.s();!(a=u.n()).done;){if(!(0,a.value)(h(h({},e),{},{dispatch:function(){}}))){t=!1;break}}}catch(s){u.e(s)}finally{u.f()}return i&&t?(n.promiseCreator(e).then((function(e){n.runHandlers(n.successHandlers,{value:e,state:r.state,tr:r.state.tr,dispatch:r.dispatch,view:r})})).catch((function(e){n.runHandlers(n.failureHandlers,{error:e,state:r.state,tr:r.state.tr,dispatch:r.dispatch,view:r})})),i(o),!0):t}}))}return g(e,[{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";return this.validateHandlers[t](e),this}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";return this.successHandlers[t](e),this}},{key:"failure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";return this.failureHandlers[t](e),this}},{key:"runHandlers",value:function(e,t){var n,r,o=qe(e);try{for(o.s();!(r=o.n()).done;){if(!(0,r.value)(h(h({},t),{},{dispatch:function(){}})))break}}catch(i){o.e(i)}finally{o.f()}null==(n=t.dispatch)||n.call(t,t.tr)}}]),e}();function Sw(e){var t=e.type,n=e.attrs,r=e.range,o=e.selection;return function(e){var i,a=e.dispatch,u=e.tr,s=e.state,l=Pi(t)?s.schema.marks[t]:t;if(ga(l,{code:pi.SCHEMA,message:"Mark type: ".concat(t," does not exist on the current schema.")}),r||o){var c=Hy(null!=(i=null!=o?o:r)?i:u.selection,u.doc),f=c.from,d=c.to;return _y(h({trState:u,type:t},r))?null==a||a(u.removeMark(f,d,l)):null==a||a(u.addMark(f,d,l.create(n))),!0}return Kb(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,u=o.ranges;if(i&&!a||!lk(n.doc,u,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var s=!1,l=n.tr,c=0;!s&&c<u.length;c++){var f=u[c],d=f.$from,p=f.$to;s=n.doc.rangeHasMark(d.pos,p.pos,e)}for(var h=0;h<u.length;h++){var v=u[h],m=v.$from,g=v.$to;if(s)l.removeMark(m.pos,g.pos,e);else{var y=m.pos,b=g.pos,k=m.nodeAfter,w=g.nodeBefore,x=k&&k.isText?/^\s*/.exec(k.text)[0].length:0,S=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;y+x<b&&(y+=x,b-=S),l.addMark(y,b,e.create(t))}}r(l.scrollIntoView())}return!0}}(l,n))(e)}}function Ew(e,t,n){return function(r){var o=r.tr,i=r.dispatch,a=r.state,u=Hy(null!=n?n:o.selection,o.doc),s=function(e){return Ey(e)?e.$cursor:void 0}(u),l=Pi(e)?a.schema.marks[e]:e;if(ga(l,{code:pi.SCHEMA,message:"Mark type: ".concat(e," does not exist on the current schema.")}),u.empty&&!s||!function(e,t,n){var r,o=qe(n);try{var i=function(){var n=r.value,o=n.$from,i=n.$to,a=0===o.depth&&t.type.allowsMarkType(e);if(t.nodesBetween(o.pos,i.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(e)})),a)return{v:!0}};for(o.s();!(r=o.n()).done;){var a=i();if("object"===typeof a)return a.v}}catch(u){o.e(u)}finally{o.f()}return!1}(l,o.doc,u.ranges))return!1;if(!i)return!0;if(s)return o.removeStoredMark(l),t&&o.addStoredMark(l.create(t)),i(o),!0;var c,f=!1,d=qe(u.ranges);try{for(d.s();!(c=d.n()).done;){var p=c.value,h=p.$from,v=p.$to;if(f)break;f=o.doc.rangeHasMark(h.pos,v.pos,l)}}catch(w){d.e(w)}finally{d.f()}var m,g=qe(u.ranges);try{for(g.s();!(m=g.n()).done;){var y=m.value,b=y.$from,k=y.$to;f&&o.removeMark(b.pos,k.pos,l),t&&o.addMark(b.pos,k.pos,l.create(t))}}catch(w){g.e(w)}finally{g.f()}return i(o),!0}}function Cw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.tr,o=n.dispatch,i=n.state.schema,a=r.selection,u=t.from,s=void 0===u?a.from:u,l=t.to,c=void 0===l?null!=s?s:a.to:l,f=t.marks,d=void 0===f?{}:f;if(!o)return!0;r.insertText(e,s,c);var p,h=wi(r.steps,r.steps.length-1).getMap().map(c),v=qe(Ei(d));try{for(v.s();!(p=v.n()).done;){var m=Ye(p.value,2),g=m[0],y=m[1];r.addMark(s,h,wi(i.marks,g).create(y))}}catch(b){v.e(b)}finally{v.f()}return o(r),!0}}var Aw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"_transaction"),Yk(x(e),"decorated",new Map),Yk(x(e),"forceUpdateTransaction",(function(t){for(var n=e.getCommandMeta(t),r=n.forcedUpdates,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return e.setCommandMeta(t,{forcedUpdates:Qi([].concat(d(r),i))}),t})),e}return g(n,[{key:"name",get:function(){return"commands"}},{key:"transaction",get:function(){var e=this.store.getState();this._transaction||(this._transaction=e.tr);var t=this._transaction.before.eq(e.doc),n=!Vi(this._transaction.steps);if(!t){var r=e.tr;if(n){var o,i=qe(this._transaction.steps);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.step(a)}}catch(u){i.e(u)}finally{i.f()}}this._transaction=r}return this._transaction}},{key:"onCreate",value:function(){this.store.setStoreKey("getForcedUpdates",this.getForcedUpdates.bind(this))}},{key:"onView",value:function(e){var t,n,r,o,i=this,a=this.store,u=a.extensions,s=a.helpers,l=Oi(),c=new Set,f=Oi(),d=function(t){for(var n,r=Oi(),o=function(){return null!=t?t:i.transaction},a=[],u=function(){return a},s=0,c=Object.entries(l);s<c.length;s++){var d=Ye(c[s],2),p=d[0],h=d[1];(null==(n=f[p])?void 0:n.disableChaining)||(r[p]=i.chainedFactory({chain:r,command:h.original,getTr:o,getChain:u}))}var v=function(e){ga(e===o(),{message:"Chaining currently only supports `CommandFunction` methods which do not use the `state.tr` property. Instead you should use the provided `tr` property."})};return r.run=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a;a=[];for(var r=0,i=n;r<i.length;r++){var u=i[r];if(!u(v)&&t.exitEarly)return}e.dispatch(o())},r.tr=function(){var e=a;a=[];for(var t=0,n=e;t<n.length;t++){(0,n[t])(v)}return o()},r.enabled=function(){for(var e=0,t=a;e<t.length;e++){if(!(0,t[e])())return!1}return!0},r},p=qe(u);try{var v=function(){var e=o.value,a=null!=(n=null==(t=e.createCommands)?void 0:t.call(e))?n:{},u=null!=(r=e.decoratedCommands)?r:{},d={};f=h(h({},f),{},{decoratedCommands:u});for(var p=function(){var t=Ye(m[v],2),n=t[0],r=t[1],o=Pi(r.shortcut)&&r.shortcut.startsWith("_|")?{shortcut:s.getNamedShortcut(r.shortcut,e.options)}:void 0;i.updateDecorated(n,h(h({},r),{},{name:e.name},o)),a[n]=e[n].bind(e),r.active&&(d[n]=function(){var t,n;return null!=(n=null==(t=r.active)?void 0:t.call(r,e.options,i.store))&&n})},v=0,m=Object.entries(u);v<m.length;v++)p();if(Wi(a))return"continue";i.addCommands({active:d,names:c,commands:l,extensionCommands:a})};for(p.s();!(o=p.n()).done;)v()}catch(x){p.e(x)}finally{p.f()}for(var m=d(),g=0,y=Object.entries(m);g<y.length;g++){var b=Ye(y[g],2),k=b[0],w=b[1];d[k]=w}this.store.setStoreKey("commands",l),this.store.setStoreKey("chain",d),this.store.setExtensionStore("commands",l),this.store.setExtensionStore("chain",d)}},{key:"onStateUpdate",value:function(e){var t=e.state;this._transaction=t.tr}},{key:"createPlugin",value:function(){return{}}},{key:"customDispatch",value:function(e){return e}},{key:"insertText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pi(e)?Cw(e,n):this.store.createPlaceholderCommand({promise:e,placeholder:{type:"inline"},onSuccess:function(e,r,o){return t.insertText(e,h(h({},n),r))(o)}}).generateCommand()}},{key:"selectText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.tr,o=n.dispatch,i=Hy(e,r.doc);return!(r.selection.anchor===i.anchor&&r.selection.head===i.head&&!t.forceUpdate)&&(null==o||o(r.setSelection(i)),!0)}}},{key:"selectMark",value:function(e){var t=this;return function(n){var r=Fy(n.tr.selection.$from,e);return!!r&&t.store.commands.selectText.original({from:r.from,to:r.to})(n)}}},{key:"delete",value:function(e){return function(t){var n=t.tr,r=t.dispatch,o=null!=e?e:n.selection,i=o.from,a=o.to;return null==r||r(n.delete(i,a)),!0}}},{key:"emptyUpdate",value:function(e){return function(t){var n=t.tr,r=t.dispatch;return r&&(null==e||e(),r(n)),!0}}},{key:"forceUpdate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){var r=t.tr,o=t.dispatch;return null==o||o(e.forceUpdateTransaction.apply(e,[r].concat(n))),!0}}},{key:"updateNodeAttributes",value:function(e,t){return function(n){var r=n.tr,o=n.dispatch;return null==o||o(r.setNodeMarkup(e,void 0,t)),!0}}},{key:"setContent",value:function(e,t){var n=this;return function(r){var o=r.tr,i=r.dispatch,a=n.store.manager.createState({content:e,selection:t});return!!a&&(null==i||i(o.replaceRangeWith(0,o.doc.nodeSize-2,a.doc)),!0)}}},{key:"resetContent",value:function(){var e=this;return function(t){var n=t.tr,r=t.dispatch,o=e.store.manager.createEmptyDoc();return o?e.setContent(o)(t):(null==r||r(n.delete(0,n.doc.nodeSize)),!0)}}},{key:"emptySelection",value:function(){return function(e){var t=e.tr,n=e.dispatch;return!t.selection.empty&&(null==n||n(t.setSelection(ap.near(t.selection.$anchor))),!0)}}},{key:"insertNewLine",value:function(){return function(e){var t=e.dispatch,n=e.tr;return!!Ey(n.selection)&&(null==t||t(n.insertText("\n")),!0)}}},{key:"insertNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r,o,i=n.dispatch,a=n.tr,u=n.state,s=t.attrs,l=t.range,c=t.selection,f=t.replaceEmptyParentBlock,d=void 0!==f&&f,p=Hy(null!=(r=null!=c?c:l)?r:a.selection,a.doc),h=p.from,v=p.to,m=p.$from;if(wy(e)||xy(e)){var g=m.before(m.depth);return null==i||i(d&&h===v&&Iy(m.parent)?a.replaceWith(g,g+m.parent.nodeSize,e):a.replaceWith(h,v,e)),!0}var y=Pi(e)?u.schema.nodes[e]:e;ga(y,{code:pi.SCHEMA,message:"The requested node type ".concat(e," does not exist in the schema.")});var b=null==(o=t.marks)?void 0:o.map((function(e){if(e instanceof cf)return e;var t=Pi(e)?u.schema.marks[e]:e;return ga(t,{code:pi.SCHEMA,message:"The requested mark type ".concat(e," does not exist in the schema.")}),t.create()})),k=y.createAndFill(s,Pi(t.content)?u.schema.text(t.content):t.content,b);return!!k&&(null==i||i(h!==v?a.replaceRangeWith(h,v,k):a.insert(h,k)),!0)}}},{key:"focus",value:function(e){var t=this;return function(n){var r=n.dispatch,o=n.tr,i=t.store.view;if(!1===e)return!1;if(i.hasFocus()&&(void 0===e||!0===e))return!1;if(void 0===e||!0===e){var a=o.selection,u=a.from,s=void 0===u?0:u,l=a.to;e={from:s,to:void 0===l?s:l}}return r&&t.delayedFocus(),t.selectText(e)(n)}}},{key:"blur",value:function(e){var t=this;return function(n){var r=t.store.view;return!!r.hasFocus()&&(requestAnimationFrame((function(){r.dom.blur()})),!e||t.selectText(e)(n))}}},{key:"setBlockNodeType",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return cb(e,t,n,r)}},{key:"toggleWrappingNode",value:function(e,t,n){return lb(e,t,n)}},{key:"toggleBlockNodeItem",value:function(e){return fb(e)}},{key:"wrapInNode",value:function(e,t,n){return sb(e,t,n)}},{key:"applyMark",value:function(e,t,n){return Ew(e,t,n)}},{key:"toggleMark",value:function(e){return Sw(e)}},{key:"removeMark",value:function(e){return vb(e)}},{key:"setMeta",value:function(e,t){return function(n){return n.tr.setMeta(e,t),!0}}},{key:"selectAll",value:function(){return this.selectText("all")}},{key:"copy",value:function(){return function(e){return!e.tr.selection.empty&&(e.dispatch&&document.execCommand("copy"),!0)}}},{key:"paste",value:function(){var e=this;return this.store.createPlaceholderCommand({promise:function(){return navigator.clipboard.readText()},placeholder:{type:"inline"},onSuccess:function(t,n,r){return e.insertNode(Zy({content:t,schema:r.state.schema}),{selection:n})(r)}}).generateCommand()}},{key:"cut",value:function(){return function(e){return!e.tr.selection.empty&&(e.dispatch&&document.execCommand("cut"),!0)}}},{key:"replaceText",value:function(e){return pb(e)}},{key:"getAllCommandOptions",value:function(){var e,t={},n=qe(this.decorated);try{for(n.s();!(e=n.n()).done;){var r=Ye(e.value,2),o=r[0],i=r[1];Wi(i)||(t[o]=i)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getCommandOptions",value:function(e){return this.decorated.get(e)}},{key:"getCommandProp",value:function(){return{tr:this.transaction,dispatch:this.store.view.dispatch,state:this.store.view.state,view:this.store.view}}},{key:"updateDecorated",value:function(e,t){var n;if(t){var r=null!=(n=this.decorated.get(e))?n:{name:""};this.decorated.set(e,h(h({},r),t))}else this.decorated.delete(e)}},{key:"handleIosFocus",value:function(){Bg.isIos&&this.store.view.dom.focus()}},{key:"delayedFocus",value:function(){var e=this;this.handleIosFocus(),requestAnimationFrame((function(){e.store.view.focus(),e.store.view.dispatch(e.transaction.scrollIntoView())}))}},{key:"getForcedUpdates",value:function(e){return this.getCommandMeta(e).forcedUpdates}},{key:"getCommandMeta",value:function(e){var t,n=null!=(t=e.getMeta(this.pluginKey))?t:{};return h(h({},Dw),n)}},{key:"setCommandMeta",value:function(e,t){var n=this.getCommandMeta(e);e.setMeta(this.pluginKey,h(h({},n),t))}},{key:"addCommands",value:function(e){var t,n=e.extensionCommands,r=e.commands,o=e.names,i=e.active,a=qe(Ei(n));try{for(a.s();!(t=a.n()).done;){var u=Ye(t.value,2),s=u[0],l=u[1];ow({name:s,set:o,code:pi.DUPLICATE_COMMAND_NAMES}),ga(!Ow.has(s),{code:pi.DUPLICATE_COMMAND_NAMES,message:"The command name you chose is forbidden."}),r[s]=this.createUnchainedCommand(l,i[s])}}catch(c){a.e(c)}finally{a.f()}}},{key:"unchainedFactory",value:function(e){var t=this;return function(){var n,r=e.shouldDispatch,o=void 0===r||r,i=e.command,a=t.store.view,u=a.state;return o&&(n=a.dispatch),i.apply(void 0,arguments)({state:u,dispatch:n,view:a,tr:u.tr})}}},{key:"createUnchainedCommand",value:function(e,t){var n=this.unchainedFactory({command:e});return n.enabled=this.unchainedFactory({command:e,shouldDispatch:!1}),n.isEnabled=n.enabled,n.original=e,n.active=t,n}},{key:"chainedFactory",value:function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=e.chain,a=e.command,u=e.getTr,s=e.getChain,l=s(),c=t.store.view,f=c.state;return l.push((function(e){return a.apply(void 0,r)({state:f,dispatch:e,view:c,tr:u()})})),i}}}]),n}(lw);Jk([kw()],Aw.prototype,"customDispatch",1),Jk([kw()],Aw.prototype,"insertText",1),Jk([kw()],Aw.prototype,"selectText",1),Jk([kw()],Aw.prototype,"selectMark",1),Jk([kw()],Aw.prototype,"delete",1),Jk([kw()],Aw.prototype,"emptyUpdate",1),Jk([kw()],Aw.prototype,"forceUpdate",1),Jk([kw()],Aw.prototype,"updateNodeAttributes",1),Jk([kw()],Aw.prototype,"setContent",1),Jk([kw()],Aw.prototype,"resetContent",1),Jk([kw()],Aw.prototype,"emptySelection",1),Jk([kw()],Aw.prototype,"insertNewLine",1),Jk([kw()],Aw.prototype,"insertNode",1),Jk([kw()],Aw.prototype,"focus",1),Jk([kw()],Aw.prototype,"blur",1),Jk([kw()],Aw.prototype,"setBlockNodeType",1),Jk([kw()],Aw.prototype,"toggleWrappingNode",1),Jk([kw()],Aw.prototype,"toggleBlockNodeItem",1),Jk([kw()],Aw.prototype,"wrapInNode",1),Jk([kw()],Aw.prototype,"applyMark",1),Jk([kw()],Aw.prototype,"toggleMark",1),Jk([kw()],Aw.prototype,"removeMark",1),Jk([kw()],Aw.prototype,"setMeta",1),Jk([kw({description:function(e){return(0,e.t)(Sb.SELECT_ALL_DESCRIPTION)},label:function(e){return(0,e.t)(Sb.SELECT_ALL_LABEL)},shortcut:di.SelectAll})],Aw.prototype,"selectAll",1),Jk([kw({description:function(e){return(0,e.t)(Sb.COPY_DESCRIPTION)},label:function(e){return(0,e.t)(Sb.COPY_LABEL)},shortcut:di.Copy,icon:"fileCopyLine"})],Aw.prototype,"copy",1),Jk([kw({description:function(e){return(0,e.t)(Sb.PASTE_DESCRIPTION)},label:function(e){return(0,e.t)(Sb.PASTE_LABEL)},shortcut:di.Paste,icon:"clipboardLine"})],Aw.prototype,"paste",1),Jk([kw({description:function(e){return(0,e.t)(Sb.CUT_DESCRIPTION)},label:function(e){return(0,e.t)(Sb.CUT_LABEL)},shortcut:di.Cut,icon:"scissorsFill"})],Aw.prototype,"cut",1),Jk([kw()],Aw.prototype,"replaceText",1),Jk([bw()],Aw.prototype,"getAllCommandOptions",1),Jk([bw()],Aw.prototype,"getCommandOptions",1),Jk([bw()],Aw.prototype,"getCommandProp",1),Aw=Jk([gw({defaultPriority:ci.Highest,defaultOptions:{trackerClassName:"remirror-tracker-position",trackerNodeName:"span"},staticKeys:["trackerClassName","trackerNodeName"]})],Aw);var Dw={forcedUpdates:[]},Ow=new Set(["run","chain","original","raw","enabled","tr"]),_w=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"placeholders",bm.empty),Yk(x(e),"placeholderWidgets",new Map),Yk(x(e),"createPlaceholderCommand",(function(t){var n=Ji(),r=t.promise,o=t.placeholder,i=t.onFailure,a=t.onSuccess;return new xw(r).validate((function(t){return e.addPlaceholder(n,o)(t)})).success((function(t){var r,o=t.state,u=t.tr,s=t.dispatch,l=t.view,c=t.value,f=e.store.helpers.findPlaceholder(n);if(!f){var d=new Error("The placeholder has been removed");return null!=(r=null==i?void 0:i({error:d,state:o,tr:u,dispatch:s,view:l}))&&r}return e.removePlaceholder(n)({state:o,tr:u,view:l,dispatch:function(){}}),a(c,f,{state:o,tr:u,dispatch:s,view:l})})).failure((function(t){var r;return e.removePlaceholder(n)(h(h({},t),{},{dispatch:function(){}})),null!=(r=null==i?void 0:i(t))&&r}))})),e}return g(n,[{key:"name",get:function(){return"decorations"}},{key:"onCreate",value:function(){this.store.setExtensionStore("createPlaceholderCommand",this.createPlaceholderCommand)}},{key:"createPlugin",value:function(){var e=this;return{state:{init:function(){},apply:function(t){var n,r,o,i,a,u,s=e.getMeta(t),l=s.added,c=s.clearTrackers,f=s.removed,d=s.updated;if(c){e.placeholders=bm.empty;var p,v=qe(e.placeholderWidgets);try{for(v.s();!(p=v.n()).done;){var m=Ye(p.value,2)[1];null==(r=(n=m.spec).onDestroy)||r.call(n,e.store.view,m.spec.element)}}catch(R){v.e(R)}finally{v.f()}e.placeholderWidgets.clear()}else{e.placeholders=e.placeholders.map(t.mapping,t.doc,{onRemove:function(t){var n,r,o=e.placeholderWidgets.get(t.id);o&&(null==(r=(n=o.spec).onDestroy)||r.call(n,e.store.view,o.spec.element))}});var g,y=qe(e.placeholderWidgets);try{for(y.s();!(g=y.n()).done;){var b=Ye(g.value,2)[1];null==(i=(o=b.spec).onUpdate)||i.call(o,e.store.view,b.from,b.spec.element,b.spec.data)}}catch(R){y.e(R)}finally{y.f()}var k,w=qe(l);try{for(w.s();!(k=w.n()).done;){var x=k.value;"inline"!==x.type?"node"!==x.type?"widget"!==x.type||e.addWidgetPlaceholder(x,t):e.addNodePlaceholder(x,t):e.addInlinePlaceholder(x,t)}}catch(R){w.e(R)}finally{w.f()}var S,E=qe(d);try{for(E.s();!(S=E.n()).done;){var C=S.value,A=C.id,D=C.data,O=e.placeholderWidgets.get(A);if(O){var _=mm.widget(O.from,O.spec.element,h(h({},O.spec),{},{data:D}));e.placeholders=e.placeholders.remove([O]).add(t.doc,[_]),e.placeholderWidgets.set(A,_)}}}catch(R){E.e(R)}finally{E.f()}var T,M=qe(f);try{var N=function(){var t=T.value,n=e.placeholders.find(void 0,void 0,(function(e){return e.id===t&&e.__type===Mw})),r=e.placeholderWidgets.get(t);r&&(null==(u=(a=r.spec).onDestroy)||u.call(a,e.store.view,r.spec.element)),e.placeholders=e.placeholders.remove(n),e.placeholderWidgets.delete(t)};for(M.s();!(T=M.n()).done;)N()}catch(R){M.e(R)}finally{M.f()}}}},props:{decorations:function(t){var n=e.options.decorations(t);n=n.add(t.doc,e.placeholders.find());var r,o=qe(e.store.extensions);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.createDecorations){var a=i.createDecorations(t).find();n=n.add(t.doc,a)}}}catch(u){o.e(u)}finally{o.f()}return n},handleDOMEvents:{blur:function(t){return e.options.persistentSelectionClass&&t.dispatch(t.state.tr.setMeta(Nw,!1)),!1},focus:function(t){return e.options.persistentSelectionClass&&t.dispatch(t.state.tr.setMeta(Nw,!0)),!1}}}}}},{key:"updateDecorations",value:function(){return function(e){var t=e.tr,n=e.dispatch;return null==n||n(t),!0}}},{key:"addPlaceholder",value:function(e,t,n){var r=this;return function(o){var i=o.dispatch,a=o.tr;return!!r.addPlaceholderTransaction(e,t,a,!i)&&(null==i||i(n?a.deleteSelection():a),!0)}}},{key:"updatePlaceholder",value:function(e,t){var n=this;return function(r){var o=r.dispatch,i=r.tr;return!!n.updatePlaceholderTransaction({id:e,data:t,tr:i,checkOnly:!o})&&(null==o||o(i),!0)}}},{key:"removePlaceholder",value:function(e){var t=this;return function(n){var r=n.dispatch,o=n.tr;return!!t.removePlaceholderTransaction({id:e,tr:o,checkOnly:!r})&&(null==r||r(o),!0)}}},{key:"clearPlaceholders",value:function(){var e=this;return function(t){var n=t.tr,r=t.dispatch;return!!e.clearPlaceholdersTransaction({tr:n,checkOnly:!r})&&(null==r||r(n),!0)}}},{key:"findPlaceholder",value:function(e){return this.findAllPlaceholders().get(e)}},{key:"findAllPlaceholders",value:function(){var e,t=new Map,n=qe(this.placeholders.find(void 0,void 0,(function(e){return e.__type===Mw})));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.set(r.spec.id,{from:r.from,to:r.to})}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"createDecorations",value:function(e){var t,n,r,o=this.options.persistentSelectionClass;return!o||(null==(t=this.store.view)?void 0:t.hasFocus())||(null==(r=(n=this.store.helpers).isInteracting)?void 0:r.call(n))?bm.empty:function(e,t,n){var r=e.selection,o=e.doc;if(r.empty)return t;var i=r.from,a=r.to,u=Oy(r)?mm.node(i,a,n):mm.inline(i,a,n);return t.add(o,[u])}(e,bm.empty,{class:Pi(o)?o:"selection"})}},{key:"onApplyState",value:function(){}},{key:"addWidgetPlaceholder",value:function(e,t){var n,r=e.pos,o=e.createElement,i=e.onDestroy,a=e.onUpdate,u=e.className,s=e.nodeName,l=e.id,c=e.type,f=null!=(n=null==o?void 0:o(this.store.view,r))?n:document.createElement(s);f.classList.add(u);var d=mm.widget(r,f,{id:l,__type:Mw,type:c,element:f,onDestroy:i,onUpdate:a});this.placeholderWidgets.set(l,d),this.placeholders=this.placeholders.add(t.doc,[d])}},{key:"addInlinePlaceholder",value:function(e,t){var n,r=e.from,o=void 0===r?t.selection.from:r,i=e.to,a=void 0===i?t.selection.to:i,u=e.className,s=e.nodeName,l=e.id,c=e.type;if(o===a){var f=document.createElement(s);f.classList.add(u),n=mm.widget(o,f,{id:l,type:c,__type:Mw,widget:f})}else n=mm.inline(o,a,{nodeName:s,class:u},{id:l,__type:Mw});this.placeholders=this.placeholders.add(t.doc,[n])}},{key:"addNodePlaceholder",value:function(e,t){var n=e.pos,r=e.className,o=e.nodeName,i=e.id,a=Ii(n)?t.doc.resolve(n):t.selection.$from,u=Ii(n)?a.nodeAfter?{pos:n,end:a.nodeAfter.nodeSize}:void 0:function(e){var t=e.depth,n=t>0?e.before(t):0,r=e.node(t);return{pos:n,start:e.start(t),node:r,end:n+r.nodeSize,depth:t}}(a);if(u){var s=mm.node(u.pos,u.end,{nodeName:o,class:r},{id:i,__type:Mw});this.placeholders=this.placeholders.add(t.doc,[s])}}},{key:"withRequiredBase",value:function(e,t){var n=this.options,r=n.placeholderNodeName,o=n.placeholderClassName,a=t.nodeName,u=void 0===a?r:a,s=t.className,l=i(t,Vk);return h(h({nodeName:u,className:(s?[o,s]:[o]).join(" ")},l),{},{id:e})}},{key:"getMeta",value:function(e){var t,n=null!=(t=e.getMeta(this.pluginKey))?t:{};return h(h({},Tw),n)}},{key:"setMeta",value:function(e,t){var n=this.getMeta(e);e.setMeta(this.pluginKey,h(h({},n),t))}},{key:"addPlaceholderTransaction",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.findPlaceholder(e);if(o)return!1;if(r)return!0;var i=this.getMeta(n),a=i.added;return this.setMeta(n,{added:[].concat(d(a),[this.withRequiredBase(e,t)])}),!0}},{key:"updatePlaceholderTransaction",value:function(e){var t=e.id,n=e.tr,r=e.checkOnly,o=void 0!==r&&r,i=e.data;if(!this.findPlaceholder(t))return!1;if(o)return!0;var a=this.getMeta(n).updated;return this.setMeta(n,{updated:Qi([].concat(d(a),[{id:t,data:i}]))}),!0}},{key:"removePlaceholderTransaction",value:function(e){var t=e.id,n=e.tr,r=e.checkOnly,o=void 0!==r&&r;if(!this.findPlaceholder(t))return!1;if(o)return!0;var i=this.getMeta(n).removed;return this.setMeta(n,{removed:Qi([].concat(d(i),[t]))}),!0}},{key:"clearPlaceholdersTransaction",value:function(e){var t=e.tr,n=e.checkOnly,r=void 0!==n&&n;return this.getPluginState()!==bm.empty&&(r||this.setMeta(t,{clearTrackers:!0}),!0)}}]),n}(lw);Jk([kw()],_w.prototype,"updateDecorations",1),Jk([kw()],_w.prototype,"addPlaceholder",1),Jk([kw()],_w.prototype,"updatePlaceholder",1),Jk([kw()],_w.prototype,"removePlaceholder",1),Jk([kw()],_w.prototype,"clearPlaceholders",1),Jk([bw()],_w.prototype,"findPlaceholder",1),Jk([bw()],_w.prototype,"findAllPlaceholders",1),_w=Jk([gw({defaultOptions:{persistentSelectionClass:void 0,placeholderClassName:"placeholder",placeholderNodeName:"span"},staticKeys:["placeholderClassName","placeholderNodeName"],handlerKeys:["decorations"],handlerKeyOptions:{decorations:{reducer:{accumulator:function(e,t,n){return e.add(n.doc,t.find())},getDefault:function(){return bm.empty}}}},defaultPriority:ci.Low})],_w);var Tw={added:[],updated:[],clearTrackers:!1,removed:[]},Mw="placeholderDecoration",Nw="persistentSelectionFocus";var Rw=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"docChanged"}},{key:"onStateUpdate",value:function(e){var t=e.firstUpdate,n=e.transactions,r=e.tr;t||(null!=n?n:[r]).some((function(e){return null==e?void 0:e.docChanged}))&&this.options.docChanged(e)}}]),n}(lw);Rw=Jk([gw({handlerKeys:["docChanged"],handlerKeyOptions:{docChanged:{earlyReturnValue:!1}},defaultPriority:ci.Lowest})],Rw);var Pw=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"helpers"}},{key:"onCreate",value:function(){var e,t,n,r=this;this.store.setStringHandler("text",this.textToProsemirrorNode.bind(this)),this.store.setStringHandler("html",Zy);var o,i=Oi(),a=Oi(),u=Oi(),s=new Set,l=qe(this.store.extensions);try{var c=function(){var l=o.value;vw(l)&&(a[l.name]=function(e){return fy({state:r.store.getState(),type:l.type,attrs:e})},u[l.name]=function(e){var t;return null==(t=dy({state:r.store.getState(),type:l.type,attrs:e}))?void 0:t.node.attrs}),mw(l)&&(a[l.name]=function(e){return _y({trState:r.store.getState(),type:l.type,attrs:e})},u[l.name]=function(e){var t=Fy(r.store.getState().selection.$from,l.type);return t&&e?vy(t.mark,e)?t.mark.attrs:void 0:null==t?void 0:t.mark.attrs});for(var c=null!=(t=null==(e=l.createHelpers)?void 0:e.call(l))?t:{},f=0,d=Object.keys(null!=(n=l.decoratedHelpers)?n:{});f<d.length;f++){var p=d[f];c[p]=l[p].bind(l)}if(Wi(c))return"continue";var h,v=qe(Ei(c));try{for(v.s();!(h=v.n()).done;){var m=Ye(h.value,2),g=m[0],y=m[1];ow({name:g,set:s,code:pi.DUPLICATE_HELPER_NAMES}),i[g]=y}}catch(b){v.e(b)}finally{v.f()}};for(l.s();!(o=l.n()).done;)c()}catch(f){l.e(f)}finally{l.f()}this.store.setStoreKey("attrs",u),this.store.setStoreKey("active",a),this.store.setStoreKey("helpers",i),this.store.setExtensionStore("attrs",u),this.store.setExtensionStore("active",a),this.store.setExtensionStore("helpers",i)}},{key:"isSelectionEmpty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return cy(e)}},{key:"isViewEditable",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return null!=(n=null==(t=(e=this.store.view.props).editable)?void 0:t.call(e,r))&&n}},{key:"getStateJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return e.toJSON()}},{key:"getJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return e.doc.toJSON()}},{key:"getRemirrorJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return this.getJSON(e)}},{key:"insertHtml",value:function(e,t){var n=this;return function(r){var o=r.state,i=Zy({content:e,schema:o.schema,fragment:!0});return n.store.commands.insertNode.original(i,t)(r)}}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lineBreakDivider,n=void 0===t?"\n\n":t,r=e.state,o=void 0===r?this.store.getState():r;return o.doc.textBetween(0,o.doc.content.size,n,ri)}},{key:"getTextBetween",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.store.getState().doc;return n.textBetween(e,t,"\n\n",ri)}},{key:"getHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return Qy(e.doc,this.store.document)}},{key:"textToProsemirrorNode",value:function(e){var t="<pre>".concat(e.content,"</pre>");return this.store.stringHandlers.html(h(h({},e),{},{content:t}))}}]),n}(lw);Jk([bw()],Pw.prototype,"isSelectionEmpty",1),Jk([bw()],Pw.prototype,"isViewEditable",1),Jk([bw()],Pw.prototype,"getStateJSON",1),Jk([bw()],Pw.prototype,"getJSON",1),Jk([bw()],Pw.prototype,"getRemirrorJSON",1),Jk([kw()],Pw.prototype,"insertHtml",1),Jk([bw()],Pw.prototype,"getText",1),Jk([bw()],Pw.prototype,"getTextBetween",1),Jk([bw()],Pw.prototype,"getHTML",1),Pw=Jk([gw({})],Pw);var Iw=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"inputRules"}},{key:"onCreate",value:function(){this.store.setExtensionStore("rebuildInputRules",this.rebuildInputRules.bind(this))}},{key:"createExternalPlugins",value:function(){return[this.generateInputRulesPlugin()]}},{key:"generateInputRulesPlugin",value:function(){var e,t,n,r=[],o=this.store.markTags[ui.ExcludeInputRules],i=qe(this.store.extensions);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(null==(e=this.store.managerSettings.exclude)?void 0:e.inputRules)&&a.createInputRules&&!(null==(t=a.options.exclude)?void 0:t.inputRules)){var u,s=qe(a.createInputRules());try{for(s.s();!(u=s.n()).done;){var l=u.value;l.shouldSkip=this.options.shouldSkipInputRule,l.invalidMarks=o,r.push(l)}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){i.e(c)}finally{i.f()}return function(e){var t=e.rules,n=new wp({state:{init:function(){return null},apply:function(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return Pp(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&Pp(e,r.pos,r.pos,"",t,n)}))}}},isInputRules:!0});return n}({rules:r})}},{key:"rebuildInputRules",value:function(){this.store.updateExtensionPlugins(this)}}]),n}(lw);Iw=Jk([gw({defaultPriority:ci.Default,handlerKeys:["shouldSkipInputRule"],handlerKeyOptions:{shouldSkipInputRule:{earlyReturnValue:!0}}})],Iw);var Fw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"extraKeyBindings",[]),Yk(x(e),"backwardMarkExitTracker",new Map),Yk(x(e),"keydownHandler",null),Yk(x(e),"onAddCustomHandler",(function(t){var n,r,o=t.keymap;if(o)return e.extraKeyBindings=[].concat(d(e.extraKeyBindings),[o]),null==(r=(n=e.store).rebuildKeymap)||r.call(n),function(){var t,n;e.extraKeyBindings=e.extraKeyBindings.filter((function(e){return e!==o})),null==(n=(t=e.store).rebuildKeymap)||n.call(t)}})),Yk(x(e),"rebuildKeymap",(function(){e.setupKeydownHandler()})),e}return g(n,[{key:"name",get:function(){return"keymap"}},{key:"shortcutMap",get:function(){var e=this.options.shortcuts;return Pi(e)?$w[e]:e}},{key:"onCreate",value:function(){this.store.setExtensionStore("rebuildKeymap",this.rebuildKeymap)}},{key:"createExternalPlugins",value:function(){var e,t=this;return(null==(e=this.store.managerSettings.exclude)?void 0:e.keymap)?[]:(this.setupKeydownHandler(),[new wp({props:{handleKeyDown:function(e,n){var r;return null==(r=t.keydownHandler)?void 0:r.call(t,e,n)}}})])}},{key:"setupKeydownHandler",value:function(){var e=this.generateKeymapBindings();this.keydownHandler=Ok(e)}},{key:"generateKeymapBindings",value:function(){var e,t,n,r,o=this,i=[],a=this.shortcutMap,u=this.store.getExtension(Aw),s=function(e){return function(t){return Lw({shortcut:t,map:a,store:o.store,options:e.options})}},l=qe(this.store.extensions);try{for(l.s();!(r=l.n()).done;){var c=r.value,f=null!=(e=c.decoratedKeybindings)?e:{};if(!(null==(t=c.options.exclude)?void 0:t.keymap)){c.createKeymap&&i.push(jw(c.createKeymap(s(c)),a));var p,h=qe(Ei(f));try{for(h.s();!(p=h.n()).done;){var v=Ye(p.value,2),m=v[0],g=v[1];if(!g.isActive||g.isActive(c.options,this.store)){var y,b=c[m].bind(c),k=Lw({shortcut:g.shortcut,map:a,options:c.options,store:this.store}),w=Fi(g.priority)?g.priority(c.options,this.store):null!=(n=g.priority)?n:ci.Low,x=Oi(),S=qe(k);try{for(S.s();!(y=S.n()).done;){x[y.value]=b}}catch(C){S.e(C)}finally{S.f()}i.push([w,x]),g.command&&u.updateDecorated(g.command,{shortcut:k})}}}catch(C){h.e(C)}finally{h.f()}}}}catch(C){l.e(C)}finally{l.f()}var E=function(e){return hy(e,(function(e){return function(t,n,r){return e({state:t,dispatch:n,view:r,tr:t.tr,next:function(){return!1}})}}))}(this.sortKeymaps([].concat(d(this.extraKeyBindings),i)));return E}},{key:"arrowRightShortcut",value:function(e){var t=this.store.markTags[ui.PreventExits],n=this.store.nodeTags[ui.PreventExits];return this.exitMarkForwards(t,n)(e)}},{key:"arrowLeftShortcut",value:function(e){var t=this.store.markTags[ui.PreventExits],n=this.store.nodeTags[ui.PreventExits];return py(this.exitNodeBackwards(n),this.exitMarkBackwards(t,n))(e)}},{key:"backspace",value:function(e){var t=this.store.markTags[ui.PreventExits],n=this.store.nodeTags[ui.PreventExits];return py(this.exitNodeBackwards(n,!0),this.exitMarkBackwards(t,n,!0))(e)}},{key:"createKeymap",value:function(){var e=this.options,t=e.selectParentNodeOnEscape,n=e.undoInputRuleOnBackspace,r=e.excludeBaseKeymap,o=Oi();if(!r){var i,a=qe(Ei(mk));try{for(a.s();!(i=a.n()).done;){var u=Ye(i.value,2),s=u[0],l=u[1];o[s]=Kb(l)}}catch(c){a.e(c)}finally{a.f()}}return n&&mk.Backspace&&(o.Backspace=Kb(ck(Ip,mk.Backspace))),t&&(o.Escape=Kb(ok)),[ci.Low,o]}},{key:"getNamedShortcut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.startsWith("_|")?Lw({shortcut:e,map:this.shortcutMap,store:this.store,options:t}):[e]}},{key:"onSetOptions",value:function(e){var t,n,r=e.changes;(r.excludeBaseKeymap.changed||r.selectParentNodeOnEscape.changed||r.undoInputRuleOnBackspace.changed)&&(null==(n=(t=this.store).rebuildKeymap)||n.call(t))}},{key:"sortKeymaps",value:function(e){return oa(e.map((function(e){return Hi(e)?e:[ci.Default,e]})),(function(e,t){return t[0]-e[0]})).map((function(e){return e[1]}))}},{key:"exitMarkForwards",value:function(e,t){return function(n){var r,o=n.tr,i=n.dispatch;if(!(Ey(r=o.selection)&&r.$cursor&&r.$cursor.parentOffset>=r.$cursor.parent.content.size))return!1;if(sy({selection:o.selection,types:t}))return!1;var a=o.selection.$from.marks().filter((function(t){return!e.includes(t.type.name)}));if(Vi(a))return!1;if(!i)return!0;var u,s=qe(a);try{for(s.s();!(u=s.n()).done;){var l=u.value;o.removeStoredMark(l)}}catch(c){s.e(c)}finally{s.f()}return i(o.insertText(" ",o.selection.from)),!0}}},{key:"exitNodeBackwards",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){var o=r.tr;if(!(n?ab:ib)(o.selection))return!1;var i=o.selection.$anchor.node();return!(!Iy(i)||Py(i)||e.includes(i.type.name))&&t.store.commands.toggleBlockNodeItem.original({type:i.type})(r)}}},{key:"exitMarkBackwards",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(o){var i,a=o.tr,u=o.dispatch;if(!(r?ab:ib)(a.selection)||n.backwardMarkExitTracker.has(a.selection.anchor))return n.backwardMarkExitTracker.clear(),!1;if(sy({selection:a.selection,types:t}))return!1;var s=[].concat(d(null!=(i=a.storedMarks)?i:[]),d(a.selection.$from.marks())).filter((function(t){return!e.includes(t.type.name)}));if(Vi(s))return!1;if(!u)return!0;var l,c=qe(s);try{for(c.s();!(l=c.n()).done;){var f=l.value;a.removeStoredMark(f)}}catch(p){c.e(p)}finally{c.f()}return n.backwardMarkExitTracker.set(a.selection.anchor,!0),u(a),!0}}}]),n}(lw);function Lw(e){var t=e.shortcut,n=e.map,r=e.options,o=e.store;return Pi(t)?[Bw(t,n)]:Hi(t)?t.map((function(e){return Bw(e,n)})):Lw({shortcut:t=t(r,o),map:n,options:r,store:o})}function Bw(e,t){return function(e){return Di(Ai(di),e)}(e)?t[e]:e}function jw(e,t){var n,r,o={};if(Hi(e)){var i=Ye(e,2);r=i[0],n=i[1]}else n=e;var a,u=qe(Ei(n));try{for(u.s();!(a=u.n()).done;){var s=Ye(a.value,2),l=s[0],c=s[1];o[Bw(l,t)]=c}}catch(f){u.e(f)}finally{u.f()}return Ri(r)?o:[r,o]}Jk([ww({shortcut:"ArrowRight",isActive:function(e){return e.exitMarksOnArrowPress}})],Fw.prototype,"arrowRightShortcut",1),Jk([ww({shortcut:"ArrowLeft",isActive:function(e){return e.exitMarksOnArrowPress}})],Fw.prototype,"arrowLeftShortcut",1),Jk([ww({shortcut:"Backspace",isActive:function(e){return e.exitMarksOnArrowPress}})],Fw.prototype,"backspace",1),Jk([bw()],Fw.prototype,"getNamedShortcut",1),Fw=Jk([gw({defaultPriority:ci.Low,defaultOptions:{shortcuts:"default",undoInputRuleOnBackspace:!0,selectParentNodeOnEscape:!1,excludeBaseKeymap:!1,exitMarksOnArrowPress:!0},customHandlerKeys:["keymap"]})],Fw);var zw=(s($k={},di.Copy,"Mod-c"),s($k,di.Cut,"Mod-x"),s($k,di.Paste,"Mod-v"),s($k,di.PastePlain,"Mod-Shift-v"),s($k,di.SelectAll,"Mod-a"),s($k,di.Undo,"Mod-z"),s($k,di.Redo,Bg.isMac?"Shift-Mod-z":"Mod-y"),s($k,di.Bold,"Mod-b"),s($k,di.Italic,"Mod-i"),s($k,di.Underline,"Mod-u"),s($k,di.Strike,"Mod-d"),s($k,di.Code,"Mod-`"),s($k,di.Paragraph,"Mod-Shift-0"),s($k,di.H1,"Mod-Shift-1"),s($k,di.H2,"Mod-Shift-2"),s($k,di.H3,"Mod-Shift-3"),s($k,di.H4,"Mod-Shift-4"),s($k,di.H5,"Mod-Shift-5"),s($k,di.H6,"Mod-Shift-6"),s($k,di.TaskList,"Mod-Shift-7"),s($k,di.BulletList,"Mod-Shift-8"),s($k,di.OrderedList,"Mod-Shift-9"),s($k,di.Quote,"Mod->"),s($k,di.Divider,"Mod-Shift-|"),s($k,di.Codeblock,"Mod-Shift-~"),s($k,di.ClearFormatting,"Mod-Shift-C"),s($k,di.Superscript,"Mod-."),s($k,di.Subscript,"Mod-,"),s($k,di.LeftAlignment,"Mod-Shift-L"),s($k,di.CenterAlignment,"Mod-Shift-E"),s($k,di.RightAlignment,"Mod-Shift-R"),s($k,di.JustifyAlignment,"Mod-Shift-J"),s($k,di.InsertLink,"Mod-k"),s($k,di.Find,"Mod-f"),s($k,di.FindBackwards,"Mod-Shift-f"),s($k,di.FindReplace,"Mod-Shift-H"),s($k,di.AddFootnote,"Mod-Alt-f"),s($k,di.AddComment,"Mod-Alt-m"),s($k,di.ContextMenu,"Mod-Shift-\\"),s($k,di.IncreaseFontSize,"Mod-Shift-."),s($k,di.DecreaseFontSize,"Mod-Shift-,"),s($k,di.IncreaseIndent,"Tab"),s($k,di.DecreaseIndent,"Shift-Tab"),s($k,di.Shortcuts,"Mod-/"),s($k,di.Format,Bg.isMac?"Alt-Shift-f":"Shift-Ctrl-f"),$k),$w={default:zw,googleDoc:h(h({},zw),{},(s(Uk={},di.Strike,"Mod-Shift-S"),s(Uk,di.Code,"Mod-Shift-M"),s(Uk,di.Paragraph,"Mod-Alt-0"),s(Uk,di.H1,"Mod-Alt-1"),s(Uk,di.H2,"Mod-Alt-2"),s(Uk,di.H3,"Mod-Alt-3"),s(Uk,di.H4,"Mod-Alt-4"),s(Uk,di.H5,"Mod-Alt-5"),s(Uk,di.H6,"Mod-Alt-6"),s(Uk,di.OrderedList,"Mod-Alt-7"),s(Uk,di.BulletList,"Mod-Alt-8"),s(Uk,di.Quote,"Mod-Alt-9"),s(Uk,di.ClearFormatting,"Mod-\\"),s(Uk,di.IncreaseIndent,"Mod-["),s(Uk,di.DecreaseIndent,"Mod-]"),Uk))},Uw=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"nodeViews"}},{key:"createPlugin",value:function(){var e,t,n=[],r=Oi(),o=qe(this.store.extensions);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(i.createNodeViews){var a=i.createNodeViews();n.unshift(Fi(a)?s({},i.name,a):a)}}}catch(f){o.e(f)}finally{o.f()}n.unshift(null!=(e=this.store.managerSettings.nodeViews)?e:{});for(var u=0,l=n;u<l.length;u++){var c=l[u];Object.assign(r,c)}return{props:{nodeViews:r}}}}]),n}(lw),Ww=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"pasteRules"}},{key:"createExternalPlugins",value:function(){return[this.generatePasteRulesPlugin()]}},{key:"generatePasteRulesPlugin",value:function(){var e,t,n,r=[],o=qe(this.store.extensions);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(!(null==(e=this.store.managerSettings.exclude)?void 0:e.pasteRules)&&i.createPasteRules&&!(null==(t=i.options.exclude)?void 0:t.pasteRules)){var a=i.createPasteRules(),u=Hi(a)?a:[a];r.push.apply(r,d(u))}}}catch(s){o.e(s)}finally{o.f()}return _k(r)}}]),n}(lw),Hw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"plugins",[]),Yk(x(e),"managerPlugins",[]),Yk(x(e),"applyStateHandlers",[]),Yk(x(e),"initStateHandlers",[]),Yk(x(e),"appendTransactionHandlers",[]),Yk(x(e),"pluginKeys",Oi()),Yk(x(e),"stateGetters",new Map),Yk(x(e),"getPluginStateCreator",(function(t){return function(n){return t.getState(null!=n?n:e.store.getState())}})),Yk(x(e),"getStateByName",(function(t){var n=e.stateGetters.get(t);return ga(n,{message:"No plugin exists for the requested extension name."}),n()})),e}return g(n,[{key:"name",get:function(){return"plugins"}},{key:"onCreate",value:function(){var e=this.store,t=e.setStoreKey,n=e.setExtensionStore,r=e.managerSettings,o=e.extensions;this.updateExtensionStore();var i=r.plugins,a=void 0===i?[]:i;this.updatePlugins(a,this.managerPlugins);var u,s=qe(o);try{for(s.s();!(u=s.n()).done;){var l=u.value;l.onApplyState&&this.applyStateHandlers.push(l.onApplyState.bind(l)),l.onInitState&&this.initStateHandlers.push(l.onInitState.bind(l)),l.onAppendTransaction&&this.appendTransactionHandlers.push(l.onAppendTransaction.bind(l)),this.extractExtensionPlugins(l)}}catch(c){s.e(c)}finally{s.f()}this.managerPlugins=a,this.store.setStoreKey("plugins",this.plugins),t("pluginKeys",this.pluginKeys),t("getPluginState",this.getStateByName),n("getPluginState",this.getStateByName)}},{key:"createPlugin",value:function(){var e=this;return{appendTransaction:function(t,n,r){var o,i=r.tr,a={previousState:n,tr:i,transactions:t,state:r},u=qe(e.appendTransactionHandlers);try{for(u.s();!(o=u.n()).done;){(0,o.value)(a)}}catch(s){u.e(s)}finally{u.f()}return e.options.appendTransaction(a),i.docChanged||i.steps.length>0||i.selectionSet||i.storedMarksSet?i:void 0},state:{init:function(t,n){var r,o=qe(e.initStateHandlers);try{for(o.s();!(r=o.n()).done;){(0,r.value)(n)}}catch(i){o.e(i)}finally{o.f()}},apply:function(t,n,r,o){var i,a={previousState:r,state:o,tr:t},u=qe(e.applyStateHandlers);try{for(u.s();!(i=u.n()).done;){(0,i.value)(a)}}catch(s){u.e(s)}finally{u.f()}e.options.applyState(a)}}}}},{key:"extractExtensionPlugins",value:function(e){var t,n;if(!(!e.createPlugin&&!e.createExternalPlugins||(null==(t=this.store.managerSettings.exclude)?void 0:t.plugins)||(null==(n=e.options.exclude)?void 0:n.plugins))){if(e.createPlugin){var r=new Ep(e.name);this.pluginKeys[e.name]=r;var o=this.getPluginStateCreator(r);e.pluginKey=r,e.getPluginState=o,this.stateGetters.set(e.name,o),this.stateGetters.set(e.constructor,o);var i=h(h({},e.createPlugin()),{},{key:r}),a=new wp(i);this.updatePlugins([a],e.plugin?[e.plugin]:void 0),e.plugin=a}if(e.createExternalPlugins){var u=e.createExternalPlugins();this.updatePlugins(u,e.externalPlugins),e.externalPlugins=u}}}},{key:"updatePlugins",value:function(e,t){if(t&&!Vi(t))if(e.length===t.length){var n,r=new Map,o=qe(e.entries());try{for(o.s();!(n=o.n()).done;){var i=Ye(n.value,2),a=i[0],u=i[1];r.set(wi(t,a),u)}}catch(s){o.e(s)}finally{o.f()}this.plugins=this.plugins.map((function(e){return t.includes(e)?r.get(e):e}))}else this.plugins=[].concat(d(this.plugins.filter((function(e){return!t.includes(e)}))),d(e));else this.plugins=[].concat(d(this.plugins),d(e))}},{key:"updateExtensionStore",value:function(){var e=this.store.setExtensionStore;e("updatePlugins",this.updatePlugins.bind(this)),e("dispatchPluginUpdate",this.dispatchPluginUpdate.bind(this)),e("updateExtensionPlugins",this.updateExtensionPlugins.bind(this))}},{key:"updateExtensionPlugins",value:function(e){var t=pw(e)?e:function(e){return gy(e)&&yy(e,[li.PlainExtensionConstructor,li.MarkExtensionConstructor,li.NodeExtensionConstructor])}(e)?this.store.manager.getExtension(e):this.store.extensions.find((function(t){return t.name===e}));ga(t,{code:pi.INVALID_MANAGER_EXTENSION,message:"The extension ".concat(e," does not exist within the editor.")}),this.extractExtensionPlugins(t),this.store.setStoreKey("plugins",this.plugins),this.dispatchPluginUpdate()}},{key:"dispatchPluginUpdate",value:function(){ga(this.store.phase>=fi.EditorView,{code:pi.MANAGER_PHASE_ERROR,message:"`dispatchPluginUpdate` should only be called after the view has been added to the manager."});var e=this.store,t=e.view;(0,e.updateState)(t.state.reconfigure({plugins:this.plugins}))}}]),n}(lw);Hw=Jk([gw({defaultPriority:ci.Highest,handlerKeys:["applyState","appendTransaction"]})],Hw);var Vw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"dynamicAttributes",{marks:Oi(),nodes:Oi()}),e}return g(n,[{key:"name",get:function(){return"schema"}},{key:"onCreate",value:function(){var e,t=this,n=this.store,r=n.managerSettings,o=n.tags,i=n.markNames,a=n.nodeNames,u=n.extensions,l=r.defaultBlockNode,c=r.disableExtraAttributes,f=r.nodeOverride,p=r.markOverride;if(r.schema){var v=function(e){for(var t=Oi(),n=Oi(),r=0,o=Object.entries(e.nodes);r<o.length;r++){var i=Ye(o[r],2),a=i[0],u=i[1];t[a]=u.spec}for(var s=0,l=Object.entries(e.marks);s<l.length;s++){var c=Ye(l[s],2),f=c[0],d=c[1];n[f]=d.spec}return{nodes:t,marks:n}}(r.schema),m=v.nodes,g=v.marks;this.addSchema(r.schema,m,g)}else{var y,b,k=(y=l)&&o[ui.Block].includes(y)?s({doc:Oi()},l,Oi()):Oi(),w=Oi(),x=function(e){var t,n,r=e.settings,o=e.gatheredSchemaAttributes,i=e.nodeNames,a=e.markNames,u=e.tags,s=Oi();if(r.disableExtraAttributes)return s;var l,c=[].concat(d(o),d(null!=(t=r.extraAttributes)?t:[])),f=qe(null!=c?c:[]);try{for(f.s();!(l=f.n()).done;){var p,v=l.value,m=qe(Kw({identifiers:v.identifiers,nodeNames:i,markNames:a,tags:u}));try{for(m.s();!(p=m.n()).done;){var g=p.value,y=null!=(n=s[g])?n:{};s[g]=h(h({},y),v.attributes)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){f.e(b)}finally{f.f()}return s}({settings:r,gatheredSchemaAttributes:this.gatherExtraAttributes(u),nodeNames:a,markNames:i,tags:o}),S=qe(u);try{var E=function(){var n=b.value;x[n.name]=h(h({},x[n.name]),n.options.extraAttributes);var r=!0===c||!0===n.options.disableExtraAttributes||!0===n.constructor.disableExtraAttributes;if(vw(n)){var o=qw({createExtensionSpec:function(e,t){return n.createNodeSpec(e,t)},extraAttributes:wi(x,n.name),override:h(h({},f),n.options.nodeOverride),ignoreExtraAttributes:r,name:n.constructorName,tags:n.tags}),i=o.spec,a=o.dynamic;n.spec=i,k[n.name]=i,Object.keys(a).length>0&&(t.dynamicAttributes.nodes[n.name]=a)}if(mw(n)){var u=qw({createExtensionSpec:function(e,t){return n.createMarkSpec(e,t)},extraAttributes:wi(x,n.name),override:h(h({},p),n.options.markOverride),ignoreExtraAttributes:r,name:n.constructorName,tags:null!=(e=n.tags)?e:[]}),s=u.spec,l=u.dynamic;n.spec=s,w[n.name]=s,Object.keys(l).length>0&&(t.dynamicAttributes.marks[n.name]=l)}};for(S.s();!(b=S.n()).done;)E()}catch(A){S.e(A)}finally{S.f()}var C=new Jf({nodes:k,marks:w,topNode:"doc"});this.addSchema(C,k,w)}}},{key:"createPlugin",value:function(){var e=this;return{appendTransaction:function(t,n,r){var o=r.tr;return t.some((function(e){return e.docChanged}))?0===Object.keys(e.dynamicAttributes.nodes).length&&0===Object.keys(e.dynamicAttributes.marks).length?null:(o.doc.descendants((function(t,n){return e.checkAndUpdateDynamicNodes(t,n,o),e.checkAndUpdateDynamicMarks(t,n,o),!0})),o.steps.length>0?o:null):null}}}},{key:"addSchema",value:function(e,t,n){this.store.setStoreKey("nodes",t),this.store.setStoreKey("marks",n),this.store.setStoreKey("schema",e),this.store.setExtensionStore("schema",e),this.store.setStoreKey("defaultBlockNode",Ry(e).name);for(var r=0,o=Object.values(e.nodes);r<o.length;r++){var i=o[r];if("doc"!==i.name&&(i.isBlock||i.isTextblock))break}}},{key:"checkAndUpdateDynamicNodes",value:function(e,t,n){var r,o=qe(Ei(this.dynamicAttributes.nodes));try{for(o.s();!(r=o.n()).done;){var i=Ye(r.value,2),a=i[0],u=i[1];if(e.type.name===a){var l,c=qe(Ei(u));try{for(c.s();!(l=c.n()).done;){var f=Ye(l.value,2),d=f[0],p=f[1];if(zi(e.attrs[d])){var v=h(h({},e.attrs),{},s({},d,p(e)));n.setNodeMarkup(t,void 0,v),Rg(n)}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){o.e(m)}finally{o.f()}}},{key:"checkAndUpdateDynamicMarks",value:function(e,t,n){var r,o=this,i=qe(Ei(this.dynamicAttributes.marks));try{var a=function(){var i=Ye(r.value,2),a=i[0],u=i[1],l=wi(o.store.schema.marks,a),c=e.marks.find((function(e){return e.type.name===a}));if(!c)return"continue";var f,d=qe(Ei(u));try{for(d.s();!(f=d.n()).done;){var p=Ye(f.value,2),v=p[0],m=p[1];if(zi(c.attrs[v])){var g=Fy(n.doc.resolve(t),l);if(g){var y=g.from,b=g.to,k=l.create(h(h({},c.attrs),{},s({},v,m(c))));n.removeMark(y,b,l).addMark(y,b,k),Rg(n)}}}}catch(w){d.e(w)}finally{d.f()}};for(i.s();!(r=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}}},{key:"gatherExtraAttributes",value:function(e){var t,n=[],r=qe(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.createSchemaAttributes&&n.push.apply(n,d(o.createSchemaAttributes()))}}catch(i){r.e(i)}finally{r.f()}return n}}]),n}(lw);function Kw(e){var t,n,r=e.identifiers,o=e.nodeNames,i=e.markNames,a=e.tags;if("nodes"===r)return o;if("marks"===r)return i;if("all"===r)return[].concat(d(o),d(i));if(Hi(r))return r;ga(Bi(n=r)&&Hi(n.tags),{code:pi.EXTENSION_EXTRA_ATTRIBUTES,message:"Invalid value passed as an identifier when creating `extraAttributes`."});var u,s=r.tags,l=void 0===s?[]:s,c=r.names,f=void 0===c?[]:c,p=r.behavior,h=void 0===p?"any":p,v=r.excludeNames,m=r.excludeTags,g=r.type,y=new Set,b="mark"===g?i:"node"===g?o:[].concat(d(i),d(o)),k=function(e){return b.includes(e)&&!(null==v?void 0:v.includes(e))},w=qe(f);try{for(w.s();!(u=w.n()).done;){var x=u.value;k(x)&&y.add(x)}}catch(I){w.e(I)}finally{w.f()}var S,E=new Map,C=qe(l);try{for(C.s();!(S=C.n()).done;){var A=S.value;if(!(null==m?void 0:m.includes(A))){var D,O=qe(a[A]);try{for(O.s();!(D=O.n()).done;){var _=D.value;if(k(_))if("any"!==h){var T=null!=(t=E.get(_))?t:new Set;T.add(A),E.set(_,T)}else y.add(_)}}catch(I){O.e(I)}finally{O.f()}}}}catch(I){C.e(I)}finally{C.f()}var M,N=qe(E);try{for(N.s();!(M=N.n()).done;){var R=Ye(M.value,2),P=R[0];R[1].size===l.length&&y.add(P)}}catch(I){N.e(I)}finally{N.f()}return d(y)}function qw(e){var t,n,r=e.createExtensionSpec,o=e.extraAttributes,a=e.ignoreExtraAttributes,u=e.name,s=e.tags,l=e.override,c=Oi();var f=!1;var p=function(e,t,n,r){return function(){n();var o=Oi();if(t)return o;var i,a=qe(Ei(e));try{for(a.s();!(i=a.n()).done;){var u=Ye(i.value,2),s=u[0],l=Gw(u[1]).default;Fi(l)&&(r(s,l),l=null),o[s]=void 0===l?{}:{default:l}}}catch(c){a.e(c)}finally{a.f()}return o}}(o,a,(function(){f=!0}),(function(e,t){c[e]=t})),h=function(e,t){return function(n){var r,o,a,u=Oi();if(t)return u;var s,l=qe(Ei(e));try{for(l.s();!(s=l.n()).done;){var c=Ye(s.value,2),f=c[0],d=Gw(c[1]),p=d.parseDOM,h=i(d,Kk);Zg(n)&&(zi(p)?u[f]=null!=(r=n.getAttribute(f))?r:h.default:Fi(p)?u[f]=null!=(o=p(n))?o:h.default:u[f]=null!=(a=n.getAttribute(p))?a:h.default)}}catch(v){l.e(v)}finally{l.f()}return u}}(o,a),v=function(e,t){return function(n){var r=Oi();if(t)return r;function o(e,t){if(e)if(Pi(e))r[t]=e;else if(Hi(e)){var o=Ye(e,2),i=o[0],a=o[1];r[i]=null!=a?a:n.attrs[t]}else{var u,s=qe(Ei(e));try{for(s.s();!(u=s.n()).done;){var l=Ye(u.value,2),c=l[0],f=l[1];r[c]=f}}catch(d){s.e(d)}finally{s.f()}}}var i,a=qe(Ei(e));try{for(a.s();!(i=a.n()).done;){var u=Ye(i.value,2),s=u[0],l=Gw(u[1]),c=l.toDOM,f=l.parseDOM;if(zi(c)){var d=Pi(f)?f:s;r[d]=n.attrs[s]}else Fi(c)?o(c(n.attrs,Jw(n)),s):o(c,s)}}catch(p){a.e(p)}finally{a.f()}return r}}(o,a),m=r({defaults:p,parse:h,dom:v},l);return ga(a||f,{code:pi.EXTENSION_SPEC,message:"When creating a node specification you must call the 'defaults', and parse, and 'dom' methods. To avoid this error you can set the static property 'disableExtraAttributes' of '".concat(u,"' to 'true'.")}),m.group=[].concat(d(null!=(n=null==(t=m.group)?void 0:t.split(" "))?n:[]),d(s)).join(" ")||void 0,{spec:m,dynamic:c}}function Gw(e){return Pi(e)||Fi(e)?{default:e}:(ga(e,{message:"".concat(_i(e)," is not supported"),code:pi.EXTENSION_EXTRA_ATTRIBUTES}),e)}function Jw(e){return wy(e)?{node:e}:$i(t=e)&&t instanceof cf?{mark:e}:{};var t}Vw=Jk([gw({defaultPriority:ci.Highest})],Vw);var Yw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"onAddCustomHandler",(function(t){var n,r=t.suggester;if(r&&!(null==(n=e.store.managerSettings.exclude)?void 0:n.suggesters))return Ng(e.store.getState(),r)})),e}return g(n,[{key:"name",get:function(){return"suggest"}},{key:"onCreate",value:function(){var e=this;this.store.setExtensionStore("addSuggester",(function(t){return Ng(e.store.getState(),t)})),this.store.setExtensionStore("removeSuggester",(function(t){return function(e,t){return Mg(e).removeSuggester(t)}(e.store.getState(),t)}))}},{key:"createExternalPlugins",value:function(){var e,t,n,r=[],o=qe(this.store.extensions);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(null==(e=this.store.managerSettings.exclude)?void 0:e.suggesters)break;if(i.createSuggesters&&!(null==(t=i.options.exclude)?void 0:t.suggesters)){var a=i.createSuggesters(),u=Hi(a)?a:[a];r.push.apply(r,d(u))}}}catch(s){o.e(s)}finally{o.f()}return[Pg.apply(void 0,r)]}},{key:"getSuggestState",value:function(e){return Mg(null!=e?e:this.store.getState())}},{key:"getSuggestMethods",value:function(){var e=this.getSuggestState();return{addIgnored:e.addIgnored,clearIgnored:e.clearIgnored,removeIgnored:e.removeIgnored,ignoreNextExit:e.ignoreNextExit,setMarkRemoved:e.setMarkRemoved,findMatchAtPosition:e.findMatchAtPosition,findNextTextSelection:e.findNextTextSelection,setLastChangeFromAppend:e.setLastChangeFromAppend}}},{key:"isSuggesterActive",value:function(e){var t;return Di(Hi(e)?e:[e],null==(t=this.getSuggestState().match)?void 0:t.suggester.name)}}]),n}(lw);Jk([bw()],Yw.prototype,"getSuggestState",1),Jk([bw()],Yw.prototype,"getSuggestMethods",1),Jk([bw()],Yw.prototype,"isSuggesterActive",1),Yw=Jk([gw({customHandlerKeys:["suggester"]})],Yw);var Xw=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Yk(x(e),"allTags",Oi()),Yk(x(e),"plainTags",Oi()),Yk(x(e),"markTags",Oi()),Yk(x(e),"nodeTags",Oi()),e}return g(n,[{key:"name",get:function(){return"tags"}},{key:"onCreate",value:function(){this.resetTags();var e,t=qe(this.store.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.updateTagForExtension(n)}}catch(r){t.e(r)}finally{t.f()}this.store.setStoreKey("tags",this.allTags),this.store.setExtensionStore("tags",this.allTags),this.store.setStoreKey("plainTags",this.plainTags),this.store.setExtensionStore("plainTags",this.plainTags),this.store.setStoreKey("markTags",this.markTags),this.store.setExtensionStore("markTags",this.markTags),this.store.setStoreKey("nodeTags",this.nodeTags),this.store.setExtensionStore("nodeTags",this.nodeTags)}},{key:"resetTags",value:function(){var e,t=Oi(),n=Oi(),r=Oi(),o=Oi(),i=qe(Ai(ui));try{for(i.s();!(e=i.n()).done;){var a=e.value;t[a]=[],n[a]=[],r[a]=[],o[a]=[]}}catch(u){i.e(u)}finally{i.f()}this.allTags=t,this.plainTags=n,this.markTags=r,this.nodeTags=o}},{key:"updateTagForExtension",value:function(e){var t,n,r,o,i,a,u,s,l=new Set([].concat(d(null!=(t=e.tags)?t:[]),d(null!=(r=null==(n=e.createTags)?void 0:n.call(e))?r:[]),d(null!=(o=e.options.extraTags)?o:[]),d(null!=(a=null==(i=this.store.managerSettings.extraTags)?void 0:i[e.name])?a:[]))),c=qe(l);try{for(c.s();!(u=c.n()).done;){var f=u.value;ga((s=f,Di(Ai(ui),s)),{code:pi.EXTENSION,message:"The tag provided by the extension: ".concat(e.constructorName," is not supported by the editor. To add custom tags you can use the 'mutateTag' method.")}),this.allTags[f].push(e.name),hw(e)&&this.plainTags[f].push(e.name),mw(e)&&this.markTags[f].push(e.name),vw(e)&&this.nodeTags[f].push(e.name)}}catch(p){c.e(p)}finally{c.f()}e.tags=d(l)}}]),n}(lw);Xw=Jk([gw({defaultPriority:ci.Highest})],Xw);var Qw=new Ep("remirrorFilePlaceholderPlugin");function Zw(){var e=new wp({key:Qw,state:{init:function(){return{set:bm.empty,payloads:new Map}},apply:function(t,n){var r=n.set,o=n.payloads;r=r.map(t.mapping,t.doc);var i=t.getMeta(e);if(i)if(0===i.type){var a=document.createElement("placeholder"),u=mm.widget(i.pos,a,{id:i.id});r=r.add(t.doc,[u]),o.set(i.id,i.payload)}else 1===i.type&&(r=r.remove(r.find(void 0,void 0,(function(e){return e.id===i.id}))),o.delete(i.id));return{set:r,payloads:o}}},props:{decorations:function(t){var n,r;return null!=(r=null==(n=e.getState(t))?void 0:n.set)?r:null}}});return e}var ex=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"upload"}},{key:"createExternalPlugins",value:function(){return[Zw()]}}]),n}(lw);function tx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={exitMarksOnArrowPress:Fw.defaultOptions.exitMarksOnArrowPress,excludeBaseKeymap:Fw.defaultOptions.excludeBaseKeymap,selectParentNodeOnEscape:Fw.defaultOptions.selectParentNodeOnEscape,undoInputRuleOnBackspace:Fw.defaultOptions.undoInputRuleOnBackspace,persistentSelectionClass:_w.defaultOptions.persistentSelectionClass};e=h(h({},t),e);var n=yi(e,["excludeBaseKeymap","selectParentNodeOnEscape","undoInputRuleOnBackspace"]),r=yi(e,["persistentSelectionClass"]);return[new Xw,new Vw,new yw,new Hw,new Iw,new Ww,new Uw,new Yw,new Aw,new Pw,new Fw(n),new Rw,new ex,new _w(r)]}var nx,rx,ox,ix,ax,ux,sx,lx=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"meta"}},{key:"onCreate",value:function(){if(this.store.setStoreKey("getCommandMeta",this.getCommandMeta.bind(this)),this.options.capture){var e,t=qe(this.store.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.captureCommands(n),this.captureKeybindings(n)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"createPlugin",value:function(){return{}}},{key:"captureCommands",value:function(e){for(var t,n=this,r=null!=(t=e.decoratedCommands)?t:{},o=e.createCommands,i=function(){var t=u[a],r=e[t];e[t]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return function(o){var a,u=r.apply(void 0,i)(o);return o.dispatch&&u&&n.setCommandMeta(o.tr,{type:"command",chain:o.dispatch!==(null==(a=o.view)?void 0:a.dispatch),name:t,extension:e.name,decorated:!0}),u}}},a=0,u=Object.keys(r);a<u.length;a++)i();o&&(e.createCommands=function(){for(var t=o(),r=function(){var r=Ye(a[i],2),o=r[0],u=r[1];t[o]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return function(t){var i,a=u.apply(void 0,r)(t);return t.dispatch&&a&&n.setCommandMeta(t.tr,{type:"command",chain:t.dispatch!==(null==(i=t.view)?void 0:i.dispatch),name:o,extension:e.name,decorated:!1}),a}}},i=0,a=Object.entries(t);i<a.length;i++)r();return t})}},{key:"captureKeybindings",value:function(e){}},{key:"getCommandMeta",value:function(e){var t;return null!=(t=e.getMeta(this.pluginKey))?t:[]}},{key:"setCommandMeta",value:function(e,t){var n=this.getCommandMeta(e);e.setMeta(this.pluginKey,[].concat(d(n),[t]))}}]),n}(lw);lx=Jk([gw({defaultOptions:{capture:Bg.isDevelopment},staticKeys:["capture"],defaultPriority:ci.Highest})],lx);var cx,fx,dx,px,hx,vx,mx,gx,yx,bx,kx,wx,xx,Sx=function(){function e(t){var n=this;v(this,e),Zk(this,nx,Ji()),Zk(this,rx,void 0),Zk(this,ox,void 0),Yk(this,"previousStateOverride"),Zk(this,ix,!0),Zk(this,ax,jk()),Zk(this,ux,void 0),Zk(this,sx,void 0),Yk(this,"getState",(function(){var e;return null!=(e=n.view.state)?e:n.initialEditorState})),Yk(this,"getPreviousState",(function(){return n.previousState})),Yk(this,"dispatchTransaction",(function(e){var t,r,o;ga(!n.manager.destroyed,{code:pi.MANAGER_PHASE_ERROR,message:"A transaction was dispatched to a manager that has already been destroyed. Please check your set up, or open an issue."}),e=null!=(o=null==(r=(t=n.props).onDispatchTransaction)?void 0:r.call(t,e,n.getState()))?o:e;var i=n.getState(),a=i.applyTransaction(e),u=a.state,s=a.transactions;ew(n,ox,i),n.updateState({state:u,tr:e,transactions:s});var l=n.manager.store.getForcedUpdates(e);Vi(l)||n.updateViewProps.apply(n,d(l))})),Yk(this,"onChange",(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi(),o=n.eventListenerProps(r);Qk(n,ix)&&ew(n,ix,!1),null==(t=(e=n.props).onChange)||t.call(e,o)})),Yk(this,"onBlur",(function(e){var t,r,o=n.eventListenerProps();null==(r=(t=n.props).onBlur)||r.call(t,o,e),Qk(n,ax).emit("blur",o,e)})),Yk(this,"onFocus",(function(e){var t,r,o=n.eventListenerProps();null==(r=(t=n.props).onFocus)||r.call(t,o,e),Qk(n,ax).emit("focus",o,e)})),Yk(this,"setContent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.triggerChange,o=void 0!==r&&r,i=n.manager.createState({content:e}),a=i.doc,u=n.getState(),s=n.getState().applyTransaction(u.tr.replaceRangeWith(0,u.doc.nodeSize-2,a)),l=s.state;if(o)return n.updateState({state:l,triggerChange:o});n.view.updateState(l)})),Yk(this,"clearContent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerChange,r=void 0!==t&&t;n.setContent(n.manager.createEmptyDoc(),{triggerChange:r})})),Yk(this,"createStateFromContent",(function(e,t){return n.manager.createState({content:e,selection:t})})),Yk(this,"focus",(function(e){n.manager.store.commands.focus(e)})),Yk(this,"blur",(function(e){n.manager.store.commands.blur(e)}));var r=t.getProps,o=t.initialEditorState,i=t.element;if(ew(this,rx,r),ew(this,sx,o),this.manager.attachFramework(this,this.updateListener.bind(this)),!this.manager.view){var a=this.createView(o,i);this.manager.addView(a)}}return g(e,[{key:"addHandler",get:function(){var e;return null!=(e=Qk(this,ux))?e:ew(this,ux,Qk(this,ax).on.bind(Qk(this,ax)))}},{key:"updatableViewProps",get:function(){var e=this;return{attributes:function(){return e.getAttributes()},editable:function(){var t;return null==(t=e.props.editable)||t}}}},{key:"firstRender",get:function(){return Qk(this,ix)}},{key:"props",get:function(){return Qk(this,rx).call(this)}},{key:"previousState",get:function(){var e,t;return null!=(t=null!=(e=this.previousStateOverride)?e:Qk(this,ox))?t:this.initialEditorState}},{key:"manager",get:function(){return this.props.manager}},{key:"view",get:function(){return this.manager.view}},{key:"uid",get:function(){return Qk(this,nx)}},{key:"initialEditorState",get:function(){return Qk(this,sx)}},{key:"updateListener",value:function(e){var t=e.state,n=e.tr;return Qk(this,ax).emit("updated",this.eventListenerProps({state:t,tr:n}))}},{key:"update",value:function(e){var t=e.getProps;return ew(this,rx,t),this}},{key:"updateViewProps",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=yi(this.updatableViewProps,t);this.view.setProps(h(h({},this.view.props),r))}},{key:"getAttributes",value:function(e){var t,n=this.props,r=n.attributes,o=n.autoFocus,i=n.classNames,a=void 0===i?[]:i,u=n.label,s=n.editable,l=null==(t=this.manager.store)?void 0:t.attributes,c=Fi(r)?r(this.eventListenerProps()):r,f={};(o||Ii(o))&&(f=e?{autoFocus:!0}:{autofocus:"true"});var p=Qi(fa.apply(void 0,[e&&"Prosemirror","remirror-editor",null==l?void 0:l.class].concat(d(a))).split(" ")).join(" "),v=h(h(h(h({role:"textbox"},f),{},{"aria-multiline":"true"},null==s||s?{}:{"aria-readonly":"true"}),{},{"aria-label":null!=u?u:""},l),{},{class:p});return function(e){return gi(e,(function(e){return!Ri(e)}))}(h(h({},v),c))}},{key:"addFocusListeners",value:function(){this.view.dom.addEventListener("blur",this.onBlur),this.view.dom.addEventListener("focus",this.onFocus)}},{key:"removeFocusListeners",value:function(){this.view.dom.removeEventListener("blur",this.onBlur),this.view.dom.removeEventListener("focus",this.onFocus)}},{key:"destroy",value:function(){Qk(this,ax).emit("destroy"),this.view&&this.removeFocusListeners()}},{key:"eventListenerProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi(),t=e.state,n=e.tr,r=e.transactions;return{tr:n,transactions:r,internalUpdate:!n,view:this.view,firstRender:Qk(this,ix),state:null!=t?t:this.getState(),createStateFromContent:this.createStateFromContent,previousState:this.previousState,helpers:this.manager.store.helpers}}},{key:"baseOutput",get:function(){return h(h({manager:this.manager},this.manager.store),{},{addHandler:this.addHandler,focus:this.focus,blur:this.blur,uid:Qk(this,nx),view:this.view,getState:this.getState,getPreviousState:this.getPreviousState,getExtension:this.manager.getExtension.bind(this.manager),hasExtension:this.manager.hasExtension.bind(this.manager),clearContent:this.clearContent,setContent:this.setContent})}}]),e}();function Ex(e,t){var n,r=[],o=new WeakMap,i=new WeakMap,a=[],u={duplicateMap:i,parentExtensions:[],gatheredExtensions:a,settings:t},s=qe(e);try{for(s.s();!(n=s.n()).done;){Cx(u,{extension:n.value})}}catch(g){s.e(g)}finally{s.f()}a=oa(a,(function(e,t){return t.priority-e.priority}));var l,c=new WeakSet,f=new Set,d=qe(a);try{var p=function(){var e=l.value,t=e.constructor,n=e.name,a=i.get(t);if(ga(a,{message:"No entries were found for the ExtensionConstructor ".concat(e.name),code:pi.INTERNAL}),c.has(t)||f.has(n))return"continue";c.add(t),f.add(n),r.push(e),o.set(t,e),a.forEach((function(n){return null==n?void 0:n.replaceChildExtension(t,e)}))};for(d.s();!(l=d.n()).done;)p()}catch(g){d.e(g)}finally{d.f()}for(var h=[],v=0,m=r;v<m.length;v++){Ax({extension:m[v],found:c,missing:h})}return ga(Vi(h),{code:pi.MISSING_REQUIRED_EXTENSION,message:h.map((function(e){var t=e.Constructor,n=e.extension;return"The extension '".concat(n.name,"' requires '").concat(t.name," in order to run correctly.")})).join("\n")}),{extensions:r,extensionMap:o}}function Cx(e,t){var n,r=e.gatheredExtensions,o=e.duplicateMap,i=e.parentExtensions,a=e.settings,u=t.extension,s=t.parentExtension,l=t.names,c=void 0===l?[]:l;ga(pw(u),{code:pi.INVALID_MANAGER_EXTENSION,message:"An invalid extension: ".concat(u," was provided to the [[`RemirrorManager`]].")});var f=u.extensions;if(u.setPriority(null==(n=a.priority)?void 0:n[u.name]),r.push(u),function(e){var t=e.duplicateMap,n=e.extension,r=e.parentExtension,o=n.constructor,i=t.get(o),a=r?[r]:[];t.set(o,i?[].concat(d(i),a):a)}({duplicateMap:o,extension:u,parentExtension:s}),0!==f.length)if(c.includes(u.name))Wk(!1,"Circular dependency encountered when loading extensions: ".concat(c.join(" > ")," > ").concat(u.name));else{c=[].concat(d(c),[u.name]),i.push(u);var p,h=qe(f);try{for(h.s();!(p=h.n()).done;){Cx(e,{names:c,extension:p.value,parentExtension:u})}}catch(v){h.e(v)}finally{h.f()}}}function Ax(e){var t,n=e.extension,r=e.found,o=e.missing;if(n.requiredExtensions){var i,a=qe(null!=(t=n.requiredExtensions)?t:[]);try{for(a.s();!(i=a.n()).done;){var u=i.value;r.has(u)||o.push({Constructor:u,extension:n})}}catch(s){a.e(s)}finally{a.f()}}}function Dx(e){var t,n,r,o,i=e.extension,a=e.nodeNames,u=e.markNames,s=e.plainNames,l=e.store,c=e.handlers;i.setStore(l);var f=null==(t=i.onCreate)?void 0:t.bind(i),d=null==(n=i.onView)?void 0:n.bind(i),p=null==(r=i.onStateUpdate)?void 0:r.bind(i),h=null==(o=i.onDestroy)?void 0:o.bind(i);f&&c.create.push(f),d&&c.view.push(d),p&&c.update.push(p),h&&c.destroy.push(h),mw(i)&&u.push(i.name),vw(i)&&"doc"!==i.name&&a.push(i.name),hw(i)&&s.push(i.name)}nx=new WeakMap,rx=new WeakMap,ox=new WeakMap,ix=new WeakMap,ax=new WeakMap,ux=new WeakMap,sx=new WeakMap;var Ox=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,e),Zk(this,cx,void 0),Zk(this,fx,Oi()),Zk(this,dx,Oi()),Zk(this,px,void 0),Zk(this,hx,void 0),Zk(this,vx,fi.None),Zk(this,mx,void 0),Zk(this,gx,!0),Zk(this,yx,{create:[],view:[],update:[],destroy:[]}),Zk(this,bx,[]),Zk(this,kx,jk()),Zk(this,wx,void 0),Zk(this,xx,void 0),Yk(this,"getState",(function(){var e;return Qk(n,vx)>=fi.EditorView?n.view.state:(ga(Qk(n,wx),{code:pi.MANAGER_PHASE_ERROR,message:"`getState` can only be called after the `Framework` or the `EditorView` has been added to the manager`. Check your plugins to make sure that the decorations callback uses the state argument."}),null==(e=Qk(n,wx))?void 0:e.initialEditorState)})),Yk(this,"updateState",(function(e){var t=n.getState();n.view.updateState(e),n.onStateUpdate({previousState:t,state:e})}));var o=Ex(t,r),i=o.extensions,a=o.extensionMap;ew(this,mx,r),ew(this,px,i),ew(this,hx,a),ew(this,cx,this.createExtensionStore()),ew(this,vx,fi.Create),this.setupLifecycleHandlers();var u,s=qe(Qk(this,yx).create);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=l();c&&Qk(this,bx).push(c)}}catch(f){s.e(f)}finally{s.f()}}return g(e,[{key:si,get:function(){return li.Manager}},{key:"destroyed",get:function(){return Qk(this,vx)===fi.Destroy}},{key:"mounted",get:function(){return Qk(this,vx)>=fi.EditorView&&Qk(this,vx)<fi.Destroy}},{key:"output",get:function(){var e;return null==(e=Qk(this,wx))?void 0:e.frameworkOutput}},{key:"frameworkAttached",get:function(){return!!Qk(this,wx)}},{key:"extensions",get:function(){return Qk(this,px)}},{key:"stringHandlers",get:function(){return Qk(this,fx)}},{key:"store",get:function(){return Qk(this,dx)}},{key:"extensionStore",get:function(){return Qk(this,cx)}},{key:"tr",get:function(){return this.getExtension(Aw).transaction}},{key:"nodes",get:function(){return Qk(this,dx).nodes}},{key:"marks",get:function(){return Qk(this,dx).marks}},{key:"schema",get:function(){return Qk(this,dx).schema}},{key:"extensionTags",get:function(){return Qk(this,dx).tags}},{key:"view",get:function(){return Qk(this,dx).view}},{key:"settings",get:function(){return Qk(this,mx)}},{key:"document",get:function(){var e;return null!=(e=Qk(this,mx).document)?e:Ky()}},{key:"setupLifecycleHandlers",value:function(){var e=Qk(this,cx),t=Qk(this,yx),n=[],r=[],o=[];e.nodeNames=n,e.markNames=r,e.plainNames=o;var i,a=qe(Qk(this,px));try{for(a.s();!(i=a.n()).done;){Dx({extension:i.value,nodeNames:n,markNames:r,plainNames:o,handlers:t,store:e})}}catch(u){a.e(u)}finally{a.f()}}},{key:"setStringHandler",value:function(e,t){Qk(this,fx)[e]=t}},{key:"setStoreKey",value:function(e,t){Qk(this,dx)[e]=t}},{key:"getStoreKey",value:function(e){var t=Qk(this,dx)[e];return ga(!zi(t),{code:pi.MANAGER_PHASE_ERROR,message:"`getStoreKey` should not be called before the values are available."}),t}},{key:"setExtensionStore",value:function(e,t){ga(Qk(this,vx)<=fi.EditorView,{code:pi.MANAGER_PHASE_ERROR,message:"`setExtensionStore` should only be called during the `onCreate` lifecycle hook. Make sure to only call it within the returned methods."}),Qk(this,cx)[e]=t}},{key:"createExtensionStore",value:function(){var e,t,n=this,r=Oi(),o=!0;return Object.defineProperties(r,{extensions:{get:function(){return Qk(n,px)},enumerable:o},phase:{get:function(){return Qk(n,vx)},enumerable:o},view:{get:function(){return n.view},enumerable:o},managerSettings:{get:function(){return Qk(n,mx)},enumerable:o},getState:{value:this.getState,enumerable:o},updateState:{value:this.updateState,enumerable:o},isMounted:{value:function(){return n.mounted},enumerable:o},getExtension:{value:this.getExtension.bind(this),enumerable:o},manager:{get:function(){return n},enumerable:o},document:{get:function(){return n.document},enumerable:o},stringHandlers:{get:function(){return Qk(n,fx)},enumerable:o},currentState:{get:function(){return null!=e?e:e=n.getState()},set:function(t){e=t},enumerable:o},previousState:{get:function(){return t},set:function(e){t=e},enumerable:o}}),r.getStoreKey=this.getStoreKey.bind(this),r.setStoreKey=this.setStoreKey.bind(this),r.setExtensionStore=this.setExtensionStore.bind(this),r.setStringHandler=this.setStringHandler.bind(this),r}},{key:"addView",value:function(e){if(Qk(this,vx)>=fi.EditorView)return this;ew(this,gx,!0),ew(this,vx,fi.EditorView),Qk(this,dx).view=e;var t,n=qe(Qk(this,yx).view);try{for(n.s();!(t=n.n()).done;){var r=(0,t.value)(e);r&&Qk(this,bx).push(r)}}catch(o){n.e(o)}finally{n.f()}return this}},{key:"attachFramework",value:function(e,t){var n;Qk(this,wx)!==e&&(Qk(this,wx)&&(Qk(this,wx).destroy(),null==(n=Qk(this,xx))||n.call(this)),ew(this,wx,e),ew(this,xx,this.addHandler("stateUpdate",t)))}},{key:"createEmptyDoc",value:function(){var e,t=null==(e=this.schema.nodes.doc)?void 0:e.createAndFill();return ga(t,{code:pi.INVALID_CONTENT,message:"An empty node could not be created due to an invalid schema."}),t}},{key:"createState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.settings,n=t.onError,r=t.defaultSelection,o=void 0===r?"end":r,i=e.content,a=void 0===i?this.createEmptyDoc():i,u=e.selection,s=void 0===u?o:u,l=e.stringHandler,c=void 0===l?this.settings.stringHandler:l,f=this.store,d=f.schema,p=f.plugins,h=Vy({stringHandler:Pi(c)?this.stringHandlers[c]:c,document:this.document,content:a,onError:n,schema:d,selection:s});return bp.create({schema:d,doc:h,plugins:p,selection:Hy(s,h)})}},{key:"addHandler",value:function(e,t){return Qk(this,kx).on(e,t)}},{key:"onStateUpdate",value:function(e){var t=Qk(this,gx);Qk(this,cx).currentState=e.state,Qk(this,cx).previousState=e.previousState,t&&(ew(this,vx,fi.Runtime),ew(this,gx,!1));var n,r=h(h({},e),{},{firstUpdate:t}),o=qe(Qk(this,yx).update);try{for(o.s();!(n=o.n()).done;){(0,n.value)(r)}}catch(i){o.e(i)}finally{o.f()}Qk(this,kx).emit("stateUpdate",r)}},{key:"getExtension",value:function(e){var t=Qk(this,hx).get(e);return ga(t,{code:pi.INVALID_MANAGER_EXTENSION,message:"'".concat(e.name,"' doesn't exist within this manager. Make sure it is properly added before attempting to use it.")}),t}},{key:"hasExtension",value:function(e){return!!Qk(this,hx).get(e)}},{key:"clone",value:function(){var t=Qk(this,px).map((function(e){return e.clone(e.options)})),n=e.create((function(){return t}),Qk(this,mx));return Qk(this,kx).emit("clone",n),n}},{key:"recreate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Qk(this,px).map((function(e){return e.clone(e.initialOptions)})),o=e.create((function(){return[].concat(d(r),d(t))}),n);return Qk(this,kx).emit("recreate",o),o}},{key:"destroy",value:function(){var e,t,n,r,o,i,a;ew(this,vx,fi.Destroy);var u,s=qe(null!=(t=null==(e=this.view)?void 0:e.state.plugins)?t:[]);try{for(s.s();!(u=s.n()).done;){null==(r=null==(n=u.value.getState(this.view.state))?void 0:n.destroy)||r.call(n)}}catch(p){s.e(p)}finally{s.f()}null==(o=Qk(this,wx))||o.destroy(),null==(i=Qk(this,xx))||i.call(this);var l,c=qe(Qk(this,bx));try{for(c.s();!(l=c.n()).done;){(0,l.value)()}}catch(p){c.e(p)}finally{c.f()}var f,d=qe(Qk(this,yx).destroy);try{for(d.s();!(f=d.n()).done;){(0,f.value)()}}catch(p){d.e(p)}finally{d.f()}null==(a=this.view)||a.destroy(),Qk(this,kx).emit("destroy")}},{key:"includes",value:function(e){var t,n=[],r=[],o=qe(Qk(this,px));try{for(o.s();!(t=o.n()).done;){var i=t.value;n.push(i.name,i.constructorName),r.push(i.constructor)}}catch(a){o.e(a)}finally{o.f()}return e.every((function(e){return Pi(e)?Di(n,e):Di(r,e)}))}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new e([].concat(d(ca(t)),d(tx(n.builtin))),n)}}]),e}(),_x=Ox;function Tx(e,t){return!(!gy(e)||!yy(e,li.Manager))&&(!t||e.includes(t))}cx=new WeakMap,fx=new WeakMap,dx=new WeakMap,px=new WeakMap,hx=new WeakMap,vx=new WeakMap,mx=new WeakMap,gx=new WeakMap,yx=new WeakMap,bx=new WeakMap,kx=new WeakMap,wx=new WeakMap,xx=new WeakMap;var Mx=Object.defineProperty,Nx=Object.getOwnPropertyDescriptor,Rx=function(e,t,n,r){for(var o,i=r>1?void 0:r?Nx(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Mx(t,n,i),i},Px=function(e,t,n){return function(e,t,n){t in e?Mx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Ix=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"doc"}},{key:"createNodeSpec",value:function(e,t){var n=this.options,r=n.docAttributes,o=n.content,i=Oi();if(Bi(r)){var a,u=qe(Ei(r));try{for(u.s();!(a=u.n()).done;){var s=Ye(a.value,2),l=s[0],c=s[1];i[l]={default:c}}}catch(p){u.e(p)}finally{u.f()}}else{var f,d=qe(r);try{for(d.s();!(f=d.n()).done;){i[f.value]={default:null}}}catch(p){d.e(p)}finally{d.f()}}return h({attrs:i,content:o},t)}},{key:"setDocAttributes",value:function(e){return function(t){var n=t.tr,r=t.dispatch;if(r){for(var o=0,i=Object.entries(e);o<i.length;o++){var a=Ye(i[o],2),u=a[0],s=a[1];n.step(new Bx(u,s))}r(n)}return!0}}},{key:"isDefaultDocNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=void 0===t?this.store.getState():t,r=e.options;return Ty(n.doc,r)}}]),n}(fw);Rx([kw()],Ix.prototype,"setDocAttributes",1),Rx([bw()],Ix.prototype,"isDefaultDocNode",1),Ix=Rx([gw({defaultOptions:{content:"block+",docAttributes:[]},defaultPriority:ci.Medium,staticKeys:["content","docAttributes"],disableExtraAttributes:!0})],Ix);var Fx="SetDocAttribute",Lx="RevertSetDocAttribute",Bx=function(e){b(n,e);var t=E(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fx;return v(this,n),o=t.call(this),Px(x(o),"key"),Px(x(o),"stepType"),Px(x(o),"value"),Px(x(o),"previous"),o.stepType=i,o.key=e,o.value=r,o}return g(n,[{key:"apply",value:function(e){this.previous=e.attrs[this.key];var t=h(h({},e.attrs),{},s({},this.key,this.value));return gd.ok(e.type.create(t,e.content,e.marks))}},{key:"invert",value:function(){return new n(this.key,this.previous,Lx)}},{key:"map",value:function(){return this}},{key:"toJSON",value:function(){return{stepType:this.stepType,key:this.key,value:this.value}}}],[{key:"fromJSON",value:function(e,t){return new n(t.key,t.value,t.stepType)}}]),n}(md);try{md.jsonID(Fx,Bx),md.jsonID(Lx,Bx)}catch(KL){if(!KL.message.startsWith("Duplicate use of step JSON ID"))throw KL}var jx=Object.defineProperty,zx=Object.getOwnPropertyDescriptor,$x=function(e,t,n,r){for(var o,i=r>1?void 0:r?zx(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&jx(t,n,i),i},Ux=function(e,t,n){return function(e,t,n){t in e?jx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n};function Wx(e,t){var n,r=t.target;if(r){var o=function(e,t,n,r){var o=e.docView.posFromDOM(t,n,r);return null===o||o<0?null:o}(e,r,0);if(null!==o){var i=e.state.doc.resolve(o),a=i.node().isLeaf?0:1;return{pos:o,inside:i.start()-a}}}return null!=(n=e.posAtCoords({left:t.clientX,top:t.clientY}))?n:void 0}var Hx=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),Ux(x(e),"mousedown",!1),Ux(x(e),"mouseover",!1),Ux(x(e),"createMouseEventHandler",(function(e){return function(t,n){var r,o=n,i=Wx(t,o);if(!i)return!1;var a=[],u=[],s=i.inside,l=i.pos;if(-1===s)return!1;var c,f=t.state.doc.resolve(l),d=qe(sa(f.depth+1,1));try{for(d.s();!(c=d.n()).done;){var p=c.value;a.push({node:p>f.depth&&f.nodeAfter?f.nodeAfter:f.node(p),pos:f.before(p)})}}catch(y){d.e(y)}finally{d.f()}var v,m=qe(null!=(r=f.marksAcross(f))?r:[]);try{for(m.s();!(v=m.n()).done;){var g=Fy(f,v.value.type);g&&u.push(g)}}catch(y){m.e(y)}finally{m.f()}return e(o,{view:t,nodes:a,marks:u,getMark:function(e){var n=Pi(e)?t.state.schema.marks[e]:e;return ga(n,{code:pi.EXTENSION,message:"The mark ".concat(e," being checked does not exist within the editor schema.")}),u.find((function(e){return e.mark.type===n}))},getNode:function(e){var n,r=Pi(e)?t.state.schema.nodes[e]:e;ga(r,{code:pi.EXTENSION,message:"The node being checked does not exist"});var o=a.find((function(e){return e.node.type===r}));if(o)return h(h({},o),{},{isRoot:!!(null==(n=a[0])?void 0:n.node.eq(o.node))})}})}})),e}return g(n,[{key:"name",get:function(){return"events"}},{key:"onView",value:function(){var e,t;if(!(null==(e=this.store.managerSettings.exclude)?void 0:e.clickHandler)){var n,r=qe(this.store.extensions);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.createEventHandlers&&!(null==(t=o.options.exclude)?void 0:t.clickHandler)){var i,a=qe(Ei(o.createEventHandlers()));try{for(a.s();!(i=a.n()).done;){var u=Ye(i.value,2),s=u[0],l=u[1];this.addHandler(s,l)}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){r.e(c)}finally{r.f()}}}},{key:"createPlugin",value:function(){var e=this,t=new WeakMap,n=function(n,r,o,i,a,u,s,l){var c=e.store.currentState,f=c.schema,d=c.doc.resolve(i),p=t.has(s),v=function(e){var t=e.handled,n=e.view,r=e.$pos,o=e.state,i={getMark:ea,markRanges:[],view:n,state:o};if(t)return i;var a,u=qe(r.marks());try{for(u.s();!(a=u.n()).done;){var s=Fy(r,a.value.type);s&&i.markRanges.push(s)}}catch(l){u.e(l)}finally{u.f()}return i.getMark=function(e){var t=Pi(e)?o.schema.marks[e]:e;return ga(t,{code:pi.EXTENSION,message:"The mark ".concat(e," being checked does not exist within the editor schema.")}),i.markRanges.find((function(e){return e.mark.type===t}))},i}({$pos:d,handled:p,view:o,state:c}),m=!1;p||(m=n(s,v)||m);var g=h(h({},v),{},{pos:i,direct:l,nodeWithPosition:{node:a,pos:u},getNode:function(e){var t=Pi(e)?f.nodes[e]:e;return ga(t,{code:pi.EXTENSION,message:"The node being checked does not exist"}),t===a.type?{node:a,pos:u}:void 0}});return t.set(s,!0),r(s,g)||m};return{props:{handleKeyPress:function(t,n){return e.options.keypress(n)||!1},handleKeyDown:function(t,n){return e.options.keydown(n)||!1},handleTextInput:function(t,n,r,o){return e.options.textInput({from:n,to:r,text:o})||!1},handleClickOn:function(t,r,o,i,a,u){return n(e.options.clickMark,e.options.click,t,r,o,i,a,u)},handleDoubleClickOn:function(t,r,o,i,a,u){return n(e.options.doubleClickMark,e.options.doubleClick,t,r,o,i,a,u)},handleTripleClickOn:function(t,r,o,i,a,u){return n(e.options.tripleClickMark,e.options.tripleClick,t,r,o,i,a,u)},handleDOMEvents:{focus:function(t,n){return e.options.focus(n)||!1},blur:function(t,n){return e.options.blur(n)||!1},mousedown:function(t,n){return e.startMouseover(),e.options.mousedown(n)||!1},mouseup:function(t,n){return e.endMouseover(),e.options.mouseup(n)||!1},mouseleave:function(t,n){return e.mouseover=!1,e.options.mouseleave(n)||!1},mouseenter:function(t,n){return e.mouseover=!0,e.options.mouseenter(n)||!1},keyup:function(t,n){return e.options.keyup(n)||!1},mouseout:this.createMouseEventHandler((function(t,n){var r=h(h({},n),{},{hovering:!1});return e.options.hover(t,r)||!1})),mouseover:this.createMouseEventHandler((function(t,n){var r=h(h({},n),{},{hovering:!0});return e.options.hover(t,r)||!1})),contextmenu:this.createMouseEventHandler((function(t,n){return e.options.contextmenu(t,n)||!1})),scroll:function(t,n){return e.options.scroll(n)||!1},copy:function(t,n){return e.options.copy(n)||!1},paste:function(t,n){return e.options.paste(n)||!1}}}}}},{key:"isInteracting",value:function(){return this.mousedown&&this.mouseover}},{key:"startMouseover",value:function(){var e=this;this.mouseover=!0,this.mousedown||(this.mousedown=!0,this.store.document.documentElement.addEventListener("mouseup",(function(){e.endMouseover()}),{once:!0}))}},{key:"endMouseover",value:function(){this.mousedown&&(this.mousedown=!1,this.store.commands.emptyUpdate())}}]),n}(lw);$x([bw()],Hx.prototype,"isInteracting",1),Hx=$x([gw({handlerKeys:["blur","focus","mousedown","mouseup","mouseenter","mouseleave","textInput","keypress","keyup","keydown","click","clickMark","doubleClick","doubleClickMark","tripleClick","tripleClickMark","contextmenu","hover","scroll","copy","paste"],handlerKeyOptions:{blur:{earlyReturnValue:!0},focus:{earlyReturnValue:!0},mousedown:{earlyReturnValue:!0},mouseleave:{earlyReturnValue:!0},mouseup:{earlyReturnValue:!0},click:{earlyReturnValue:!0},doubleClick:{earlyReturnValue:!0},tripleClick:{earlyReturnValue:!0},hover:{earlyReturnValue:!0},contextmenu:{earlyReturnValue:!0},scroll:{earlyReturnValue:!0},copy:{earlyReturnValue:!0},paste:{earlyReturnValue:!0}},defaultPriority:ci.High})],Hx);var Vx=function(e){b(n,e);var t=E(n);function n(e){return v(this,n),t.call(this,e,e)}return g(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));return n.valid(r)?new n(r):np.near(r)}},{key:"content",value:function(){return df.empty}},{key:"eq",value:function(e){return e instanceof n&&e.head==this.head}},{key:"toJSON",value:function(){return{type:"gapcursor",pos:this.head}}},{key:"getBookmark",value:function(){return new Kx(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new n(e.resolve(t.pos))}},{key:"valid",value:function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t),r=e.node(t);if(0!=n)for(var o=r.child(n-1);;o=o.lastChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}},{key:"findGapCursorFrom",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!r&&n.valid(e))return e;for(var o=e.pos,i=null,a=e.depth;;a--){var u=e.node(a);if(t>0?e.indexAfter(a)<u.childCount:e.index(a)>0){i=u.child(t>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;o+=t;var s=e.doc.resolve(o);if(n.valid(s))return s}for(;;){var l=t>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!sp.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*t),r=!1;continue e}break}i=l,o+=t;var c=e.doc.resolve(o);if(n.valid(c))return c}return null}}}]),n}(np);Vx.prototype.visible=!1,Vx.findFrom=Vx.findGapCursorFrom,np.jsonID("gapcursor",Vx);var Kx=function(){function e(t){v(this,e),this.pos=t}return g(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return Vx.valid(t)?new Vx(t):np.near(t)}}]),e}();var qx=Ok({ArrowLeft:Gx("horiz",-1),ArrowRight:Gx("horiz",1),ArrowUp:Gx("vert",-1),ArrowDown:Gx("vert",1)});function Gx(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){var i=e.selection,a=t>0?i.$to:i.$from,u=i.empty;if(i instanceof ap){if(!o.endOfTextblock(n)||0==a.depth)return!1;u=!1,a=e.doc.resolve(t>0?a.after():a.before())}var s=Vx.findGapCursorFrom(a,t,u);return!!s&&(r&&r(e.tr.setSelection(new Vx(s))),!0)}}function Jx(e,t,n){if(!e||!e.editable)return!1;var r=e.state.doc.resolve(t);if(!Vx.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&sp.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new Vx(r))),!0)}function Yx(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof Vx))return!1;var n=e.state.selection.$from,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;for(var o=af.empty,i=r.length-1;i>=0;i--)o=af.from(r[i].createAndFill(null,o));var a=e.state.tr.replace(n.pos,n.pos,new df(o,0,0));return a.setSelection(ap.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function Xx(e){if(!(e.selection instanceof Vx))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",bm.create(e.doc,[mm.widget(e.selection.head,t,{key:"gapcursor"})])}var Qx=Object.defineProperty,Zx=Object.getOwnPropertyDescriptor,eS=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"gapCursor"}},{key:"createExternalPlugins",value:function(){return[new wp({props:{decorations:Xx,createSelectionBetween:function(e,t,n){return t.pos==n.pos&&Vx.valid(n)?new Vx(n):null},handleClick:Jx,handleKeyDown:qx,handleDOMEvents:{beforeinput:Yx}}})]}}]),n}(lw);eS=function(e,t,n,r){for(var o,i=r>1?void 0:r?Zx(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Qx(t,n,i),i}([gw({})],eS);tS=Vx;var tS,nS=200,rS=function(){};rS.prototype.append=function(e){return e.length?(e=rS.from(e),!this.length&&e||e.length<nS&&this.leafAppend(e)||this.length<nS&&e.leafPrepend(this)||this.appendInner(e)):this},rS.prototype.prepend=function(e){return e.length?rS.from(e).append(this):this},rS.prototype.appendInner=function(e){return new iS(this,e)},rS.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?rS.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},rS.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},rS.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},rS.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},rS.from=function(e){return e instanceof rS?e:e&&e.length?new oS(e):rS.empty};var oS=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=nS)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=nS)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(rS);rS.empty=new oS([]);var iS=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(rS),aS=rS,uS=function(){function e(t,n){v(this,e),this.items=t,this.eventCount=n}return g(e,[{key:"popEvent",value:function(t,n){var r=this;if(0==this.eventCount)return null;for(var o,i,a=this.items.length;;a--){if(this.items.get(a-1).selection){--a;break}}n&&(o=this.remapping(a,this.items.length),i=o.maps.length);var u,s,l=t.tr,c=[],f=[];return this.items.forEach((function(t,n){if(!t.step)return o||(o=r.remapping(a,n+1),i=o.maps.length),i--,void f.push(t);if(o){f.push(new sS(t.map));var d,p=t.step.map(o.slice(i));p&&l.maybeStep(p).doc&&(d=l.mapping.maps[l.mapping.maps.length-1],c.push(new sS(d,void 0,void 0,c.length+f.length))),i--,d&&o.appendMap(d,i)}else l.maybeStep(t.step);return t.selection?(u=o?t.selection.map(o.slice(i)):t.selection,s=new e(r.items.slice(0,a).append(f.reverse().concat(c)),r.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:u}}},{key:"addTransform",value:function(t,n,r,o){for(var i=[],a=this.eventCount,u=this.items,s=!o&&u.length?u.get(u.length-1):null,l=0;l<t.steps.length;l++){var c,f=t.steps[l].invert(t.docs[l]),d=new sS(t.mapping.maps[l],f,n);(c=s&&s.merge(d))&&(d=c,l?i.pop():u=u.slice(0,u.length-1)),i.push(d),n&&(a++,n=void 0),o||(s=d)}var p=a-r.depth;return p>cS&&(u=function(e,t){var n;return e.forEach((function(e,r){if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(u,p),a-=p),new e(u.append(i),a)}},{key:"remapping",value:function(e,t){var n=new hd;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}},{key:"addMaps",value:function(t){return 0==this.eventCount?this:new e(this.items.append(t.map((function(e){return new sS(e)}))),this.eventCount)}},{key:"rebased",value:function(t,n){if(!this.eventCount)return this;var r=[],o=Math.max(0,this.items.length-n),i=t.mapping,a=t.steps.length,u=this.eventCount;this.items.forEach((function(e){e.selection&&u--}),o);var s=n;this.items.forEach((function(e){var n=i.getMirror(--s);if(null!=n){a=Math.min(a,n);var o=i.maps[n];if(e.step){var l=t.steps[n].invert(t.docs[n]),c=e.selection&&e.selection.map(i.slice(s+1,n));c&&u++,r.push(new sS(o,l,c))}else r.push(new sS(o))}}),o);for(var l=[],c=n;c<a;c++)l.push(new sS(i.maps[c]));var f=new e(this.items.slice(0,o).append(l).append(r),u);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-r.length)),f}},{key:"emptyItemCount",value:function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e}},{key:"compress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((function(e,a){if(a>=t)o.push(e),e.selection&&i++;else if(e.step){var u=e.step.map(n.slice(r)),s=u&&u.getMap();if(r--,s&&n.appendMap(s,r),u){var l=e.selection&&e.selection.map(n.slice(r));l&&i++;var c,f=new sS(s.invert(),u,l),d=o.length-1;(c=o.length&&o[d].merge(f))?o[d]=c:o.push(f)}}else e.map&&r--}),this.items.length,0),new e(aS.from(o.reverse()),i)}}]),e}();uS.empty=new uS(aS.empty,0);var sS=function(){function e(t,n,r,o){v(this,e),this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}return g(e,[{key:"merge",value:function(t){if(this.step&&t.step&&!t.selection){var n=t.step.merge(this.step);if(n)return new e(n.getMap().invert(),n,this.selection)}}}]),e}(),lS=g((function e(t,n,r,o){v(this,e),this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o})),cS=20;function fS(e,t,n,r){var o,i=n.getMeta(yS);if(i)return i.historyState;n.getMeta(bS)&&(e=new lS(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(yS))return a.getMeta(yS).redo?new lS(e.done.addTransform(n,void 0,r,gS(t)),e.undone,dS(n.mapping.maps[n.steps.length-1]),e.prevTime):new lS(e.done,e.undone.addTransform(n,void 0,r,gS(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new lS(e.done.rebased(n,o),e.undone.rebased(n,o),pS(e.prevRanges,n.mapping),e.prevTime):new lS(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),pS(e.prevRanges,n.mapping),e.prevTime);var u=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),s=a?pS(e.prevRanges,n.mapping):dS(n.mapping.maps[n.steps.length-1]);return new lS(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,gS(t)),uS.empty,s,n.time)}function dS(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function pS(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function hS(e,t,n,r){var o=gS(t),i=yS.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var u=a.selection.resolve(a.transform.doc),s=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),l=new lS(r?s:a.remaining,r?a.remaining:s,null,0);n(a.transform.setSelection(u).setMeta(yS,{redo:r,historyState:l}).scrollIntoView())}}var vS=!1,mS=null;function gS(e){var t=e.plugins;if(mS!=t){vS=!1,mS=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){vS=!0;break}}return vS}var yS=new Ep("history"),bS=new Ep("closeHistory");function kS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new wp({key:yS,state:{init:function(){return new lS(uS.empty,uS.empty,null,0)},apply:function(t,n,r){return fS(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(e,t){var n=t.inputType,r="historyUndo"==n?wS:"historyRedo"==n?xS:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}var wS=function(e,t){var n=yS.getState(e);return!(!n||0==n.done.eventCount)&&(t&&hS(n,e,t,!1),!0)},xS=function(e,t){var n=yS.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&hS(n,e,t,!0),!0)};function SS(e){var t=yS.getState(e);return t?t.done.eventCount:0}function ES(e){var t=yS.getState(e);return t?t.undone.eventCount:0}var CS=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,DS=function(e,t,n,r){for(var o,i=r>1?void 0:r?AS(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&CS(t,n,i),i},OS=function(e,t,n){return function(e,t,n){t in e?CS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},_S=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),OS(x(e),"wrapMethod",(function(t,n){return function(r){var o=r.state,i=r.dispatch,a=r.view,u=e.options,s=u.getState,l=u.getDispatch,c=Fi(s)?s():o,f=Fi(l)&&i?l():i,d=t(c,f,a);return null==n||n(d),d}})),e}return g(n,[{key:"name",get:function(){return"history"}},{key:"createKeymap",value:function(){return{"Mod-y":Bg.isMac?function(){return!1}:this.wrapMethod(xS,this.options.onRedo),"Mod-z":this.wrapMethod(wS,this.options.onUndo),"Shift-Mod-z":this.wrapMethod(xS,this.options.onRedo)}}},{key:"undoShortcut",value:function(e){return this.wrapMethod(wS,this.options.onUndo)(e)}},{key:"redoShortcut",value:function(e){return this.wrapMethod(xS,this.options.onRedo)(e)}},{key:"createExternalPlugins",value:function(){var e=this.options;return[kS({depth:e.depth,newGroupDelay:e.newGroupDelay})]}},{key:"undo",value:function(){return qb(this.wrapMethod(wS,this.options.onUndo))}},{key:"redo",value:function(){return qb(this.wrapMethod(xS,this.options.onRedo))}},{key:"undoDepth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return SS(e)}},{key:"redoDepth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState();return ES(e)}}]),n}(lw);DS([ww({shortcut:di.Undo,command:"undo"})],_S.prototype,"undoShortcut",1),DS([ww({shortcut:di.Redo,command:"redo"})],_S.prototype,"redoShortcut",1),DS([kw({disableChaining:!0,description:function(e){return(0,e.t)(Mb.UNDO_DESCRIPTION)},label:function(e){return(0,e.t)(Mb.UNDO_LABEL)},icon:"arrowGoBackFill"})],_S.prototype,"undo",1),DS([kw({disableChaining:!0,description:function(e){return(0,e.t)(Mb.REDO_DESCRIPTION)},label:function(e){return(0,e.t)(Mb.REDO_LABEL)},icon:"arrowGoForwardFill"})],_S.prototype,"redo",1),DS([bw()],_S.prototype,"undoDepth",1),DS([bw()],_S.prototype,"redoDepth",1),_S=DS([gw({defaultOptions:{depth:100,newGroupDelay:500,getDispatch:void 0,getState:void 0},staticKeys:["depth","newGroupDelay"],handlerKeys:["onUndo","onRedo"]})],_S);var TS=Object.defineProperty,MS=Object.getOwnPropertyDescriptor,NS=function(e,t,n,r){for(var o,i=r>1?void 0:r?MS(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&TS(t,n,i),i},RS={icon:"paragraph",label:function(e){return(0,e.t)(Fb.INSERT_LABEL)},description:function(e){return(0,e.t)(Fb.INSERT_DESCRIPTION)}},PS={icon:"paragraph",label:function(e){return(0,e.t)(Fb.CONVERT_LABEL)},description:function(e){return(0,e.t)(Fb.CONVERT_DESCRIPTION)}},IS=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"paragraph"}},{key:"createTags",value:function(){return[ui.LastNodeCompatible,ui.TextBlock,ui.Block,ui.FormattingNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"inline*",draggable:!1},t),{},{attrs:h({},e.defaults()),parseDOM:[{tag:"p",getAttrs:function(t){return h({},e.parse(t))}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["p",e.dom(t),0]}})}},{key:"convertParagraph",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attrs,n=e.selection,r=e.preserveAttrs;return this.store.commands.setBlockNodeType.original(this.type,t,n,r)}},{key:"insertParagraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selection,r=t.attrs;return this.store.commands.insertNode.original(this.type,{content:e,selection:n,attrs:r})}},{key:"shortcut",value:function(e){return this.convertParagraph()(e)}}]),n}(fw);function FS(e,t,n,r){var o,i=!1,a=0;function u(){o&&clearTimeout(o)}function s(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=this,d=Date.now()-a;function p(){a=Date.now(),n.apply(f,l)}function h(){o=void 0}i||(r&&!o&&p(),u(),void 0===r&&d>e?p():!0!==t&&(o=setTimeout(r?h:p,void 0===r?e-d:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),s.cancel=function(){u(),i=!0},s}function LS(e,t,n){return void 0===n?FS(e,t,!1):FS(e,n,!1!==t)}function BS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function jS(e,t,n){return Math.min(Math.max(e,n),t)}NS([kw(PS)],IS.prototype,"convertParagraph",1),NS([kw(RS)],IS.prototype,"insertParagraph",1),NS([ww({shortcut:di.Paragraph,command:"convertParagraph"})],IS.prototype,"shortcut",1),IS=NS([gw({defaultPriority:ci.Medium})],IS);var zS=function(e){b(n,e);var t=E(n);function n(e){return v(this,n),t.call(this,'Failed to parse color: "'.concat(e,'"'))}return g(n)}(ef(Error));function $S(e){if("string"!==typeof e)throw new zS(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];var t=e.trim();t=JS.test(e)?function(e){var t=e.toLowerCase().trim(),n=WS[function(e){var t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new zS(e);return"#".concat(n)}(e):e;var n=VS.exec(t);if(n){var r=Array.from(n).slice(1);return[].concat(d(r.slice(0,3).map((function(e){return parseInt(HS(e,2),16)}))),[parseInt(HS(r[3]||"f",2),16)/255])}var o=KS.exec(t);if(o){var i=Array.from(o).slice(1);return[].concat(d(i.slice(0,3).map((function(e){return parseInt(e,16)}))),[parseInt(i[3]||"ff",16)/255])}var a=qS.exec(t);if(a){var u=Array.from(a).slice(1);return[].concat(d(u.slice(0,3).map((function(e){return parseInt(e,10)}))),[parseFloat(u[3]||"1")])}var s=GS.exec(t);if(s){var l=Ye(Array.from(s).slice(1).map(parseFloat),4),c=l[0],f=l[1],p=l[2],h=l[3];if(jS(0,100,f)!==f)throw new zS(e);if(jS(0,100,p)!==p)throw new zS(e);return[].concat(d(XS(c,f,p)),[Number.isNaN(h)?1:h])}throw new zS(e)}var US=function(e){return parseInt(e.replace(/_/g,""),36)},WS="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((function(e,t){for(var n=US(t.substring(0,3)),r=US(t.substring(3)).toString(16),o="",i=0;i<6-r.length;i++)o+="0";return e[n]="".concat(o).concat(r),e}),{});var HS=function(e,t){return Array.from(Array(t)).map((function(){return e})).join("")},VS=new RegExp("^#".concat(HS("([a-f0-9])",3),"([a-f0-9])?$"),"i"),KS=new RegExp("^#".concat(HS("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),qS=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(HS(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),GS=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,JS=/^[a-z]+$/i,YS=function(e){return Math.round(255*e)},XS=function(e,t,n){var r=n/100;if(0===t)return[r,r,r].map(YS);var o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),a=i*(1-Math.abs(o%2-1)),u=0,s=0,l=0;o>=0&&o<1?(u=i,s=a):o>=1&&o<2?(u=a,s=i):o>=2&&o<3?(s=i,l=a):o>=3&&o<4?(s=a,l=i):o>=4&&o<5?(u=a,l=i):o>=5&&o<6&&(u=i,l=a);var c=r-i/2;return[u+c,s+c,l+c].map(YS)};function QS(e){var t=Ye($S(e).map((function(e,t){return 3===t?e:e/255})),4),n=t[0],r=t[1],o=t[2],i=t[3],a=Math.max(n,r,o),u=Math.min(n,r,o),s=(a+u)/2;if(a===u)return[0,0,s,i];var l=a-u;return[60*(n===a?(r-o)/l+(r<o?6:0):r===a?(o-n)/l+2:(n-r)/l+4),s>.5?l/(2-a-u):l/(a+u),s,i]}function ZS(e,t,n,r){return"hsla(".concat((e%360).toFixed(),", ").concat(jS(0,100,100*t).toFixed(),"%, ").concat(jS(0,100,100*n).toFixed(),"%, ").concat(parseFloat(jS(0,1,r).toFixed(3)),")")}function eE(e,t){var n=Ye(QS(e),4);return ZS(n[0],n[1],n[2]-t,n[3])}function tE(e){if("transparent"===e)return 0;function t(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}var n=Ye($S(e),3),r=n[0],o=n[1],i=n[2];return.2126*t(r)+.7152*t(o)+.0722*t(i)}function nE(e,t,n,r){return"rgba(".concat(jS(0,255,e).toFixed(),", ").concat(jS(0,255,t).toFixed(),", ").concat(jS(0,255,n).toFixed(),", ").concat(parseFloat(jS(0,1,r).toFixed(3)),")")}var rE,oE,iE,aE,uE,sE,lE,cE,fE;function dE(e,t){return eE(e,-t)}function pE(e,t){var n=Ye($S(e),4);return nE(n[0],n[1],n[2],n[3]-t)}function hE(e){return function(e){return tE(e)>.179}(e)?"#000":"#fff"}function vE(e){return e.replace(/([a-z])([\dA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}function mE(e){return"--rmr-".concat(e.map(vE).join("-"))}function gE(e){return"var(".concat(mE(e),")")}function yE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gE(t.map((function(e){return e.toString()})))}var bE={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},kE="#000000",wE="#ffffff",xE=pE(kE,.75),SE="#7963d2",EE="#bcd263",CE=bE.gray[1],AE="rgba(10,31,68,0.08)",DE="rgba(10,31,68,0.10)",OE="rgba(10,31,68,0.12)",_E={background:wE,border:xE,foreground:kE,muted:CE,primary:SE,secondary:EE,primaryText:"#fff",secondaryText:"#fff",text:"#252103",faded:dE(pE(kE,.1),.13)},TE=h(h({},_E),{},{background:eE(wE,.15),border:eE(xE,.15),foreground:eE(kE,.15),muted:eE(CE,.15),primary:eE(SE,.15),secondary:eE(EE,.15),get text(){return hE(this.background)},get primaryText(){return hE(this.primary)},get secondaryText(){return hE(this.secondary)}}),ME=h(h({},_E),{},{background:eE(wE,.075),border:eE(xE,.075),foreground:eE(kE,.075),muted:eE(CE,.075),primary:eE(SE,.075),secondary:eE(EE,.075),get text(){return hE(this.background)},get primaryText(){return hE(this.primary)},get secondaryText(){return hE(this.secondary)}});h(h({},_E),{},{active:TE,hover:ME,shadow1:AE,shadow2:DE,shadow3:OE,backdrop:pE(kE,.1),outline:pE(SE,.6),table:{default:{border:dE(kE,.8),cell:dE(kE,.4),controller:bE.gray[3]},selected:{border:bE.blue[7],cell:bE.blue[1],controller:bE.blue[5]},preselect:{border:bE.blue[7],cell:dE(kE,.4),controller:bE.blue[5]},predelete:{border:bE.red[7],cell:bE.red[1],controller:bE.red[5]},mark:"#91919196"}}),"0 1px 1px ".concat(AE),"0 1px 1px ".concat(DE),"0 1px 1px ".concat(OE);yE("color","foreground"),yE("color","text"),yE("color","background"),yE("color","backdrop"),yE("color","border"),yE("color","shadow1"),yE("color","hover","border"),yE("color","active","border"),yE("color","primary"),yE("color","primaryText"),yE("color","hover","primary"),yE("color","hover","primaryText"),yE("color","active","primary"),yE("color","active","primaryText");var NE=Object.freeze({__proto__:null,EDITOR_WRAPPER:"remirror-editor-wrapper",BUTTON_ACTIVE:"remirror-button-active",BUTTON:"remirror-button",COMPOSITE:"remirror-composite",DIALOG:"remirror-dialog",DIALOG_BACKDROP:"remirror-dialog-backdrop",FORM:"remirror-form",FORM_MESSAGE:"remirror-form-message",FORM_LABEL:"remirror-form-label",FORM_GROUP:"remirror-form-group",GROUP:"remirror-group",INPUT:"remirror-input",MENU:"remirror-menu",MENU_PANE:"remirror-menu-pane",MENU_PANE_ACTIVE:"remirror-menu-pane-active",MENU_DROPDOWN_LABEL:"remirror-menu-dropdown-label",MENU_PANE_ICON:"remirror-menu-pane-icon",MENU_PANE_LABEL:"remirror-menu-pane-label",MENU_PANE_SHORTCUT:"remirror-menu-pane-shortcut",MENU_BUTTON_LEFT:"remirror-menu-button-left",MENU_BUTTON_RIGHT:"remirror-menu-button-right",MENU_BUTTON_NESTED_LEFT:"remirror-menu-button-nested-left",MENU_BUTTON_NESTED_RIGHT:"remirror-menu-button-nested-right",MENU_BUTTON:"remirror-menu-button",MENU_BAR:"remirror-menu-bar",FLEX_COLUMN:"remirror-flex-column",FLEX_ROW:"remirror-flex-row",MENU_ITEM:"remirror-menu-item",MENU_ITEM_ROW:"remirror-menu-item-row",MENU_ITEM_COLUMN:"remirror-menu-item-column",MENU_ITEM_CHECKBOX:"remirror-menu-item-checkbox",MENU_ITEM_RADIO:"remirror-menu-item-radio",MENU_GROUP:"remirror-menu-group",FLOATING_POPOVER:"remirror-floating-popover",POPOVER:"remirror-popover",ANIMATED_POPOVER:"remirror-animated-popover",ROLE:"remirror-role",SEPARATOR:"remirror-separator",TAB:"remirror-tab",TAB_LIST:"remirror-tab-list",TABBABLE:"remirror-tabbable",TOOLBAR:"remirror-toolbar",TOOLTIP:"remirror-tooltip",TABLE_SIZE_EDITOR:"remirror-table-size-editor",TABLE_SIZE_EDITOR_BODY:"remirror-table-size-editor-body",TABLE_SIZE_EDITOR_CELL:"remirror-table-size-editor-cell",TABLE_SIZE_EDITOR_CELL_SELECTED:"remirror-table-size-editor-cell-selected",TABLE_SIZE_EDITOR_FOOTER:"remirror-table-size-editor-footer",COLOR_PICKER:"remirror-color-picker",COLOR_PICKER_CELL:"remirror-color-picker-cell",COLOR_PICKER_CELL_SELECTED:"remirror-color-picker-cell-selected"}),RE=Object.freeze({__proto__:null,CALLOUT_EMOJI_WRAPPER:"remirror-callout-emoji-wrapper",EDITOR:"remirror-editor"}),PE=Object.freeze({__proto__:null,WRAP:"remirror-wrap",A11Y_DARK:"remirror-a11y-dark",ATOM_DARK:"remirror-atom-dark",BASE16_ATELIERSULPHURPOOL_LIGHT:"remirror-base16-ateliersulphurpool-light",CB:"remirror-cb",DARCULA:"remirror-darcula",DRACULA:"remirror-dracula",DUOTONE_DARK:"remirror-duotone-dark",DUOTONE_EARTH:"remirror-duotone-earth",DUOTONE_FOREST:"remirror-duotone-forest",DUOTONE_LIGHT:"remirror-duotone-light",DUOTONE_SEA:"remirror-duotone-sea",DUOTONE_SPACE:"remirror-duotone-space",GH_COLORS:"remirror-gh-colors",HOPSCOTCH:"remirror-hopscotch",POJOAQUE:"remirror-pojoaque",VS:"remirror-vs",XONOKAI:"remirror-xonokai"}),IE=Object.freeze({__proto__:null,IMAGE_LOADER:"remirror-image-loader"}),FE=Object.freeze({__proto__:null,LIST_ITEM_WITH_CUSTOM_MARKER:"remirror-list-item-with-custom-mark",UL_LIST_CONTENT:"remirror-ul-list-content",EDITOR:"remirror-editor",LIST_ITEM_MARKER_CONTAINER:"remirror-list-item-marker-container",LIST_ITEM_CHECKBOX:"remirror-list-item-checkbox",COLLAPSIBLE_LIST_ITEM_CLOSED:"remirror-collapsible-list-item-closed",COLLAPSIBLE_LIST_ITEM_BUTTON:"remirror-collapsible-list-item-button",LIST_SPINE:"remirror-list-spine"}),LE=Object.freeze({__proto__:null,IS_EMPTY:"remirror-is-empty"}),BE=Object.freeze({__proto__:null,EDITOR:"remirror-editor",POSITIONER:"remirror-positioner",POSITIONER_WIDGET:"remirror-positioner-widget"}),jE=12,zE="remirror-table-controller-wrapper",$E="remirror-table-controller-trigger-area",UE="remirror-table-controller-mark-row-corner",WE="remirror-table-controller-mark-column-corner";!function(){var e=String.raw,t=e(rE||(rE=BS(["\n    overflow: visible;\n    padding: 0;\n    cursor: pointer;\n    z-index: 15;\n    position: relative;\n  "]))),n=e(oE||(oE=BS(["\n    flex: 1;\n    position: relative;\n    z-index: 10;\n\n    /* Style for debug. Use linear-gradient as background so that we can differentiate two neighbor areas. */\n    /* background: linear-gradient(to left top, rgba(0, 255, 100, 0.2), rgba(200, 100, 255, 0.2)); */\n  "]))),r=e(iE||(iE=BS(["\n    overflow: visible;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n  "]))),o=e(aE||(aE=BS(["\n    position: absolute;\n    width: 0px;\n    height: 0px;\n    border-radius: 50%;\n    border-style: solid;\n    border-color: ",";\n    border-width: ","px;\n  "])),yE("color","table","mark"),2),i=e(uE||(uE=BS(["\n    bottom: -","px;\n    left: -12px;\n\n    ","\n  "])),2,o),a=e(sE||(sE=BS(["\n    ","\n\n    right: -","px;\n    top: -12px;\n  "])),o,2);e(lE||(lE=BS(["\n    ","\n\n    height: ","px;\n    width: ","px;\n\n    & div."," {\n      ","\n\n      width: ","px;\n      height: ","px;\n    }\n\n    & div."," {\n      ","\n\n      display: none;\n    }\n\n    & div."," {\n      ","\n    }\n    & div."," {\n      ","\n    }\n  "])),t,jE,jE,zE,r,jE,jE,$E,n,UE,i,WE,a),e(cE||(cE=BS(["\n    ","\n\n    height: ","px;\n\n    & div."," {\n      ","\n\n      width: 100%;\n      height: ","px;\n      flex-direction: row;\n    }\n\n    & div."," {\n      ","\n\n      height: 36px;\n    }\n\n    & div."," {\n      display: none;\n    }\n    & div."," {\n      ","\n    }\n  "])),t,jE,zE,r,jE,$E,n,UE,WE,a),e(fE||(fE=BS(["\n    ","\n\n    width: ","px;\n\n    & div."," {\n      ","\n\n      height: 100%;\n      width: ","px;\n      flex-direction: column;\n    }\n\n    & div."," {\n      ","\n\n      width: 36px;\n    }\n\n    & div."," {\n      ","\n    }\n    & div."," {\n      display: none;\n    }\n  "])),t,jE,zE,r,jE,$E,n,UE,i,WE)}();var HE,VE,KE,qE,GE,JE,YE,XE,QE,ZE=Object.freeze({__proto__:null,COLUMN_RESIZE_HANDLE:"column-resize-handle",SELECTED_CELL:"selectedCell",EDITOR:"remirror-editor",TABLE:"remirror-table",TABLE_SHOW_CONTROLLERS:"remirror-table-show-controllers",TABLE_CONTROLLER:"remirror-table-controller",TABLE_CONTROLLER_WRAPPER:zE,TABLE_CONTROLLER_TRIGGER_AREA:$E,TABLE_CONTROLLER_MARK_ROW_CORNER:UE,TABLE_CONTROLLER_MARK_COLUMN_CORNER:WE,TABLE_COLGROUP:"remirror-table-colgroup",CONTROLLERS_TOGGLE:"remirror-controllers-toggle",TABLE_INSERT_BUTTON:"remirror-table-insert-button",TABLE_DELETE_INNER_BUTTON:"remirror-table-delete-inner-button",TABLE_DELETE_TABLE_INNER_BUTTON:"remirror-table-delete-table-inner-button",TABLE_DELETE_ROW_COLUMN_INNER_BUTTON:"remirror-table-delete-row-column-inner-button",TABLE_WITH_CONTROLLERS:"remirror-table-with-controllers",TABLE_WAITTING_CONTROLLERS:"remirror-table-waitting-controllers",TABLE_TBODY_WITH_CONTROLLERS:"remirror-table-tbody-with-controllers",TABLE_PRESELECT_ALL:"remirror-table-preselect-all",TABLE_SHOW_PREDELETE:"remirror-table-show-predelete"}),eC=Object.defineProperty,tC=Object.getOwnPropertyDescriptor,nC=function(e,t,n,r){for(var o,i=r>1?void 0:r?tC(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&eC(t,n,i),i},rC=function(e,t,n){return function(e,t,n){t in e?eC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},oC=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},iC=function(e,t,n){return oC(e,t,"read from private field"),n?n.call(e):t.get(e)},aC=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},uC=function(e,t,n,r){return oC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},sC=function(){function e(t){var n,r=this;v(this,e),rC(this,"events"),aC(this,HE,jk()),aC(this,VE,[]),aC(this,KE,new Map),aC(this,qE,[]),aC(this,GE,!1),rC(this,"recentUpdate"),aC(this,JE,void 0),aC(this,YE,void 0),aC(this,XE,void 0),aC(this,QE,void 0),rC(this,"hasChanged"),rC(this,"addListener",(function(e,t){return iC(r,HE).on(e,t)})),uC(this,JE,t),uC(this,YE,t.getActive),uC(this,QE,t.getPosition),uC(this,XE,t.getID),this.hasChanged=t.hasChanged,this.events=null!=(n=t.events)?n:["state","scroll"]}return g(e,[{key:"basePositioner",get:function(){return{getActive:iC(this,YE),getPosition:iC(this,QE),hasChanged:this.hasChanged,events:this.events,getID:iC(this,XE)}}},{key:"onActiveChanged",value:function(e){var t=this;this.recentUpdate=e;var n=iC(this,YE).call(this,e);uC(this,VE,n),uC(this,KE,new Map),uC(this,GE,!1),uC(this,qE,[]);var r,o=[],i=qe(n.entries());try{var a=function(){var n=Ye(r.value,2),i=n[0],a=n[1],u=t.getID(a,i);iC(t,qE).push(u),o.push({setElement:function(n){return t.addProps(h(h({},e),{},{data:a,element:n}),i)},id:u,data:a})};for(i.s();!(r=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}iC(this,HE).emit("update",o)}},{key:"getID",value:function(e,t){var n,r;return null!=(r=null==(n=iC(this,XE))?void 0:n.call(this,e,t))?r:t.toString()}},{key:"addProps",value:function(e,t){if(!iC(this,GE)&&(iC(this,KE).set(t,e),!(iC(this,KE).size<iC(this,VE).length))){var n,r=[],o=qe(iC(this,VE).keys());try{for(o.s();!(n=o.n()).done;){var i=n.value,a=iC(this,KE).get(i);ga(a,{code:pi.INTERNAL,message:"Something went wrong when retrieving the parameters"});var u=iC(this,qE)[i];if(!u)return;r.push({position:iC(this,QE).call(this,a),element:a.element,id:u})}}catch(s){o.e(s)}finally{o.f()}iC(this,HE).emit("done",r)}}},{key:"clone",value:function(t){return e.create(h(h({},iC(this,JE)),Fi(t)?t(iC(this,JE)):t))}},{key:"active",value:function(e){var t=Fi(e)?e:function(){return e};return this.clone((function(e){return{getActive:function(n){return e.getActive(n).filter(t)}}}))}}],[{key:"create",value:function(t){return new e(t)}},{key:"fromPositioner",value:function(t,n){return e.create(h(h({},t.basePositioner),n))}}]),e}(),lC=sC;function cC(e){var t=e.tr,n=e.state,r=e.previousState;return!r||(!(!t||!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pC,r=null!=(t=null==e?void 0:e.getMeta(dC))?t:{},o=r.key;return o===n}(t))||(t?function(e){return e.docChanged||e.selectionSet}(t):!n.doc.eq(r.doc)||!n.selection.eq(r.selection)))}function fC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getBoundingClientRect(),o=n.accountForPadding,i=void 0!==o&&o,a=0,u=0,s=0,l=0;if(Zg(t)&&i){var c=Number.parseFloat(jg(t,"padding-left").replace("px","")),f=Number.parseFloat(jg(t,"padding-right").replace("px","")),d=Number.parseFloat(jg(t,"padding-top").replace("px","")),p=Number.parseFloat(jg(t,"padding-bottom").replace("px","")),h=Number.parseFloat(jg(t,"border-left").replace("px","")),v=Number.parseFloat(jg(t,"border-right").replace("px","")),m=Number.parseFloat(jg(t,"border-top").replace("px","")),g=Number.parseFloat(jg(t,"border-bottom").replace("px","")),y=t.offsetWidth-t.clientWidth,b=t.offsetHeight-t.clientHeight;a+=c+h+("rtl"===t.dir?y:0),u+=f+v+("rtl"===t.dir?0:y),s+=d+m,l+=p+g+b}for(var k=new DOMRect(r.left+a,r.top+s,r.width-u,r.height-l),w=0,x=[[e.top,e.left],[e.top,e.right],[e.bottom,e.left],[e.bottom,e.right]];w<x.length;w++){var S=Ye(x[w],2),E=S[0],C=S[1];if(la(E,k.top,k.bottom)&&la(C,k.left,k.right))return!0}return!1}HE=new WeakMap,VE=new WeakMap,KE=new WeakMap,qE=new WeakMap,GE=new WeakMap,JE=new WeakMap,YE=new WeakMap,XE=new WeakMap,QE=new WeakMap,rC(lC,"EMPTY",[]);var dC="positionerUpdate",pC="__all_positioners__",hC={y:-999999,x:-999999,width:0,height:0},vC=h(h({},hC),{},{left:-999999,top:-999999,bottom:-999999,right:-999999}),mC=h(h({},hC),{},{rect:h(h({},vC),{},{toJSON:function(){return vC}}),visible:!1}),gC=lC.create({hasChanged:cC,getActive:function(e){var t=e.state;if(!cy(t)||t.selection.$anchor.depth>2)return lC.EMPTY;var n=ay({predicate:function(e){return e.type.isBlock},selection:t});return n?[n]:lC.EMPTY},getPosition:function(e){var t=e.view,n=e.data,r=t.nodeDOM(n.pos);if(!Zg(r))return mC;var o=r.getBoundingClientRect(),i=t.dom.getBoundingClientRect(),a=o.height,u=o.width,s=t.dom.scrollLeft+o.left-i.left;return{y:t.dom.scrollTop+o.top-i.top,x:s,height:a,width:u,rect:o,visible:fC(o,t.dom)}}}),yC=gC.clone((function(e){var t=e.getActive;return{getActive:function(e){var n=Ye(t(e),1)[0];return n&&Iy(n.node)&&n.node.type===Ry(e.state.schema)?[n]:lC.EMPTY}}}));yC.clone((function(e){var t=e.getPosition;return{getPosition:function(e){return h(h({},t(e)),{},{width:1})}}})),yC.clone((function(e){var t=e.getPosition;return{getPosition:function(e){var n=t(e),r=n.width,o=n.x,i=n.y,a=n.height;return h(h({},t(e)),{},{width:1,x:r+o,rect:new DOMRect(r+o,i,1,a)})}}}));function bC(e){return lC.create({hasChanged:cC,getActive:function(t){var n=t.state,r=t.view;if(!e(n)||!Ey(n.selection))return lC.EMPTY;try{var o=n.selection,i=o.head,a=o.anchor;return[{from:r.coordsAtPos(a),to:r.coordsAtPos(i)}]}catch(u){return lC.EMPTY}},getPosition:function(e){var t,n=e.element,r=e.data,o=e.view,i=r.from,a=r.to,u=null!=(t=n.offsetParent)?t:o.dom,s=u.getBoundingClientRect(),l=Math.abs(a.bottom-i.top),c=l>i.bottom-i.top,f=Math.min(i.left,a.left),d=Math.min(i.top,a.top),p=u.scrollLeft+(c?a.left-s.left:f-s.left),h=u.scrollTop+d-s.top,v=c?1:Math.abs(i.left-a.right),m=new DOMRect(c?a.left:f,d,v,l);return{rect:m,y:h,x:p,height:l,width:v,visible:fC(m,o.dom)}}})}var kC=bC((function(e){return!e.selection.empty}));bC((function(e){return e.selection.empty})),bC((function(){return!0})),kC.clone((function(){return{getActive:function(e){var t=e.state,n=e.view;if(!t.selection.empty)return lC.EMPTY;var r=$y(t);if(!r)return lC.EMPTY;try{return[{from:n.coordsAtPos(r.from),to:n.coordsAtPos(r.to)}]}catch(o){return lC.EMPTY}}}}));var wC=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),rC(x(e),"positioners",[]),rC(x(e),"element"),rC(x(e),"onAddCustomHandler",(function(t){var n=t.positioner;if(n)return e.positioners=[].concat(d(e.positioners),[n]),e.store.commands.forceUpdate(),function(){e.positioners=e.positioners.filter((function(e){return e!==n}))}})),e}return g(n,[{key:"name",get:function(){return"positioner"}},{key:"createAttributes",value:function(){return{class:BE.EDITOR}}},{key:"init",value:function(){this.onScroll=LS(this.options.scrollDebounce,this.onScroll.bind(this))}},{key:"createEventHandlers",value:function(){var e=this;return{scroll:function(){return e.onScroll(),!1},hover:function(t,n){return e.positioner(e.getBaseProps("hover",{hover:n})),!1},contextmenu:function(t,n){return e.positioner(e.getBaseProps("contextmenu",{contextmenu:n})),!1}}}},{key:"onStateUpdate",value:function(e){this.positioner(h(h({},e),{},{previousState:e.firstUpdate?void 0:e.previousState,event:"state",helpers:this.store.helpers}))}},{key:"createDecorations",value:function(e){if(null!=this.element||(this.element=this.createElement()),!this.element.hasChildNodes())return bm.empty;var t=mm.widget(0,this.element,{key:"positioner-widget",side:-1,stopEvent:function(){return!0}});return bm.create(e.doc,[t])}},{key:"forceUpdatePositioners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pC;return function(t){var n=t.tr,r=t.dispatch;return null==r||r(n.setMeta(dC,{key:e})),!0}}},{key:"getPositionerWidget",value:function(){var e;return null!=(e=this.element)?e:this.element=this.createElement()}},{key:"createElement",value:function(){var e=document.createElement("span");return e.dataset.id="remirror-positioner-widget",e.setAttribute("role","presentation"),e}},{key:"triggerPositioner",value:function(e,t){e.hasChanged(t)&&e.onActiveChanged(h(h({},t),{},{view:this.store.view}))}},{key:"positioner",value:function(e){var t,n=qe(this.positioners);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.events.includes(e.event)||this.triggerPositioner(r,e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"getBaseProps",value:function(e,t){var n=this.store.getState(),r=this.store.previousState;return h({helpers:this.store.helpers,event:e,firstUpdate:!1,previousState:r,state:n},t)}},{key:"onScroll",value:function(){this.positioner(this.getBaseProps("scroll",{scroll:{scrollTop:this.store.view.dom.scrollTop}}))}}]),n}(lw);nC([kw()],wC.prototype,"forceUpdatePositioners",1),nC([bw()],wC.prototype,"getPositionerWidget",1),wC=nC([gw({defaultOptions:{scrollDebounce:100},customHandlerKeys:["positioner"],staticKeys:["scrollDebounce"]})],wC);var xC=Object.defineProperty,SC=Object.getOwnPropertyDescriptor,EC=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"text"}},{key:"createTags",value:function(){return[ui.InlineNode]}},{key:"createNodeSpec",value:function(){return{}}}]),n}(fw);EC=function(e,t,n,r){for(var o,i=r>1?void 0:r?SC(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&xC(t,n,i),i}([gw({disableExtraAttributes:!0,defaultPriority:ci.Medium})],EC);var CC=h(h(h(h({},Ix.defaultOptions),IS.defaultOptions),_S.defaultOptions),{},{excludeExtensions:[]});function AC(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t=h(h({},CC),t),r=n.content,o=n.depth,i=n.getDispatch,a=n.getState,u=n.newGroupDelay,s=n.excludeExtensions,l={},c=qe(null!=s?s:[]);try{for(c.s();!(e=c.n()).done;){var f=e.value;l[f]=!0}}catch(v){c.e(v)}finally{c.f()}var d=[];if(!l.history){var p=new _S({depth:o,getDispatch:i,getState:a,newGroupDelay:u});d.push(p)}return l.doc||d.push(new Ix({content:r})),l.text||d.push(new EC),l.paragraph||d.push(new IS),l.positioner||d.push(new wC),l.gapCursor||d.push(new eS),l.events||d.push(new Hx),d}var DC=Object.defineProperty,OC=Object.getOwnPropertyDescriptor,_C=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"placeholder"}},{key:"createAttributes",value:function(){return{"aria-placeholder":this.options.placeholder}}},{key:"createPlugin",value:function(){var e=this;return{state:{init:function(t,n){return h(h({},e.options),{},{empty:Ty(n.doc,{ignoreAttributes:!0})})},apply:function(t,n,r,o){return function(e){var t=e.pluginState,n=e.extension,r=e.tr,o=e.state;if(!r.docChanged)return t;return h(h({},n.options),{},{empty:Ty(o.doc)})}({pluginState:n,tr:t,extension:e,state:o})}},props:{decorations:function(t){return function(e){var t=e.extension,n=e.state,r=t.pluginKey.getState(n),o=r.empty,i=t.options,a=i.emptyNodeClass,u=i.placeholder;if(!o)return null;var s=[];return n.doc.descendants((function(e,t){var n=mm.node(t,t+e.nodeSize,{class:a,"data-placeholder":u});s.push(n)})),bm.create(n.doc,s)}({state:t,extension:e})}}}}},{key:"onSetOptions",value:function(e){e.changes.placeholder.changed&&this.store.phase>=fi.EditorView&&this.store.updateAttributes()}}]),n}(lw);_C=function(e,t,n,r){for(var o,i=r>1?void 0:r?OC(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&DC(t,n,i),i}([gw({defaultOptions:{emptyNodeClass:LE.IS_EMPTY,placeholder:""}})],_C);var TC,MC=n(4164),NC=Object.defineProperty,RC=Object.getOwnPropertyDescriptor,PC=function(e,t,n){return function(e,t,n){t in e?NC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},IC=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},FC=function(e,t,n){return IC(e,t,"read from private field"),n?n.call(e):t.get(e)},LC=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},BC=function(e,t,n,r){return IC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},jC=function(){function e(){var t=this;v(this,e),PC(this,"portals",new Map),LC(this,TC,jk()),PC(this,"on",(function(e){return FC(t,TC).on("update",e)})),PC(this,"once",(function(e){var n=FC(t,TC).on("update",(function(t){n(),e(t)}));return n}))}return g(e,[{key:"update",value:function(){FC(this,TC).emit("update",this.portals)}},{key:"render",value:function(e){var t,n=e.Component,r=e.container,o=this.portals.get(r);this.portals.set(r,{Component:n,key:null!=(t=null==o?void 0:o.key)?t:Ji()}),this.update()}},{key:"forceUpdate",value:function(){var e,t=qe(this.portals);try{for(t.s();!(e=t.n()).done;){var n=Ye(e.value,2),r=n[0],o=n[1].Component;this.portals.set(r,{Component:o,key:Ji()})}}catch(i){t.e(i)}finally{t.f()}}},{key:"remove",value:function(e){this.portals.delete(e),this.update()}}]),e}();TC=new WeakMap;var zC,$C,UC,WC,HC,VC,KC,qC,GC,JC,YC,XC,QC=function(e){var n=e.portals;return t.createElement(t.Fragment,null,n.map((function(e){var n=Ye(e,2),r=n[0],o=n[1],i=o.Component,a=o.key;return(0,MC.createPortal)(t.createElement(i,null),r,a)})))};var ZC=function(){function e(n){var r,o=this,i=n.getPosition,a=n.node,u=n.portalContainer,s=n.view,l=n.ReactComponent,c=n.options;v(this,e),LC(this,zC,void 0),LC(this,$C,[]),LC(this,UC,void 0),LC(this,WC,void 0),LC(this,HC,void 0),LC(this,VC,void 0),LC(this,KC,void 0),LC(this,qC,!1),LC(this,GC,void 0),LC(this,JC,void 0),LC(this,YC,void 0),LC(this,XC,(function(e){e&&(ga(FC(o,JC),{code:pi.REACT_NODE_VIEW,message:"You have applied a ref to a node view provided for '".concat(FC(o,zC).type.name,"' which doesn't support content.")}),e.append(FC(o,JC)))})),PC(this,"Component",(function(){var e=FC(o,HC);return ga(e,{code:pi.REACT_NODE_VIEW,message:"The custom react node view provided for ".concat(FC(o,zC).type.name," doesn't have a valid ReactComponent")}),t.createElement(e,{updateAttributes:o.updateAttributes,selected:o.selected,view:FC(o,UC),getPosition:FC(o,VC),node:FC(o,zC),forwardRef:FC(o,XC),decorations:FC(o,$C)})})),PC(this,"updateAttributes",(function(e){if(FC(o,UC).editable){var t=FC(o,UC).state.tr.setNodeMarkup(FC(o,VC).call(o),void 0,h(h({},FC(o,zC).attrs),e));FC(o,UC).dispatch(t)}})),ga(Fi(i),{message:"You are attempting to use a node view for a mark type. This is not supported yet. Please check your configuration."}),BC(this,zC,a),BC(this,UC,s),BC(this,WC,u),BC(this,HC,l),BC(this,VC,i),BC(this,KC,c),BC(this,YC,this.createDom());var f=null!=(r=this.createContentDom())?r:{},d=f.contentDOM,p=f.wrapper;BC(this,GC,null!=d?d:void 0),BC(this,JC,p),FC(this,JC)&&FC(this,YC).append(FC(this,JC)),this.setDomAttributes(FC(this,zC),FC(this,YC)),this.Component.displayName=Qc("".concat(FC(this,zC).type.name,"NodeView")),this.renderComponent()}return g(e,[{key:"selected",get:function(){return FC(this,qC)}},{key:"contentDOM",get:function(){return FC(this,GC)}},{key:"dom",get:function(){return FC(this,YC)}},{key:"renderComponent",value:function(){FC(this,WC).render({Component:this.Component,container:FC(this,YC)})}},{key:"createDom",value:function(){var e=FC(this,KC),t=e.defaultBlockNode,n=e.defaultInlineNode,r=FC(this,zC).isInline?document.createElement(n):document.createElement(t);return r.classList.add("".concat(Zc(FC(this,zC).type.name),"-node-view-wrapper")),r}},{key:"createContentDom",value:function(){var e,t;if(!FC(this,zC).isLeaf){var n=null==(t=(e=FC(this,zC).type.spec).toDOM)?void 0:t.call(e,FC(this,zC));if(n){var r,o=ud.renderSpec(document,n),i=o.contentDOM,a=o.dom;if(Zg(a))return r=a,a===i&&((r=document.createElement("span")).classList.add("".concat(Zc(FC(this,zC).type.name),"-node-view-content-wrapper")),r.append(i)),Zg(i),{wrapper:r,contentDOM:i}}}}},{key:"update",value:function(e,t){return!!ny({types:FC(this,zC).type,node:e})&&(FC(this,zC)===e&&FC(this,$C)===t||(FC(this,zC).sameMarkup(e)||this.setDomAttributes(e,FC(this,YC)),BC(this,zC,e),BC(this,$C,t),this.renderComponent()),!0)}},{key:"setDomAttributes",value:function(e,t){var n=FC(this,zC).type.spec.toDOM,r=e.attrs;if(n){var o=n(e);if(Pi(o)||function(e){return Qg(e)||Bi(e)&&Qg(e.dom)}(o))return;Bi(o[1])&&(r=o[1])}var i,a=qe(Ei(r));try{for(a.s();!(i=a.n()).done;){var u=Ye(i.value,2),s=u[0],l=u[1];t.setAttribute(s,l)}}catch(c){a.e(c)}finally{a.f()}}},{key:"selectNode",value:function(){BC(this,qC,!0),FC(this,YC)&&FC(this,YC).classList.add(ni),this.renderComponent()}},{key:"deselectNode",value:function(){BC(this,qC,!1),FC(this,YC)&&FC(this,YC).classList.remove(ni),this.renderComponent()}},{key:"destroy",value:function(){FC(this,WC).remove(FC(this,YC))}},{key:"ignoreMutation",value:function(e){return"selection"===e.type?!FC(this,zC).type.spec.selectable:!FC(this,JC)||!FC(this,JC).contains(e.target)}},{key:"stopEvent",value:function(e){var t;if(!FC(this,YC))return!1;if(Fi(FC(this,KC).stopEvent))return FC(this,KC).stopEvent({event:e});var n=e.target;if(!(FC(this,YC).contains(n)&&!(null==(t=this.contentDOM)?void 0:t.contains(n))))return!1;var r="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!r)return!0;var o=!!FC(this,zC).type.spec.draggable,i=sp.isSelectable(FC(this,zC)),a="copy"===e.type,u="paste"===e.type,s="cut"===e.type,l="mousedown"===e.type,c=e.type.startsWith("drag");return!o&&i&&c&&e.preventDefault(),!(c||r||a||u||s||l&&i)}}],[{key:"create",value:function(t){var n=t.portalContainer,r=t.ReactComponent,o=t.options;return function(t,i,a){return new e({options:o,node:t,view:i,getPosition:a,portalContainer:n,ReactComponent:r})}}}]),e}(),eA=ZC;zC=new WeakMap,$C=new WeakMap,UC=new WeakMap,WC=new WeakMap,HC=new WeakMap,VC=new WeakMap,KC=new WeakMap,qC=new WeakMap,GC=new WeakMap,JC=new WeakMap,YC=new WeakMap,XC=new WeakMap;var tA=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),PC(x(e),"portalContainer",new jC),e}return g(n,[{key:"name",get:function(){return"reactComponent"}},{key:"onCreate",value:function(){this.store.setStoreKey("portalContainer",this.portalContainer)}},{key:"createNodeViews",value:function(){var e,t,n=Oi(),r=null!=(e=this.store.managerSettings.nodeViewComponents)?e:{},o=qe(this.store.extensions);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.ReactComponent&&vw(i)&&"ssr"!==i.reactComponentEnvironment&&(n[i.name]=eA.create({options:this.options,ReactComponent:i.ReactComponent,portalContainer:this.portalContainer}))}}catch(f){o.e(f)}finally{o.f()}var a,u=qe(Ei(h(h({},this.options.nodeViewComponents),r)));try{for(u.s();!(a=u.n()).done;){var s=Ye(a.value,2),l=s[0],c=s[1];n[l]=eA.create({options:this.options,ReactComponent:c,portalContainer:this.portalContainer})}}catch(f){u.e(f)}finally{u.f()}return n}}]),n}(lw);tA=function(e,t,n,r){for(var o,i=r>1?void 0:r?RC(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&NC(t,n,i),i}([gw({defaultOptions:{defaultBlockNode:"div",defaultInlineNode:"span",defaultContentNode:"span",defaultEnvironment:"both",nodeViewComponents:{},stopEvent:null},staticKeys:["defaultBlockNode","defaultInlineNode","defaultContentNode","defaultEnvironment"]})],tA);var nA=Object.defineProperty,rA=Object.getOwnPropertyDescriptor,oA=h(h({},_C.defaultOptions),tA.defaultOptions),iA=[].concat(d(_C.staticKeys),d(tA.staticKeys)),aA=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"react"}},{key:"onSetOptions",value:function(e){var t=e.pickChanged;this.getExtension(_C).setOptions(t(["placeholder"]))}},{key:"createExtensions",value:function(){var e=this.options,t=e.emptyNodeClass,n=e.placeholder,r=e.defaultBlockNode,o=e.defaultContentNode,i=e.defaultEnvironment,a=e.defaultInlineNode,u=e.nodeViewComponents;return[new _C({emptyNodeClass:t,placeholder:n,priority:ci.Low}),new tA({defaultBlockNode:r,defaultContentNode:o,defaultEnvironment:i,defaultInlineNode:a,nodeViewComponents:u})]}}]),n}(lw);aA=function(e,t,n,r){for(var o,i=r>1?void 0:r?rA(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&nA(t,n,i),i}([gw({defaultOptions:oA,staticKeys:iA})],aA);var uA=n(9485),sA=["core","react"],lA=["refKey","ref"],cA=["state"],fA=["content","document","selection","extensions"],dA=["children","autoRender","i18n","locale","supportedLocales","hooks"],pA=Object.defineProperty,hA=function(e,t,n){return function(e,t,n){t in e?pA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},vA=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},mA=function(e,t,n){return vA(e,t,"read from private field"),n?n.call(e):t.get(e)};var gA=(0,t.createContext)(null);function yA(e){var n=(0,t.useContext)(gA),r=(0,t.useRef)(function(){var e=Ye((0,t.useState)(Oi()),2)[1];return(0,t.useCallback)((function(){e(Oi())}),[])}());ga(n,{code:pi.REACT_PROVIDER_CONTEXT});var o=n.addHandler;return(0,t.useEffect)((function(){var t=e;if(t){if(Bi(t))t=t.autoUpdate?function(){return r.current()}:void 0;if(Fi(t))return o("updated",t)}}),[o,e]),n}var bA,kA,wA=(bA=function(e){var t,n,r,o=e.props,i=null!=(t=o.locale)?t:"en",a=null!=(n=o.i18n)?n:La,u=null!=(r=o.supportedLocales)?r:[i];return{locale:i,i18n:a,supportedLocales:u,t:function(){return a._.apply(a,arguments)}}},ka((function(e){var n=(0,t.useRef)(null),r=(0,t.useRef)(),o=null==kA?void 0:kA(e),i=Ye((0,t.useState)((function(){return bA({get:xa(n),set:Sa(r),previousContext:void 0,props:e,state:o})})),2),a=i[0],u=i[1],s=[].concat(d(Object.values(e)),[o]);return(0,t.useEffect)((function(){0!==s.length&&u((function(t){return bA({get:xa(n),set:Sa(r),previousContext:t,props:e,state:o})}))}),s),n.current=a,r.current=u,a}))),xA=Ye(wA,2),SA=xA[0];xA[1];function EA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.core,r=t.react,o=i(t,sA);return Tx(e)?e:_x.create((function(){return[].concat(d(ca(e)),[new aA(r)],d(AC(n)))}),o)}function CA(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,t.useRef)(e),o=(0,t.useRef)(n),i=(0,t.useState)((function(){return EA(e,n)})),a=Ye(i,2),u=a[0],s=a[1];return r.current=e,o.current=n,(0,t.useEffect)((function(){return u.addHandler("destroy",(function(){s((function(){return EA(r.current,o.current)}))}))}),[u]),u}var AA,DA="object"===typeof uA&&uA.__esModule&&uA.default?uA.default:uA,OA=function(e){b(n,e);var t=E(n);function n(e){var r,o;return v(this,n),function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)}(x(r=t.call(this,e)),AA,void 0),hA(x(r),"rootPropsConfig",{called:!1,count:0}),hA(x(r),"getRootProps",(function(e){return r.internalGetRootProps(e,null)})),hA(x(r),"internalGetRootProps",(function(e,t){var n;r.rootPropsConfig.called=!0;var o=null!=e?e:Oi(),a=o.refKey,u=void 0===a?"ref":a,l=o.ref,c=i(o,lA);return h(h((s(n={},u,DA(l,r.onRef)),s(n,"key",r.uid),n),c),{},{children:t})})),hA(x(r),"onRef",(function(e){var t,n,o,i;e&&(r.rootPropsConfig.count+=1,ga(r.rootPropsConfig.count<=1,{code:pi.REACT_GET_ROOT_PROPS,message:"Called ".concat(r.rootPropsConfig.count," times")}),t=x(r),o=e,vA(t,n=AA,"write to private field"),i?i.call(t,o):n.set(t,o),r.onRefLoad())})),r.manager.view?(r.manager.view.setProps({state:r.manager.view.state,dispatchTransaction:r.dispatchTransaction,attributes:function(){return r.getAttributes()},editable:function(){var e;return null==(e=r.props.editable)||e}}),S(r)):(r.manager.getExtension(_C).setOptions({placeholder:null!=(o=r.props.placeholder)?o:""}),r)}return g(n,[{key:"name",get:function(){return"react"}},{key:"update",value:function(e){return ei(k(n.prototype),"update",this).call(this,e),this}},{key:"createView",value:function(e){var t=this;return new $m(null,{state:e,dispatchTransaction:this.dispatchTransaction,attributes:function(){return t.getAttributes()},editable:function(){var e;return null==(e=t.props.editable)||e},plugins:[]})}},{key:"updateState",value:function(e){var t=e.state,n=i(e,cA),r=n.triggerChange,o=void 0===r||r,a=n.tr,u=n.transactions;if(this.props.state)return ga(this.props.onChange,{code:pi.REACT_CONTROLLED,message:"You are required to provide the `onChange` handler when creating a controlled editor."}),ga(o,{code:pi.REACT_CONTROLLED,message:"Controlled editors do not support `clearContent` or `setContent` where `triggerChange` is `true`. Update the `state` prop instead."}),this.previousStateOverride||(this.previousStateOverride=this.getState()),void this.onChange({state:t,tr:a,transactions:u});a||u||(t=t.apply(t.tr.setMeta(oi,{}))),this.view.updateState(t),o&&0!==(null==u?void 0:u.length)&&this.onChange({state:t,tr:a,transactions:u}),this.manager.onStateUpdate({previousState:this.previousState,state:t,tr:a,transactions:u})}},{key:"updateControlledState",value:function(e,t){this.previousStateOverride=t,e=e.apply(e.tr.setMeta(oi,{})),this.view.updateState(e),this.manager.onStateUpdate({previousState:this.previousState,state:e}),this.previousStateOverride=void 0}},{key:"addProsemirrorViewToDom",value:function(e,t){"start"===this.props.insertPosition?e.insertBefore(t,e.firstChild):e.append(t)}},{key:"onRefLoad",value:function(){ga(mA(this,AA),{code:pi.REACT_EDITOR_VIEW,message:"Something went wrong when initializing the text editor. Please check your setup."});var e=this.props.autoFocus;this.addProsemirrorViewToDom(mA(this,AA),this.view.dom),e&&this.focus(e),this.onChange(),this.addFocusListeners()}},{key:"onUpdate",value:function(){var e=this;this.view&&mA(this,AA)&&this.view.setProps(h(h({},this.view.props),{},{editable:function(){var t;return null==(t=e.props.editable)||t}}))}},{key:"frameworkOutput",get:function(){return h(h({},this.baseOutput),{},{getRootProps:this.getRootProps,portalContainer:this.manager.store.portalContainer})}},{key:"resetRender",value:function(){this.rootPropsConfig.called=!1,this.rootPropsConfig.count=0}}]),n}(Sx);AA=new WeakMap;var _A="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;function TA(e){var n=e.manager,r=e.state,o=e.placeholder,i=e.editable;(0,t.useRef)(!0).current&&!zi(o)&&n.getExtension(aA).setOptions({placeholder:o}),(0,t.useEffect)((function(){null!=o&&n.getExtension(aA).setOptions({placeholder:o})}),[o,n]);var a=(0,t.useState)((function(){var t;if(r)return r;var o=n.createEmptyDoc(),i=Ye(Hi(e.initialContent)?e.initialContent:[null!=(t=e.initialContent)?t:o],2),a=i[0],u=i[1];return n.createState({content:a,selection:u})})),u=function(e){var n=(0,t.useRef)(e);n.current=e;var r=(0,t.useMemo)((function(){return new OA(n.current)}),[]);return r.update(e),r}({initialEditorState:Ye(a,1)[0],getProps:function(){return e}});return(0,t.useEffect)((function(){return function(){u.destroy()}}),[u]),(0,t.useEffect)((function(){u.onUpdate()}),[i,u]),function(e){var n=e.props.state,r=(0,t.useRef)(!!n),o=function(e){var n=(0,t.useRef)();return _A((function(){n.current=e})),n.current}(n);_A((function(){ga(n?!0===r.current:!1===r.current,{code:pi.REACT_CONTROLLED,message:r.current?"You have attempted to switch from a controlled to an uncontrolled editor. Once you set up an editor as a controlled editor it must always provide a `state` prop.":"You have provided a `state` prop to an uncontrolled editor. In order to set up your editor as controlled you must provide the `state` prop from the very first render."}),n&&n!==o&&e.updateControlledState(n,null!=o?o:void 0)}),[n,o,e])}(u),u.frameworkOutput}var MA,NA=function(){return t.createElement("div",h({className:NE.EDITOR_WRAPPER},yA().getRootProps()))},RA=function(e){return e.hook(),null};function PA(e){var n=e.children,r=e.autoRender,o=e.i18n,a=e.locale,u=e.supportedLocales,s=e.hooks,l=void 0===s?[]:s,c=TA(i(e,dA)),f=function(e){var n=Ye((0,t.useState)((function(){return Array.from(e.portals.entries())})),2),r=n[0],o=n[1];return(0,t.useEffect)((function(){return e.on((function(e){o(Array.from(e.entries()))}))}),[e]),(0,t.useMemo)((function(){return r}),[r])}(c.portalContainer),d="start"===r||!0===r||!n&&zi(r),p="end"===r;return t.createElement(SA,{i18n:o,locale:a,supportedLocales:u},t.createElement(gA.Provider,{value:c},t.createElement(QC,{portals:f}),l.map((function(e,n){return t.createElement(RA,{hook:e,key:n})})),d&&t.createElement(NA,null),n,p&&t.createElement(NA,null)))}var IA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return MA||((MA=e.createElement("div")).setAttribute("id","a11y-status-message"),MA.setAttribute("role","status"),MA.setAttribute("aria-live","polite"),MA.setAttribute("aria-relevant","additions text"),Object.assign(MA.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.append(MA),MA)};LS(500,(function(){IA().textContent=""}));function FA(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function LA(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function BA(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return LA(n.overflowY,t)||LA(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function jA(e,t,n,r,o,i,a,u){return i<e&&a>t||i>e&&a<t?0:i<=e&&u<=n||a>=t&&u>=n?i-e-r:a>t&&u<n||i<e&&u>n?a-t+o:0}var zA=Object.create,$A=Object.defineProperty,UA=Object.getOwnPropertyDescriptor,WA=Object.getOwnPropertyNames,HA=Object.getPrototypeOf,VA=Object.prototype.hasOwnProperty,KA=function(e,t){return function(){return t||(0,e[WA(e)[0]])((t={exports:{}}).exports,t),t.exports}}({"node_modules/.pnpm/fast-shallow-equal@1.0.0/node_modules/fast-shallow-equal/index.js":function(e){var t=Object.keys;e.equal=function(e,n){if(e===n)return!0;if(!(e instanceof Object)||!(n instanceof Object))return!1;for(var r=t(e),o=r.length,i=0;i<o;i++)if(!(r[i]in n))return!1;for(i=0;i<o;i++)if(e[r[i]]!==n[r[i]])return!1;return o===t(n).length}}});(function(e,t,n){n=null!=e?zA(HA(e)):{},function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var o,i=qe(WA(t));try{var a=function(){var i=o.value;VA.call(e,i)||i===n||$A(e,i,{get:function(){return t[i]},enumerable:!(r=UA(t,i))||r.enumerable})};for(i.s();!(o=i.n()).done;)a()}catch(u){i.e(u)}finally{i.f()}}}(!t&&e&&e.__esModule?n:$A(n,"default",{value:e,enumerable:!0}),e)})(KA()),"object"===typeof uA&&uA.__esModule&&uA.default&&uA.default;ya((function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,a=t.boundary,u=t.skipOverflowHiddenElements,s="function"==typeof a?a:function(e){return e!==a};if(!FA(e))throw new TypeError("Invalid target");for(var l,c,f=document.scrollingElement||document.documentElement,d=[],p=e;FA(p)&&s(p);){if((p=null==(c=(l=p).parentElement)?l.getRootNode().host||null:c)===f){d.push(p);break}null!=p&&p===document.body&&BA(p)&&!BA(document.documentElement)||null!=p&&BA(p,u)&&d.push(p)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),b=y.height,k=y.width,w=y.top,x=y.right,S=y.bottom,E=y.left,C="start"===o||"nearest"===o?w:"end"===o?S:w+b/2,A="center"===i?E+k/2:"end"===i?x:E,D=[],O=0;O<d.length;O++){var _=d[O],T=_.getBoundingClientRect(),M=T.height,N=T.width,R=T.top,P=T.right,I=T.bottom,F=T.left;if("if-needed"===r&&w>=0&&E>=0&&S<=v&&x<=h&&w>=R&&S<=I&&E>=F&&x<=P)return D;var L=getComputedStyle(_),B=parseInt(L.borderLeftWidth,10),j=parseInt(L.borderTopWidth,10),z=parseInt(L.borderRightWidth,10),$=parseInt(L.borderBottomWidth,10),U=0,W=0,H="offsetWidth"in _?_.offsetWidth-_.clientWidth-B-z:0,V="offsetHeight"in _?_.offsetHeight-_.clientHeight-j-$:0,K="offsetWidth"in _?0===_.offsetWidth?0:N/_.offsetWidth:0,q="offsetHeight"in _?0===_.offsetHeight?0:M/_.offsetHeight:0;if(f===_)U="start"===o?C:"end"===o?C-v:"nearest"===o?jA(g,g+v,v,j,$,g+C,g+C+b,b):C-v/2,W="start"===i?A:"center"===i?A-h/2:"end"===i?A-h:jA(m,m+h,h,B,z,m+A,m+A+k,k),U=Math.max(0,U+g),W=Math.max(0,W+m);else{U="start"===o?C-R-j:"end"===o?C-I+$+V:"nearest"===o?jA(R,I,M,j,$+V,C,C+b,b):C-(R+M/2)+V/2,W="start"===i?A-F-B:"center"===i?A-(F+N/2)+H/2:"end"===i?A-P+z+H:jA(F,P,N,B,z+H,A,A+k,k);var G=_.scrollLeft,J=_.scrollTop;C+=J-(U=Math.max(0,Math.min(J+U/q,_.scrollHeight-M/q+V))),A+=G-(W=Math.max(0,Math.min(G+W/K,_.scrollWidth-N/K+H)))}D.push({el:_,top:U,left:W})}return D}));"undefined"!==typeof document?t.useLayoutEffect:t.useEffect;var qA=n(7093),GA=["auto","target"],JA=["from","to","href"],YA=Object.defineProperty,XA=Object.getOwnPropertyDescriptor,QA=function(e,t,n,r){for(var o,i=r>1?void 0:r?XA(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&YA(t,n,i),i},ZA=function(e,t,n){return function(e,t,n){t in e?YA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},eD="updateLink",tD=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),ZA(x(e),"_autoLinkRegexNonGlobal"),e}return g(n,[{key:"name",get:function(){return"link"}},{key:"createTags",value:function(){return[ui.Link,ui.ExcludeInputRules]}},{key:"createMarkSpec",value:function(e,t){var n,r=this,o="data-link-auto",a=function(e){var t=r.options,n=t.defaultTarget,o=t.supportedTargets,i=n?[].concat(d(o),[n]):o;return e&&Di(i,e)?{target:e}:void 0};return h(h({inclusive:!1,excludes:"_"},t),{},{attrs:h(h({},e.defaults()),{},{href:{},target:{default:this.options.defaultTarget},auto:{default:!1}}),parseDOM:[{tag:"a[href]",getAttrs:function(t){if(!Zg(t))return!1;var n=t.getAttribute("href"),i=t.textContent,u=r.options.autoLink&&(t.hasAttribute(o)||n===i||(null==n?void 0:n.replace("".concat(r.options.defaultProtocol,"//"),""))===i);return h(h({},e.parse(t)),{},{href:n,auto:u},a(t.getAttribute("target")))}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e),r=(n.auto,n.target,i(n,GA)),u=t.attrs.auto?s({},o,""):{};return["a",h(h(h(h({},e.dom(t)),r),{},{rel:"noopener noreferrer nofollow"},u),a(t.attrs.target)),0]}})}},{key:"onCreate",value:function(){var e=this.options.autoLinkRegex;this._autoLinkRegexNonGlobal=new RegExp("^".concat(e.source,"$"),e.flags.replace("g",""))}},{key:"shortcut",value:function(e){var t=e.tr,n="",r=t.selection,o=r.from,i=r.to,a=r.empty,u=!1,s=Fy(r.$from,this.type);if(a){var l=null!=s?s:$y(t);if(!l)return!1;n=l.text,o=l.from,i=l.to,u=!0}return o!==i&&(u||(n=t.doc.textBetween(o,i)),this.options.onActivateLink(n),this.options.onShortcut({activeLink:s?{attrs:s.mark.attrs,from:s.from,to:s.to}:void 0,selectedText:n,from:o,to:i}),!0)}},{key:"updateLink",value:function(e,t){var n=this;return function(r){var o,i=r.tr;return!!(Ey(i.selection)&&!cy(i.selection)||$i(o=i.selection)&&o instanceof cp||_y({trState:i,type:n.type})||t)&&(i.setMeta(n.name,{command:eD,attrs:e,range:t}),function(e){return function(t){var n=t.dispatch,r=t.tr,o=e.type,i=e.attrs,a=void 0===i?Oi():i,u=e.appendText,s=e.range,l=s?ap.between(r.doc.resolve(s.from),r.doc.resolve(s.to)):r.selection,c=l.$from,f=l.from,d=l.to,p=0===c.depth&&r.doc.type.allowsMarkType(o);return r.doc.nodesBetween(f,d,(function(e){if(p)return!1;e.inlineContent&&e.type.allowsMarkType(o)&&(p=!0)})),!!p&&(null==n||n(r.addMark(f,d,o.create(a))&&u?r.insertText(u):r),!0)}}({type:n.type,attrs:e,range:t})(r))}}},{key:"selectLink",value:function(){return this.store.commands.selectMark.original(this.type)}},{key:"removeLink",value:function(e){var t=this;return function(n){return!!_y(h({trState:n.tr,type:t.type},e))&&vb({type:t.type,expand:!0,range:e})(n)}}},{key:"createPasteRules",value:function(){var e=this;return[{type:"mark",regexp:this.options.autoLinkRegex,markType:this.type,getAttributes:function(t,n){return{href:e.buildHref(Uy(t)),auto:!n}},transformMatch:function(t){var n=Uy(t);return!!n&&(!!e.isValidUrl(n)&&n)}}]}},{key:"createEventHandlers",value:function(){var e=this;return{clickMark:function(t,n){var r=n.getMark(e.type);if(r){var o=r.mark.attrs,i=h(h({},o),r);if(e.options.onClick(t,i))return!0;var a=!1;if(e.options.openLinkOnClick){a=!0;var u=o.href;window.open(u,"_blank")}return e.options.selectTextOnClick&&(a=!0,e.store.commands.selectText(r)),a}}}}},{key:"createPlugin",value:function(){var e=this;return{props:{handleClick:function(t,n){if(!e.options.selectTextOnClick&&!e.options.openLinkOnClick)return!1;var r=t.state,o=r.doc,i=r.tr,a=Fy(o.resolve(n),e.type);if(!a)return!1;if(e.options.openLinkOnClick){var u=a.mark.attrs.href;window.open(u,"_blank")}if(e.options.selectTextOnClick){var s=o.resolve(a.from),l=o.resolve(a.to),c=i.setSelection(ap.between(s,l));t.dispatch(c)}return!0}},appendTransaction:function(t,n,r){if((t.filter((function(t){return!!t.getMeta(e.name)})).forEach((function(t){var n=t.getMeta(e.name);if(n.command===eD){var o=n.range,i=n.attrs,a=r.selection,u=r.doc,s={range:o,selection:a,doc:u,attrs:i},l=null!=o?o:a,c=l.from,f=l.to;e.options.onUpdateLink(u.textBetween(c,f),s)}})),e.options.autoLink)&&(!(SS(n)-SS(r)===1)&&t.some((function(e){return e.docChanged})))){var o=ry(t,n),i=jy(o,[Ed,Sd]),a=o.mapping,u=r.tr,s=r.doc,l=e.store.chain(u),c=l.updateLink,f=l.removeLink;if(i.forEach((function(t){var r=t.prevFrom,o=t.prevTo,i=t.from,l=t.to,d=[],p=l-i===2,v=e.getLinkMarksInRange(n.doc,r,o,!0).filter((function(t){return t.mark.type===e.type})).map((function(e){var t=e.from,n=e.to,r=e.text;return{mappedFrom:a.map(t),mappedTo:a.map(n),text:r,from:t,to:n}}));v.forEach((function(t,r){var o=t.mappedFrom,a=t.mappedTo,u=t.from,m=t.to;return e.getLinkMarksInRange(s,o,a,!0).filter((function(t){return t.mark.type===e.type})).forEach((function(t){var a=n.doc.textBetween(u,m,void 0," "),g=s.textBetween(t.from,t.to+1,void 0," ").trim(),y=e.isValidUrl(a);e.isValidUrl(g)||(y&&(f({from:t.from,to:t.to}).tr(),v.splice(r,1)),p||i===l&&e.findAutoLinks(g).map((function(t){return e.addLinkProperties(h(h({},t),{},{from:o+t.start,to:o+t.end}))})).forEach((function(e){var t=e.attrs,n=e.range,r=e.text;c(t,n).tr(),d.push({attrs:t,range:n,text:r})})))}))})),e.findTextBlocksInRange(s,{from:i,to:l}).forEach((function(t){var n=t.text,r=t.positionStart;e.findAutoLinks(n).map((function(t){return e.addLinkProperties(h(h({},t),{},{from:r+t.start+1,to:r+t.end+1}))})).filter((function(e){var t=e.range,n=i>=t.from&&i<=t.to,r=l>=t.from&&l<=t.to;return n||r||p})).filter((function(t){var n=t.range;return 0===e.getLinkMarksInRange(u.doc,n.from,n.to,!1).length})).filter((function(e){var t=e.range.from,n=e.text;return!v.some((function(e){var r=e.text;return e.mappedFrom===t&&r===n}))})).forEach((function(e){var t=e.attrs,n=e.text,r=e.range;c(t,r).tr(),d.push({attrs:t,range:r,text:n})}))})),window.requestAnimationFrame((function(){d.forEach((function(t){var n=t.attrs,r=t.range,o=t.text,i=u.doc,a=u.selection;e.options.onUpdateLink(o,{attrs:n,doc:i,range:r,selection:a})}))}))})),0!==u.steps.length)return u}}}}},{key:"buildHref",value:function(e){return this.options.extractHref({url:e,defaultProtocol:this.options.defaultProtocol})}},{key:"getLinkMarksInRange",value:function(e,t,n,r){var o=this,i=[];if(t===n){var a=Math.max(t-1,0),u=Fy(e.resolve(a),this.type);(null==u?void 0:u.mark.attrs.auto)===r&&i.push(u)}else e.nodesBetween(t,n,(function(e,t){var n,a=(null!=(n=e.marks)?n:[]).find((function(e){var t=e.type,n=e.attrs;return t===o.type&&n.auto===r}));a&&i.push({from:t,to:t+e.nodeSize,mark:a,text:e.textContent})}));return i}},{key:"findTextBlocksInRange",value:function(e,t){var n=this,r=[];return e.nodesBetween(t.from,t.to,(function(e,t){e.isTextblock&&e.type.allowsMarkType(n.type)&&r.push({node:e,pos:t})})),r.map((function(t){return{text:e.textBetween(t.pos,t.pos+t.node.nodeSize,void 0," "),positionStart:t.pos}}))}},{key:"addLinkProperties",value:function(e){var t=e.from,n=e.to,r=e.href;return h(h({},i(e,JA)),{},{range:{from:t,to:n},attrs:{href:r,auto:!0}})}},{key:"findAutoLinks",value:function(e){if(this.options.findAutoLinks)return this.options.findAutoLinks(e,this.options.defaultProtocol);var t,n=[],r=qe(qi(e,this.options.autoLinkRegex));try{for(r.s();!(t=r.n()).done;){var o=t.value,i=Uy(o);if(i){var a=this.buildHref(i);this.isValidTLD(a)&&n.push({text:i,href:a,start:o.index,end:o.index+i.length})}}}catch(u){r.e(u)}finally{r.f()}return n}},{key:"isValidUrl",value:function(e){var t;return this.options.isValidUrl?this.options.isValidUrl(e,this.options.defaultProtocol):this.isValidTLD(this.buildHref(e))&&!!(null==(t=this._autoLinkRegexNonGlobal)?void 0:t.test(e))}},{key:"isValidTLD",value:function(e){var t=this.options.autoLinkAllowedTLDs;if(0===t.length)return!0;var n=qA(e);if(""===n)return!0;var r=ra(n.split("."));return t.includes(r)}}]),n}(cw);QA([ww({shortcut:di.InsertLink})],tD.prototype,"shortcut",1),QA([kw()],tD.prototype,"updateLink",1),QA([kw()],tD.prototype,"selectLink",1),QA([kw()],tD.prototype,"removeLink",1),tD=QA([gw({defaultOptions:{autoLink:!1,defaultProtocol:"",selectTextOnClick:!1,openLinkOnClick:!1,autoLinkRegex:/(?:(?:(?:https?|ftp):)?\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[\da-z\u00A1-\uFFFF][\w\u00A1-\uFFFF-]{0,62})?[\da-z\u00A1-\uFFFF]\.)*(?:(?:\d(?!\.)|[a-z\u00A1-\uFFFF])(?:[\da-z\u00A1-\uFFFF][\w\u00A1-\uFFFF-]{0,62})?[\da-z\u00A1-\uFFFF]\.)+[a-z\u00A1-\uFFFF]{2,}(?::\d{2,5})?(?:[#/?]\S*)?/gi,autoLinkAllowedTLDs:["com","de","net","org","uk","cn","ga","nl","cf","ml","tk","ru","br","gq","xyz","fr","eu","info","co","au","ca","it","in","ch","pl","es","online","us","top","be","jp","biz","se","at","dk","cz","za","me","ir","icu","shop","kr","site","mx","hu","io","cc","club","no","cyou"],findAutoLinks:void 0,isValidUrl:void 0,defaultTarget:null,supportedTargets:[],extractHref:function(e){var t=e.url,n=e.defaultProtocol,r=/^((?:https?|ftp)?:)\/\//.test(t);if(!r&&t.includes("@"))return"mailto:".concat(t);return r?t:"".concat(n,"//").concat(t)}},staticKeys:["autoLinkRegex"],handlerKeyOptions:{onClick:{earlyReturnValue:!0}},handlerKeys:["onActivateLink","onShortcut","onUpdateLink","onClick"],defaultPriority:ci.Medium})],tD);var nD=Object.defineProperty,rD=Object.getOwnPropertyDescriptor,oD=function(e,t,n,r){for(var o,i=r>1?void 0:r?rD(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&nD(t,n,i),i},iD=Ob.DESCRIPTION,aD=Ob.LABEL,uD={icon:"codeLine",description:function(e){return(0,e.t)(iD)},label:function(e){return(0,e.t)(aD)}},sD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"code"}},{key:"createTags",value:function(){return[ui.Code,ui.ExcludeInputRules]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({excludes:"_"},t),{},{attrs:e.defaults(),parseDOM:[{tag:"code",getAttrs:e.parse}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["code",h({spellcheck:"false"},e.dom(t)),0]}})}},{key:"createKeymap",value:function(){return{"Mod-`":Sw({type:this.type})}}},{key:"keyboardShortcut",value:function(e){return this.toggleCode()(e)}},{key:"toggleCode",value:function(){return Sw({type:this.type})}},{key:"createInputRules",value:function(){return[kb({regexp:new RegExp("(?:`)([^`".concat("\ufffc","]+)(?:`)$")),type:this.type,ignoreWhitespace:!0})]}},{key:"createPasteRules",value:function(){return[{type:"mark",regexp:/`([^`]+)`/g,markType:this.type}]}}]),n}(cw);oD([ww({shortcut:di.Code,command:"toggleCode"})],sD.prototype,"keyboardShortcut",1),oD([kw(uD)],sD.prototype,"toggleCode",1),sD=oD([gw({})],sD);var lD=["from","to"],cD=["from","to"],fD=Object.defineProperty,dD=Object.getOwnPropertyDescriptor,pD=function(e,t,n,r){for(var o,i=r>1?void 0:r?dD(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&fD(t,n,i),i},hD=function(e,t,n){return function(e,t,n){t in e?fD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n};function vD(e){var t,n,r,o=[],i=new Map,a=qe(e);try{for(a.s();!(r=a.n()).done;){var u=r.value,s=null!=(t=i.get(u.from))?t:[],l=null!=(n=i.get(u.to))?n:[];i.set(u.from,[].concat(d(s),[{type:"start",annotation:u}])),i.set(u.to,[].concat(d(l),[{type:"end",annotation:u}]))}}catch(g){a.e(g)}finally{a.f()}var c,f=oa(d(i.entries()),(function(e,t){return Ye(e,1)[0]-Ye(t,1)[0]})),p=[],h=0,v=qe(f);try{var m=function(){var e=Ye(c.value,2),t=e[0],n=e[1],r=n.filter((function(e){return"start"===e.type})).map((function(e){return e.annotation})),i=new Set(n.filter((function(e){return"end"===e.type})).map((function(e){return e.annotation.id})));p.length>0&&o.push({from:h,to:t,annotations:p}),h=t,p=[].concat(d(p),d(r)).filter((function(e){return!i.has(e.id)}))};for(v.s();!(c=v.n()).done;)m()}catch(g){v.e(g)}finally{v.f()}return o}var mD=function(){function e(t,n){v(this,e),this.getStyle=t,this.store=n,hD(this,"annotations",[]),hD(this,"decorationSet",bm.empty)}return g(e,[{key:"addAnnotation",value:function(e){var t=h({from:e.from,to:e.to},e.annotationData);this.store.addAnnotation(t)}},{key:"updateAnnotation",value:function(e){this.store.updateAnnotation(e.annotationId,e.annotationData)}},{key:"removeAnnotations",value:function(e){this.store.removeAnnotations(e.annotationIds)}},{key:"setAnnotations",value:function(e){this.store.setAnnotations(e.annotations)}},{key:"formatAnnotations",value:function(){return this.store.formatAnnotations()}},{key:"createDecorations",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=vD(n).map((function(e){var n=e.annotations.map((function(e){return e.className})).filter((function(e){return e})),r=t.getStyle(e.annotations);return mm.inline(e.from,e.to,{class:n.length>0?n.join(" "):void 0,style:r})}));return bm.create(e.doc,r)}},{key:"apply",value:function(e){var t=e.tr,n=e.action,r=null==n?void 0:n.type;return n||t.docChanged?(void 0!==r?(0===r&&this.addAnnotation(n),4===r&&this.updateAnnotation(n),2===r&&this.removeAnnotations(n),3===r&&this.setAnnotations(n),this.annotations=this.formatAnnotations(),this.decorationSet=this.createDecorations(t,this.annotations)):(this.annotations=this.annotations.map((function(e){return h(h({},e),{},{from:t.mapping.map(e.from,1),to:t.mapping.map(e.to,-1)})})).filter((function(e){return e.to!==e.from})),this.store.setAnnotations(this.annotations),this.decorationSet=this.decorationSet.map(t.mapping,t.doc)),this):this}}]),e}(),gD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};v(this,e),this.map=t,this.positionToStored=n,this.positionFromStored=r}return g(e,[{key:"addAnnotation",value:function(e){var t=e.from,n=e.to,r=i(e,lD),o=h({from:this.positionToStored(t),to:this.positionToStored(n)},r);this.map.set(r.id,o)}},{key:"updateAnnotation",value:function(e,t){var n=this.map.get(e);n&&this.map.set(e,h(h({},n),t))}},{key:"removeAnnotations",value:function(e){var t=this;e.forEach((function(e){t.map.delete(e)}))}},{key:"setAnnotations",value:function(e){var t=this;"function"===typeof this.map.clear?this.map.clear():this.map.forEach((function(e){return t.map.delete(e.id)})),e.forEach((function(e){t.addAnnotation(e)}))}},{key:"formatAnnotations",value:function(){var e=this,t=[];return this.map.forEach((function(n){var r=n.from,o=n.to,a=i(n,cD),u=e.positionFromStored(r),s=e.positionFromStored(o);if(u&&s){var l=h({from:u,to:s},a);t.push(l)}})),t}}]),e}();var yD=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),hD(x(e),"enrichText",(function(t){var n=e.store.getState().doc,r=t.to<=n.content.size?n.textBetween(t.from,t.to,e.options.blockSeparator):void 0;return h(h({},t),{},{text:r})})),e}return g(n,[{key:"name",get:function(){return"annotation"}},{key:"onSetOptions",value:function(e){Wi((0,e.pickChanged)(["getStore","getMap","transformPosition","transformPositionBeforeRender"]))||this.store.updateExtensionPlugins(this)}},{key:"createPlugin",value:function(){var e;this.options.getMap?(xi(Bg.isProduction||!this.options.getStore,'Must not provide both "getMap" and "getStore"'),e=new gD(this.options.getMap(),this.options.transformPosition,this.options.transformPositionBeforeRender)):e=this.options.getStore();var t=new mD(this.options.getStyle,e);return{state:{init:function(){return t},apply:function(e){var n=e.getMeta(yD.name);return t.apply({tr:e,action:n})}},props:{decorations:function(e){var t;return null==(t=this.getState(e))?void 0:t.decorationSet}}}}},{key:"addAnnotation",value:function(e){return function(t){var n=t.tr,r=t.dispatch,o=n.selection,i=o.empty,a=o.from,u=o.to;return!i&&(null==r||r(n.setMeta(yD.name,{type:0,from:a,to:u,annotationData:e})),!0)}}},{key:"updateAnnotation",value:function(e,t){return function(n){var r=n.tr,o=n.dispatch;if(o){var i=h(h({},t),{},{id:e}),a={type:4,annotationId:e,annotationData:i};o(r.setMeta(yD.name,a))}return!0}}},{key:"removeAnnotations",value:function(e){return function(t){var n=t.tr,r=t.dispatch;return null==r||r(n.setMeta(yD.name,{type:2,annotationIds:e})),!0}}},{key:"setAnnotations",value:function(e){return function(t){var n=t.tr,r=t.dispatch;return null==r||r(n.setMeta(yD.name,{type:3,annotations:e})),!0}}},{key:"redrawAnnotations",value:function(){return function(e){var t=e.tr,n=e.dispatch;return null==n||n(t.setMeta(yD.name,{type:1})),!0}}},{key:"getAnnotations",value:function(){return this.getPluginState().annotations.map(this.enrichText)}},{key:"getAnnotationsAt",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[],o=this.store.getState(),i=o.doc,a=o.selection,u=this.getPluginState(),s=Hy(null!=e?e:a,i),l=s.from,c=s.to,f=qe(u.annotations);try{for(f.s();!(t=f.n()).done;){var d=t.value;(la(l,d.from,d.to)||la(c,d.from,d.to)||la(d.from,l,c)||la(d.to,l,c))&&(n||d.from!==l&&d.to!==c)&&r.push(this.enrichText(d))}}catch(p){f.e(p)}finally{f.f()}return r}},{key:"selectionHasAnnotation",value:function(e){return this.getAnnotationsAt(e).length>0}}]),n}(lw);pD([kw()],yD.prototype,"addAnnotation",1),pD([kw()],yD.prototype,"updateAnnotation",1),pD([kw()],yD.prototype,"removeAnnotations",1),pD([kw()],yD.prototype,"setAnnotations",1),pD([kw()],yD.prototype,"redrawAnnotations",1),pD([bw()],yD.prototype,"getAnnotations",1),pD([bw()],yD.prototype,"getAnnotationsAt",1),pD([bw()],yD.prototype,"selectionHasAnnotation",1),yD=pD([gw({defaultOptions:{getStyle:function(e){var t=200*(1-Math.min(e.length,5)/5)+55;return"background: rgb(".concat(t,", ").concat(t,", 255);")},blockSeparator:void 0,getStore:function(){return new gD},getMap:void 0,transformPosition:void 0,transformPositionBeforeRender:void 0},defaultPriority:ci.Low})],yD);var bD=Object.defineProperty,kD=Object.getOwnPropertyDescriptor,wD=function(e,t,n,r){for(var o,i=r>1?void 0:r?kD(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&bD(t,n,i),i},xD={icon:"bold",label:function(e){return(0,e.t)(Cb.LABEL)},description:function(e){return(0,e.t)(Cb.DESCRIPTION)}},SD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"bold"}},{key:"createTags",value:function(){return[ui.FormattingMark,ui.FontStyle]}},{key:"createMarkSpec",value:function(e,t){var n,r=this;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"strong",getAttrs:e.parse},{tag:"b",getAttrs:function(t){return!(!Zg(t)||"normal"===t.style.fontWeight)&&e.parse(t)}},{style:"font-weight",getAttrs:function(e){return!(!Pi(e)||!/^(bold(er)?|[5-9]\d{2,})$/.test(e))&&null}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=r.options.weight;return n?["strong",{"font-weight":n.toString()},0]:["strong",e.dom(t),0]}})}},{key:"createInputRules",value:function(){return[kb({regexp:/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,type:this.type,ignoreWhitespace:!0})]}},{key:"toggleBold",value:function(e){return Sw({type:this.type,selection:e})}},{key:"setBold",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch,i=Hy(null!=e?e:r.selection,r.doc),a=i.from,u=i.to;return null==o||o(r.addMark(a,u,t.type.create())),!0}}},{key:"removeBold",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch,i=Hy(null!=e?e:r.selection,r.doc),a=i.from,u=i.to;return!!r.doc.rangeHasMark(a,u,t.type)&&(null==o||o(r.removeMark(a,u,t.type)),!0)}}},{key:"shortcut",value:function(e){return this.toggleBold()(e)}}]),n}(cw);wD([kw(xD)],SD.prototype,"toggleBold",1),wD([kw()],SD.prototype,"setBold",1),wD([kw()],SD.prototype,"removeBold",1),wD([ww({shortcut:di.Bold,command:"toggleBold"})],SD.prototype,"shortcut",1),SD=wD([gw({defaultOptions:{weight:void 0},staticKeys:["weight"]})],SD);var ED=Object.defineProperty,CD=Object.getOwnPropertyDescriptor,AD=function(e,t,n,r){for(var o,i=r>1?void 0:r?CD(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&ED(t,n,i),i},DD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"blockquote"}},{key:"createTags",value:function(){return[ui.Block,ui.FormattingNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"block+",defining:!0,draggable:!1},t),{},{attrs:e.defaults(),parseDOM:[{tag:"blockquote",getAttrs:e.parse,priority:100}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["blockquote",e.dom(t),0]}})}},{key:"toggleBlockquote",value:function(){return lb(this.type)}},{key:"shortcut",value:function(e){return this.toggleBlockquote()(e)}},{key:"createInputRules",value:function(){return[Fp(/^\s*>\s$/,this.type)]}},{key:"createPasteRules",value:function(){return{type:"node",nodeType:this.type,regexp:/^\s*>\s$/,startOfTextBlock:!0}}}]),n}(fw);AD([kw({icon:"doubleQuotesL",description:function(e){return(0,e.t)(Eb.DESCRIPTION)},label:function(e){return(0,e.t)(Eb.LABEL)}})],DD.prototype,"toggleBlockquote",1),AD([ww({shortcut:"Ctrl->",command:"toggleBlockquote"})],DD.prototype,"shortcut",1);function OD(e,t,n,r,o){for(var i=af.empty,a=n.length-1;a>=0;a--)i=af.from(n[a].type.create(n[a].attrs,i));e.step(new Ed(t.start-(r?2:0),t.end,t.start,t.end,new df(i,0,0),n.length,!0));for(var u=0,s=0;s<n.length;s++)n[s].type==o&&(u=s+1);for(var l=n.length-u,c=t.start+n.length-(r?2:0),f=t.parent,d=t.startIndex,p=t.endIndex,h=!0;d<p;d++,h=!1)!h&&Pd(e.doc,c,l)&&(e.split(c,l),c+=2*l),c+=f.child(d).nodeSize;return e}function _D(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(t){return t.childCount>0&&t.firstChild.type==e}));return!!a&&(!n||(o.node(a.depth-1).type==e?function(e,t,n,r){var o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new Ed(i-1,a,i,a,new df(af.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Of(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));var u=Dd(r);if(null==u)return!1;o.lift(r,u);var s=o.mapping.map(i,-1)-1;Fd(o.doc,s)&&o.join(s);return t(o.scrollIntoView()),!0}(t,n,e,a):function(e,t,n){for(var r=e.tr,o=n.parent,i=n.end,a=n.endIndex-1,u=n.startIndex;a>u;a--)i-=o.child(a).nodeSize,r.delete(i-1,i+1);var s=r.doc.resolve(n.start),l=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;var c=0==n.startIndex,f=n.endIndex==o.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(c?0:1),p+1,l.content.append(f?af.empty:af.from(o))))return!1;var h=s.pos,v=h+l.nodeSize;return r.step(new Ed(h-(c?1:0),v+(f?1:0),h+1,v-1,new df((c?af.empty:af.from(o.copy(af.empty))).append(f?af.empty:af.from(o.copy(af.empty))),c?0:1,f?0:1),c?0:1)),t(r.scrollIntoView()),!0}(t,n,a)))}}var TD=Object.defineProperty,MD=Object.getOwnPropertyDescriptor,ND=function(e,t,n,r){for(var o,i=r>1?void 0:r?MD(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&TD(t,n,i),i};function RD(e){var t;return!!(null==(t=e.spec.group)?void 0:t.includes(ui.ListContainerNode))}function PD(e){return RD(e.type)}function ID(e){return function(e){var t;return!!(null==(t=e.spec.group)?void 0:t.includes(ui.ListItemNode))}(e.type)}function FD(e,t){return function(n){var r=n.dispatch,o=n.tr,i=Vb(o,n.state),a=o.selection,u=a.$from,s=a.$to,l=u.blockRange(s);if(!l)return!1;var c=ay({predicate:function(e){return RD(e.type)},selection:o.selection});if(c&&l.depth-c.depth<=1&&0===l.startIndex){if(c.node.type===e)return zD(t)(n);if(RD(c.node.type))return e.validContent(c.node.content)?(null==r||r(o.setNodeMarkup(c.pos,e)),!0):!!function(e,t,n,r){var o=t.node,i=e.doc.resolve(t.start),a=i.node(-1),u=i.index(-1);if(!a)return!1;if(!a.canReplace(u,u+1,af.from(n.create())))return!1;for(var s=[],l=0;l<o.childCount;l++){var c=o.child(l);if(!r.validContent(c.content))return!1;var f=r.createChecked(null,c.content);s.push(f)}var d=n.createChecked(null,s),p=t.pos,h=p+o.nodeSize,v=e.selection.from;return e.replaceRangeWith(p,h,d),e.setSelection(e.selection.constructor.near(e.doc.resolve(v))),!0}(o,c,e,t)&&(null==r||r(o.scrollIntoView()),!0)}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var o=n.selection,i=o.$from,a=o.$to,u=i.blockRange(a),s=!1,l=u;if(!u)return!1;if(u.depth>=2&&i.node(u.depth-1).type.compatibleContent(e)&&0==u.startIndex){if(0==i.index(u.depth-1))return!1;var c=n.doc.resolve(u.start-2);l=new Of(c,c,u.depth),u.endIndex<u.parent.childCount&&(u=new Of(i,n.doc.resolve(a.end(u.depth)),u.depth)),s=!0}var f=Od(l,e,t,u);return!!f&&(r&&r(OD(n.tr,u,f,s,e).scrollIntoView()),!0)}}(e)(i,r)}}function LD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["checked"];return function(n){var r,o,i=n.tr,a=n.dispatch,u=n.state,s=by(e,u.schema),l=i.selection,c=l.$from,f=l.$to;if(Oy(i.selection)&&i.selection.node.isBlock||c.depth<2||!c.sameParent(f))return!1;var d=c.node(-1);if(d.type!==s)return!1;if(0===c.parent.content.size&&c.node(-1).childCount===c.indexAfter(-1)){if(2===c.depth||c.node(-3).type!==s||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){for(var p=c.index(-1)>0,v=af.empty,m=c.depth-(p?1:2);m>=c.depth-3;m--)v=af.from(c.node(m).copy(v));var g=(null==(r=s.contentMatch.defaultType)?void 0:r.createAndFill())||void 0;v=v.append(af.from(s.createAndFill(null,g)||void 0));var y=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3;i.replace(c.before(p?void 0:-1),c.after(-y),new df(v,p?3:2,2)),i.setSelection(i.selection.constructor.near(i.doc.resolve(c.pos+(p?3:2)))),a(i.scrollIntoView())}return!0}if(d.attrs.closed&&c.sameParent(f)&&f.pos===f.end()){if(a){var b=c.after(-1),k=(null==(o=s.contentMatch.defaultType)?void 0:o.createAndFill())||void 0,w=s.createAndFill(null,k);w&&(i.insert(b,w),i.setSelection(ap.near(i.doc.resolve(b+1)))),i.delete(c.pos,f.pos),a(i.scrollIntoView())}return!0}var x=Object.fromEntries(Object.entries(d.attrs).filter((function(e){var n=Ye(e,1)[0];return!t.includes(n)}))),S=f.pos===c.end()?d.contentMatchAt(0).defaultType:null,E=h({},c.node().attrs);i.delete(c.pos,f.pos);var C=S?[{type:s,attrs:x},{type:S,attrs:E}]:[{type:s,attrs:x}];return!!Pd(i.doc,c.pos,2)&&(a&&a(i.split(c.pos,2,C).scrollIntoView()),!0)}}function BD(e){var t=e.listType,n=e.itemType,r=e.tr,o=$D(r.selection);if(!o)return!1;var i=0===o.startIndex,a=r.selection,u=a.from,s=a.to;return!!function(e){var t,n=e.listType,r=e.itemType,o=e.tr,i=e.range,a=i.parent,u=o.doc.slice(i.start,i.end);if(a.type===n&&(null==(t=u.content.firstChild)?void 0:t.type)===r)return!1;for(var s=[],l=0;l<u.content.childCount;l++){var c=u.content.child(l);if(!r.validContent(c.content))return!1;var f=r.createChecked(null,c.content);s.push(f)}var d=n.createChecked(null,s);return o.replaceRange(i.start,i.end,new df(af.from(d),0,0)),!0}({listType:t,itemType:n,tr:r,range:o})&&(r.setSelection(ap.between(r.doc.resolve(i?u:u+2),r.doc.resolve(i?s:s+2))),r.scrollIntoView(),!0)}function jD(e,t){for(var n,r,o,i,a=t||e.selection.$from,u=[],s=a.depth;s>=0;s--){if(r=a.node(s),n=a.index(s),o=r.maybeChild(n-1),i=r.maybeChild(n),o&&i&&o.type.name===i.type.name&&PD(o)){var l=a.before(s+1);u.push(l)}if(n=a.indexAfter(s),o=r.maybeChild(n-1),i=r.maybeChild(n),o&&i&&o.type.name===i.type.name&&PD(o)){var c=a.after(s+1);u.push(c)}}u=d(new Set(u)).sort((function(e,t){return t-e}));var f,p=!1,h=qe(u);try{for(h.s();!(f=h.n()).done;){var v=f.value;Fd(e.doc,v)&&(e.join(v),p=!0)}}catch(m){h.e(m)}finally{h.f()}return p}function zD(e){return function(t){var n=t.dispatch,r=t.tr,o=Vb(r,t.state),i=function(e,t){var n=t.$from,r=t.$to,o=n.blockRange(r,(function(t){var n;return(null==(n=t.firstChild)?void 0:n.type)===e}));return o}(e,r.selection);return!!i&&(!n||(function(e,t,n){for(var r=e.tr,o=n.parent,i=r.mapping.maps.length,a=n.end,u=n.endIndex-1,s=n.startIndex;u>s;u--)a-=o.child(u).nodeSize,r.delete(a-1,a+1);var l=r.doc.resolve(n.start),c=l.nodeAfter;if(!c)return!1;if(r.mapping.slice(i).map(n.end)!==n.start+c.nodeSize)return!1;var f=0===n.startIndex,d=n.endIndex===o.childCount,p=l.node(-1),h=l.index(-1);if(!p.canReplace(h+(f?0:1),h+1,c.content.append(d?af.empty:af.from(o))))return!1;var v=l.pos,m=v+c.nodeSize;r.step(new Ed(v-(f?1:0),m+(d?1:0),v+1,m-1,new df((f?af.empty:af.from(o.copy(af.empty))).append(d?af.empty:af.from(o.copy(af.empty))),f?0:1,d?0:1),f?0:1)),t(r.scrollIntoView())}(o,n,i),!0))}}function $D(e){var t=e.$from,n=e.$to;return t.blockRange(n,PD)}function UD(e){var t=e.view;if(!t)return!1;var n=t.state.selection.$cursor;if(!n||n.parentOffset>0)return!1;var r=n.blockRange();if(!r||!ID(r.parent)||0!==r.startIndex)return!1;var o=t.state.tr;(function(e){var t=e.selection.$from,n=t.blockRange();if(!n||!ID(n.parent)||0!==n.startIndex)return!1;var r=t.node(n.depth-2),o=t.index(n.depth),i=t.index(n.depth-1),a=t.index(n.depth-2),u=r.maybeChild(a-1),s=null==u?void 0:u.lastChild;if(0!==o||0!==i)return!1;if(u&&PD(u)&&s&&ID(s))return BD({listType:u.type,itemType:s.type,tr:e});if(ID(r)){var l=r,c=t.node(n.depth-3);if(PD(c))return BD({listType:c.type,itemType:l.type,tr:e})}return!1})(o)&&t.dispatch(o);var i=t.state.selection.$cursor;if(!i||i.parentOffset>0)return!1;var a=i.blockRange();if(!a||!ID(a.parent)||0!==a.startIndex)return!1;var u=i.index(a.depth),s=i.index(a.depth-1),l=i.index(a.depth-2),c=a.depth-2>=1&&ID(i.node(a.depth-2));return 0===u&&0===s&&l<=1&&c&&_D(a.parent.type)(t.state,t.dispatch),Yb(t.state,t.dispatch,t),!0}function WD(e){var t=e.node,n=e.mark,r=e.updateDOM,o=e.updateMark,i=document.createElement("label");i.contentEditable="false",i.classList.add(FE.LIST_ITEM_MARKER_CONTAINER),i.append(n);var a=document.createElement("div"),u=document.createElement("li");u.classList.add(FE.LIST_ITEM_WITH_CUSTOM_MARKER),u.append(i),u.append(a);var s=function(e){return e.type===t.type&&(r(t=e,u),o(t,n),!0)};return s(t),{dom:u,contentDOM:a,update:s}}function HD(e){var t=$D(e.selection);if(!t)return!1;var n=function(e,t){var n=e.node(t.depth-1),r=e.node(t.depth-2);return!(!ID(n)||!PD(r))&&{parentItem:n,parentList:r}}(e.selection.$from,t);if(!n)return!1;var r=n.parentItem,o=n.parentList;t=function(e,t){var n=t.parent,r=t.parent.child(t.endIndex-1),o=t.end,i=t.$to.end(t.depth);return o<i?(e.step(new Ed(o-1,i,o,i,new df(af.from(r.type.create(null,n.copy())),1,0),1,!0)),new Of(e.doc.resolve(t.$from.pos),e.doc.resolve(i),t.depth)):t}(e,t),t=function(e,t){var n=t.parent,r=t.parent.child(t.endIndex-1),o=t.end,i=t.$to.end(t.depth-1);return o+1<i?(e.step(new Ed(o-1,i,o+1,i,new df(af.from(n.type.create(null,r.type.create(null))),2,0),0,!0)),new Of(e.selection.$from,e.selection.$to,t.depth)):t}(e,t),t=function(e,t,n,r){return BD({listType:n.type,itemType:r.type,tr:e})?new Of(e.selection.$from,e.selection.$to,t.depth):t}(e,t,o,r);var i=Dd(t);return"number"!==typeof i||(e.lift(t,i),(t=$D(e.selection))&&jD(e,e.doc.resolve(t.end-2))),!0}var VD=function(e){var t=e.tr,n=e.dispatch;return!!HD(t)&&(null==n||n(t.scrollIntoView()),!0)};function KD(e){var t=e.selection,n=t.$from,r=t.$to,o=$D(e.selection);if(!o)return!1;var i=e.doc.resolve(o.start).node();if(!PD(i))return!1;var a=function(e,t,n){var r,o,i,a,u=t.doc;if(n.startIndex>=1){r=e.child(n.startIndex-1),o=e,i=(a=u.resolve(n.start).start(n.depth))+1;for(var s=0;s<n.startIndex-1;s++)i+=o.child(s).nodeSize}else{var l=t.index(n.depth-1);if(!(l>=1))return!1;var c=t.node(n.depth-1),f=t.start(n.depth-1);if(!PD(o=c.child(l-1)))return!1;a=f+1;for(var d=0;d<l-1;d++)a+=c.child(d).nodeSize;if(r=o.child(o.childCount-1),i=a+o.nodeSize-r.nodeSize-1,!ID(r))return!1}return{previousItem:r,previousList:o,previousItemStart:i,previousListStart:a}}(i,n,o);if(!a)return!1;var u=a.previousItem,s=a.previousList,l=a.previousItemStart,c=function(e,t,n){var r,o,i=n.start,a=t.depth>=n.depth+2?t.end(n.depth+2):n.end-1,u=n.end;return a+1>=u?(r=e.slice(i,u),o=null):(r=e.slice(i,a),o=e.slice(a+1,u-1)),{selectedSlice:r,unselectedSlice:o}}(e.doc,r,o),f=c.selectedSlice,d=c.unselectedSlice,p=u.content.append(af.fromArray([i.copy(f.content)])).append(d?d.content:af.empty);e.deleteRange(o.start,o.end);var h=l+u.nodeSize-2,v=u.copy(p);return v.check(),e.replaceRangeWith(l-1,h+1,v),e.setSelection(s===i?ap.between(e.doc.resolve(n.pos),e.doc.resolve(r.pos)):ap.between(e.doc.resolve(n.pos-2),e.doc.resolve(r.pos-2))),!0}var qD=function(e){var t=e.tr,n=e.dispatch;return!!KD(t)&&(null==n||n(t.scrollIntoView()),!0)},GD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"listItemShared"}},{key:"createKeymap",value:function(){var e={Tab:qD,"Shift-Tab":VD,Backspace:UD,"Mod-Backspace":UD};if(Bg.isMac){var t={"Ctrl-h":e.Backspace,"Alt-Backspace":e["Mod-Backspace"]};return h(h({},e),t)}return e}},{key:"createPlugin",value:function(){return{appendTransaction:function(e,t,n){var r=n.tr;return jD(r)?r:null}}}}]),n}(lw),JD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"listItem"}},{key:"createTags",value:function(){return[ui.ListItemNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"paragraph block*",defining:!0,draggable:!1},t),{},{attrs:h(h({},e.defaults()),{},{closed:{default:!1},nested:{default:!1}}),parseDOM:[{tag:"li",getAttrs:e.parse,priority:ci.Lowest}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["li",e.dom(t),0]}})}},{key:"createNodeViews",value:function(){var e=this;return this.options.enableCollapsible?function(t,n,r){var o=document.createElement("div");return o.classList.add(FE.COLLAPSIBLE_LIST_ITEM_BUTTON),o.contentEditable="false",o.addEventListener("click",(function(){if(!o.classList.contains("disabled")){var t=r(),i=sp.create(n.state.doc,t);return n.dispatch(n.state.tr.setSelection(i)),e.store.commands.toggleListItemClosed(),!0}})),WD({mark:o,node:t,updateDOM:YD,updateMark:XD})}:{}}},{key:"createKeymap",value:function(){return{Enter:LD(this.type)}}},{key:"createExtensions",value:function(){return[new GD]}},{key:"toggleListItemClosed",value:function(e){var t=this;return function(n){var r=n.state,o=r.tr,i=r.selection,a=n.dispatch;if(!Oy(i)||i.node.type.name!==t.name)return!1;var u,s=i.node,l=i.from;return e=!0===(u=e)||!1===u?e:!s.attrs.closed,null==a||a(o.setNodeMarkup(l,void 0,h(h({},s.attrs),{},{closed:e}))),!0}}},{key:"liftListItemOutOfList",value:function(e){return zD(null!=e?e:this.type)}}]),n}(fw);function YD(e,t){e.attrs.closed?t.classList.add(FE.COLLAPSIBLE_LIST_ITEM_CLOSED):t.classList.remove(FE.COLLAPSIBLE_LIST_ITEM_CLOSED)}function XD(e,t){e.childCount<=1?t.classList.add("disabled"):t.classList.remove("disabled")}ND([kw()],JD.prototype,"toggleListItemClosed",1),ND([kw()],JD.prototype,"liftListItemOutOfList",1),JD=ND([gw({defaultOptions:{enableCollapsible:!1},staticKeys:["enableCollapsible"]})],JD);var QD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"bulletList"}},{key:"createTags",value:function(){return[ui.Block,ui.ListContainerNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"listItem+"},t),{},{attrs:e.defaults(),parseDOM:[{tag:"ul",getAttrs:e.parse}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["ul",e.dom(t),0]}})}},{key:"createNodeViews",value:function(){var e=this;return this.options.enableSpine?function(t,n,r){var o,i=document.createElement("div");i.style.position="relative";var a=r(),u=n.state.doc.resolve(a+1),s=u.node(u.depth-1);if(!("listItem"!==(null==(o=null==s?void 0:s.type)?void 0:o.name))){var l=document.createElement("div");l.contentEditable="false",l.classList.add(FE.LIST_SPINE),l.addEventListener("click",(function(t){var o=r(),i=n.state.doc.resolve(o+1),a=i.start(i.depth-1),u=sp.create(n.state.doc,a-1);n.dispatch(n.state.tr.setSelection(u)),e.store.commands.toggleListItemClosed(),t.preventDefault(),t.stopPropagation()})),i.append(l)}var c=document.createElement("ul");return c.classList.add(FE.UL_LIST_CONTENT),i.append(c),{dom:i,contentDOM:c}}:{}}},{key:"createExtensions",value:function(){return[new JD({priority:ci.Low,enableCollapsible:this.options.enableSpine})]}},{key:"toggleBulletList",value:function(){return FD(this.type,wi(this.store.schema.nodes,"listItem"))}},{key:"listShortcut",value:function(e){return this.toggleBulletList()(e)}},{key:"createInputRules",value:function(){var e=this,t=/^\s*([*+-])\s$/;return[Fp(t,this.type),new Rp(t,(function(t,n,r,o){var i=t.tr;return i.deleteRange(r,o),BD({listType:e.type,itemType:wi(e.store.schema.nodes,"listItem"),tr:i})?i:null}))]}}]),n}(fw);ND([kw({icon:"listUnordered",label:function(e){return(0,e.t)(Pb.BULLET_LIST_LABEL)}})],QD.prototype,"toggleBulletList",1),ND([ww({shortcut:di.BulletList,command:"toggleBulletList"})],QD.prototype,"listShortcut",1),QD=ND([gw({defaultOptions:{enableSpine:!1},staticKeys:["enableSpine"]})],QD);var ZD=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"orderedList"}},{key:"createTags",value:function(){return[ui.Block,ui.ListContainerNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"listItem+"},t),{},{attrs:h(h({},e.defaults()),{},{order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(t){var n;return Zg(t)?h(h({},e.parse(t)),{},{order:+(null!=(n=t.getAttribute("start"))?n:1)}):{}}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=e.dom(t);return 1===t.attrs.order?["ol",n,0]:["ol",h(h({},n),{},{start:t.attrs.order}),0]}})}},{key:"createExtensions",value:function(){return[new JD({priority:ci.Low})]}},{key:"toggleOrderedList",value:function(){return FD(this.type,wi(this.store.schema.nodes,"listItem"))}},{key:"listShortcut",value:function(e){return this.toggleOrderedList()(e)}},{key:"createInputRules",value:function(){var e=this,t=/^(\d+)\.\s$/;return[Fp(t,this.type,(function(e){return{order:+wi(e,1)}}),(function(e,t){return t.childCount+t.attrs.order===+wi(e,1)})),new Rp(t,(function(t,n,r,o){var i=t.tr;if(i.deleteRange(r,o),!BD({listType:e.type,itemType:wi(e.store.schema.nodes,"listItem"),tr:i}))return null;var a=+wi(n,1);if(1!==a){var u=sy({selection:i.selection,types:e.type});u&&i.setNodeMarkup(u.pos,void 0,{order:a})}return i}))]}}]),n}(fw);ND([kw({icon:"listOrdered",label:function(e){return(0,e.t)(Pb.ORDERED_LIST_LABEL)}})],ZD.prototype,"toggleOrderedList",1),ND([ww({shortcut:di.OrderedList,command:"toggleOrderedList"})],ZD.prototype,"listShortcut",1),ZD=ND([gw({})],ZD);var eO=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"taskListItem"}},{key:"createTags",value:function(){return[ui.ListItemNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"paragraph block*",defining:!0,draggable:!1},t),{},{attrs:h(h({},e.defaults()),{},{checked:{default:!1}}),parseDOM:[{tag:"li[data-task-list-item]",getAttrs:function(t){var n=!1;return Zg(t)&&null!==t.getAttribute("data-checked")&&(n=!0),h({checked:n},e.parse(t))},priority:ci.Medium}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["li",h(h({},e.dom(t)),{},{"data-task-list-item":"","data-checked":t.attrs.checked?"":void 0}),0]}})}},{key:"createNodeViews",value:function(){var e=this;return function(t,n,r){var o=document.createElement("input");return o.type="checkbox",o.classList.add(FE.LIST_ITEM_CHECKBOX),o.contentEditable="false",o.addEventListener("click",(function(e){n.editable||e.preventDefault()})),o.addEventListener("change",(function(){var t=r(),o=n.state.doc.resolve(t+1);e.store.commands.toggleCheckboxChecked({$pos:o})})),o.checked=t.attrs.checked,WD({node:t,mark:o,updateDOM:tO,updateMark:nO})}}},{key:"createKeymap",value:function(){return{Enter:LD(this.type)}}},{key:"createExtensions",value:function(){return[new GD]}},{key:"toggleCheckboxChecked",value:function(e){var t,n,r=this;return"boolean"===typeof e?t=e:e&&(t=e.checked,n=e.$pos),function(e){var o=e.tr,i=e.dispatch,a=sy({selection:null!=n?n:o.selection.$from,types:r.type});if(!a)return!1;var u=a.node,s=a.pos,l=h(h({},u.attrs),{},{checked:null!=t?t:!u.attrs.checked});return null==i||i(o.setNodeMarkup(s,void 0,l)),!0}}},{key:"createInputRules",value:function(){var e=this,t=/^\s*(\[( ?|x|X)]\s)$/;return[Fp(t,this.type,(function(e){return{checked:["x","X"].includes(Uy(e,2))}})),new Rp(t,(function(t,n,r,o){var i=t.tr;if(i.deleteRange(r,o),!BD({listType:wi(e.store.schema.nodes,"taskList"),itemType:e.type,tr:i}))return null;var a=["x","X"].includes(Uy(n,2));if(a){var u=sy({selection:i.selection,types:e.type});u&&i.setNodeMarkup(u.pos,void 0,{checked:a})}return i}))]}}]),n}(fw);function tO(e,t){e.attrs.checked?t.setAttribute("data-checked",""):t.removeAttribute("data-checked"),t.setAttribute("data-task-list-item","")}function nO(e,t){t.checked=!!e.attrs.checked}ND([kw()],eO.prototype,"toggleCheckboxChecked",1);var rO=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"taskList"}},{key:"createTags",value:function(){return[ui.Block,ui.ListContainerNode]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({content:"taskListItem+"},t),{},{attrs:e.defaults(),parseDOM:[{tag:"ul[data-task-list]",getAttrs:e.parse,priority:ci.Medium}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["ul",h(h({},e.dom(t)),{},{"data-task-list":""}),0]}})}},{key:"createExtensions",value:function(){return[new eO({})]}},{key:"toggleTaskList",value:function(){return FD(this.type,wi(this.store.schema.nodes,"taskListItem"))}},{key:"listShortcut",value:function(e){return this.toggleTaskList()(e)}}]),n}(fw);ND([kw({icon:"checkboxMultipleLine",label:function(e){return(0,e.t)(Pb.TASK_LIST_LABEL)}})],rO.prototype,"toggleTaskList",1),ND([ww({shortcut:di.TaskList,command:"toggleTaskList"})],rO.prototype,"listShortcut",1);var oO=["type","emoji"],iO=Object.defineProperty,aO=Object.getOwnPropertyDescriptor,uO=function(e,t,n,r){for(var o,i=r>1?void 0:r?aO(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&iO(t,n,i),i},sO=function(e,t,n){return function(e,t,n){t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},lO="data-callout-type",cO="data-callout-emoji";function fO(e){return function(t,n){return function(r){var o=r.state,i=o.tr,a=o.selection,u=o.doc,s=r.dispatch;if(!function(e){if(e&&$i(e)){var t=Object.entries(e).map((function(e){var t=Ye(e,2),n=t[0],r=t[1];switch(n){case"type":case"emoji":return!!(Pi(r)&&r.length>0);default:return!0}}));return t.every((function(e){return!!e}))}return!1}(t))throw new Error("Invalid attrs passed to the updateAttributes method");var l=sy({types:e,selection:n?u.resolve(n):a});return!(!l||Xi(t,l.node.attrs))&&(i.setNodeMarkup(l.pos,e,h(h({},l.node.attrs),t)),s&&s(i),!0)}}}var dO=Ab.DESCRIPTION,pO=Ab.LABEL,hO={icon:function(e){var t=e.attrs;switch(null==t?void 0:t.type){case"error":return"closeCircleLine";case"success":return"checkboxCircleLine";case"warning":return"errorWarningLine";default:return"informationLine"}},description:function(e){var t=e.t,n=e.attrs;return t(dO,{type:null==n?void 0:n.type})},label:function(e){var t=e.t,n=e.attrs;return t(pO,{type:null==n?void 0:n.type})}};function vO(e,t,n){return Di(t,e)?e:n}var mO=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),sO(x(e),"tags",[ui.Block]),e}return g(n,[{key:"name",get:function(){return"callout"}},{key:"createNodeViews",value:function(){var e=this;return function(t,n,r){var o=t.attrs,i=o.type,a=o.emoji,u=e.options.renderEmoji,s=document.createElement("div"),l=document.createElement("div");if(s.setAttribute(lO,i),a){var c=document.createElement("div"),f=u(t,n,r);s.setAttribute(cO,a),c.classList.add(RE.CALLOUT_EMOJI_WRAPPER),f&&(c.append(f),s.append(c))}return s.append(l),{dom:s,contentDOM:l}}}},{key:"createNodeSpec",value:function(e,t){var n,r=this.options,o=r.defaultType,a=r.validTypes,u=r.defaultEmoji;return h(h({content:"block+",defining:!0,draggable:!1},t),{},{attrs:h(h({},e.defaults()),{},{type:{default:o},emoji:{default:u}}),parseDOM:[{tag:"div[".concat(lO,"]"),getAttrs:function(t){var n;if(!Zg(t))return!1;var r=t.getAttribute(lO),i=null!=(n=t.getAttribute(cO))?n:"",u=vO(r,a,o),s=t.textContent;return h(h({},e.parse(t)),{},{type:u,emoji:i,content:s})}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e),r=n.type,o=n.emoji,a=i(n,oO),u=o?s({},cO,o):{};return["div",h(h(h({},e.dom(t)),a),{},s({},lO,r),u),0]}})}},{key:"createInputRules",value:function(){var e=this;return[wb({regexp:/^:::([\dA-Za-z]*) $/,type:this.type,beforeDispatch:function(e){var t=e.tr,n=e.start,r=t.doc.resolve(n);t.setSelection(ap.near(r))},getAttributes:function(t){var n=e.options,r=n.defaultType,o=n.validTypes;return{type:vO(Uy(t,1),o,r)}}})]}},{key:"toggleCallout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lb(this.type,e)}},{key:"updateCallout",value:function(e,t){return fO(this.type)(e,t)}},{key:"handleEnterKey",value:function(e){var t=e.dispatch,n=e.tr;if(!Ey(n.selection)||!n.selection.empty)return!1;var r=n.selection.$from,o=r.nodeBefore,i=r.parent;if(!o||!o.isText||!i.type.isTextblock)return!1;var a=/^:::([A-Za-z]*)?$/,u=o.text,s=o.nodeSize,l=i.textContent;if(!u)return!1;var c=u.match(a),f=l.match(a);if(!c||!f)return!1;var d=this.options,p=d.defaultType,h=d.validTypes,v=vO(c[1],h,p),m=n.selection.$from.before(),g=m+s+1;if(t){var y=new df(af.from(this.type.create({type:v})),0,1);n.replace(m,g,y),n.setSelection(ap.near(n.doc.resolve(m+1))),t(n)}return!0}},{key:"handleBackspace",value:function(e){var t=e.dispatch,n=e.tr;if(!n.selection.empty)return!1;var r=n.selection.$from;if(0!==r.parentOffset)return!1;var o=r.before(r.depth)-1;if(o<1)return!1;var i=n.doc.resolve(o);if(!(null==i?void 0:i.parent))return!1;var a=i.parent,u=uy(n.selection),s=u.node,l=u.pos;if(s.type!==this.type&&a.type===this.type){var c=s.content,f=s.nodeSize;return n.delete(l,l+f),n.setSelection(ap.near(n.doc.resolve(o-1))),n.insert(o-1,c),t&&t(n),!0}return!1}}]),n}(fw);uO([kw(hO)],mO.prototype,"toggleCallout",1),uO([kw(hO)],mO.prototype,"updateCallout",1),uO([ww({shortcut:"Enter"})],mO.prototype,"handleEnterKey",1),uO([ww({shortcut:"Backspace"})],mO.prototype,"handleBackspace",1),mO=uO([gw({defaultOptions:{defaultType:"info",validTypes:["info","warning","error","success","blank"],defaultEmoji:"",renderEmoji:function(e){var t=document.createElement("span");return t.textContent=e.attrs.emoji,t}},staticKeys:["defaultType","validTypes","defaultEmoji"]})],mO);var gO=n(8959),yO=["style"],bO=Object.defineProperty,kO=Object.getOwnPropertyDescriptor,wO=function(e,t,n,r){for(var o,i=r>1?void 0:r?kO(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&bO(t,n,i),i},xO=function(e,t,n){return function(e,t,n){t in e?bO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},SO=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},EO=function(e,t,n){return SO(e,t,"read from private field"),n?n.call(e):t.get(e)},CO=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},AO=function(e,t,n,r){return SO(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},DO="data-code-block-language";function OO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map((function(e){var r=d(n);return"element"===e.type&&e.properties.className?r.push.apply(r,d(e.properties.className)):"text"===e.type&&0===r.length&&t&&r.push(t),"element"===e.type?OO(e.children,t,r):{text:e.value,classes:r}}))}function _O(e,t){var n,r,o=e.node,i=e.pos,a=NO({language:null==(n=o.attrs.language)?void 0:n.replace("language-",""),fallback:"markup"}),u=OO(gO.highlight(null!=(r=o.textContent)?r:"",a),t),s=i+1;return Zi(u).map((function(e){var t=s,n=t+e.text.length;return s=n,h(h({},e),{},{from:t,to:n})}))}function TO(e){var t,n=e.blocks,r=e.skipLast,o=e.plainTextClassName,i=[],a=qe(n);try{for(a.s();!(t=a.n()).done;){var u,s=_O(t.value,o),l=qe(sa(r?s.length-1:s.length));try{for(l.s();!(u=l.n()).done;){var c=s[u.value],f=null==c?void 0:c.classes;if(c&&(null==f?void 0:f.length)){var d=mm.inline(c.from,c.to,{class:f.join(" ")});i.push(d)}}}catch(p){l.e(p)}finally{l.f()}}}catch(p){a.e(p)}finally{a.f()}return i}function MO(e){return function(t){return function(n){var r=n.state,o=r.tr,i=r.selection,a=n.dispatch;if(!function(e){return!!(e&&$i(e)&&Pi(e.language)&&e.language.length>0)}(t))throw new Error("Invalid attrs passed to the updateAttributes method");var u=sy({types:e,selection:i});return!(!u||Xi(t,u.node.attrs))&&(o.setNodeMarkup(u.pos,e,h(h({},u.node.attrs),t)),a&&a(o),!0)}}}function NO(e){var t=e.language,n=e.fallback;if(!t)return n;var r,o=qe(gO.listLanguages());try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.toLowerCase()===t.toLowerCase())return i}}catch(a){o.e(a)}finally{o.f()}return n}var RO,PO,IO,FO=Db.DESCRIPTION,LO=Db.LABEL,BO={icon:"bracesLine",description:function(e){return(0,e.t)(FO)},label:function(e){return(0,e.t)(LO)}},jO=function(){function e(t,n){v(this,e),CO(this,RO,void 0),CO(this,PO,void 0),CO(this,IO,!1),xO(this,"decorationSet"),AO(this,PO,t),AO(this,RO,n)}return g(e,[{key:"init",value:function(e){var t=yb({node:e.doc,type:EO(this,PO)});return this.refreshDecorationSet(e.doc,t),this}},{key:"refreshDecorationSet",value:function(e,t){var n,r=TO({blocks:t,skipLast:EO(this,IO),defaultLanguage:EO(this,RO).options.defaultLanguage,plainTextClassName:null!=(n=EO(this,RO).options.plainTextClassName)?n:void 0});this.decorationSet=bm.create(e,r)}},{key:"apply",value:function(e,t){var n=this;if(!e.docChanged)return this;this.decorationSet=this.decorationSet.map(e.mapping,e.doc);var r=bb(e,{descend:!0,predicate:function(e){return e.type===EO(n,PO)},StepTypes:[]});return this.updateDecorationSet(e,r),this}},{key:"updateDecorationSet",value:function(e,t){var n;if(0!==t.length){var r,o=this.decorationSet,i=qe(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=a.node,s=a.pos;o=this.decorationSet.remove(this.decorationSet.find(s,s+u.nodeSize))}}catch(l){i.e(l)}finally{i.f()}this.decorationSet=o.add(e.doc,TO({blocks:t,skipLast:EO(this,IO),defaultLanguage:EO(this,RO).options.defaultLanguage,plainTextClassName:null!=(n=EO(this,RO).options.plainTextClassName)?n:void 0}))}}},{key:"setDeleted",value:function(e){AO(this,IO,e)}}]),e}();RO=new WeakMap,PO=new WeakMap,IO=new WeakMap;var zO=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"codeBlock"}},{key:"createTags",value:function(){return[ui.Block,ui.Code]}},{key:"init",value:function(){this.registerLanguages()}},{key:"createNodeSpec",value:function(e,t){var n,r=this,o=/highlight-(?:text|source)-([\da-z]+)/;return h(h({content:"text*",marks:"",defining:!0,isolating:!0,draggable:!1},t),{},{code:!0,attrs:h(h({},e.defaults()),{},{language:{default:this.options.defaultLanguage},wrap:{default:this.options.defaultWrap}}),parseDOM:[{tag:"div.highlight",preserveWhitespace:"full",getAttrs:function(t){var n,r;if(!Zg(t))return!1;var i=t.querySelector("pre.code");if(!Zg(i))return!1;var a="pre-wrap"===jg(i,"white-space"),u=null==(r=null==(n=t.className.match(o))?void 0:n[1])?void 0:r.replace("language-","");return h(h({},e.parse(t)),{},{language:u,wrap:a})}},{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){if(!Zg(t))return!1;var n=t.querySelector("code");if(!Zg(n))return!1;var o="pre-wrap"===jg(n,"white-space"),i=r.options.getLanguageFromDom(n,t);return h(h({},e.parse(t)),{},{language:i,wrap:o})}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return function(e,t){var n,r=tb(e.attrs,t),o=r.language,a=r.wrap,u=t.dom(e),l=(u.style,i(u,yO)),c=l.style;return a&&(c=nb({whiteSpace:"pre-wrap",wordBreak:"break-all"},c)),["pre",h(h({spellcheck:"false"},l),{},{class:fa(l.class,"language-".concat(o))}),["code",(n={},s(n,DO,o),s(n,"style",c),n),0]]}(t,e)}})}},{key:"createAttributes",value:function(){return{class:PE[this.options.syntaxTheme.toUpperCase()]}}},{key:"createInputRules",value:function(){var e=this;return[wb({regexp:/^```([\dA-Za-z]*) $/,type:this.type,beforeDispatch:function(e){var t=e.tr,n=e.start,r=t.doc.resolve(n);t.setSelection(ap.near(r))},getAttributes:function(t){return{language:NO({language:Uy(t,1),fallback:e.options.defaultLanguage})}}})]}},{key:"onSetOptions",value:function(e){var t=e.changes;t.supportedLanguages.changed&&this.registerLanguages(),t.syntaxTheme.changed&&this.store.updateAttributes()}},{key:"createPlugin",value:function(){var e=new jO(this.type,this),t=function(){return e.setDeleted(!0),!1};return{state:{init:function(t,n){return e.init(n)},apply:function(t,n,r,o){return e.apply(t,o)}},props:{handleKeyDown:Ok({Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t}),decorations:function(){return e.setDeleted(!1),e.decorationSet}}}}},{key:"toggleCodeBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fb({type:this.type,toggleType:this.options.toggleName,attrs:h({language:this.options.defaultLanguage},e)})}},{key:"createCodeBlock",value:function(e){return cb(this.type,e)}},{key:"updateCodeBlock",value:function(e){return MO(this.type)(e)}},{key:"formatCodeBlock",value:function(e){return function(e){return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi()).pos;return function(n){var r=n.tr,o=n.dispatch,i=e.type,a=e.formatter,u=e.defaultLanguage,s=t?{from:t,to:t}:r.selection,l=s.from,c=s.to,f=sy({types:i,selection:r.selection});if(!f)return!1;var d,p=f.node,h=p.attrs,v=p.textContent,m=f.start,g=l-m,y=c-m,b=NO({language:h.language,fallback:u}),k=a({source:v,language:b,cursorOffset:g});if(g!==y&&(d=a({source:v,language:b,cursorOffset:y})),!k)return!1;var w=k.cursorOffset,x=k.formatted;if(x===v)return!1;var S=m+v.length;r.insertText(x,m,S);var E=m+w,C=d?m+d.cursorOffset:void 0;return r.setSelection(ap.between(r.doc.resolve(E),r.doc.resolve(null!=C?C:E))),o&&o(r),!0}}}({type:this.type,formatter:this.options.formatter,defaultLanguage:this.options.defaultLanguage})(e)}},{key:"tabKey",value:function(e){var t=e.state,n=e.dispatch,r=t.selection,o=t.tr,i=t.schema;if(!ny({node:uy(r).node,types:this.type}))return!1;if(r.empty)o.insertText("\t");else{var a=r.from,u=r.to;o.replaceWith(a,u,i.text("\t"))}return n&&n(o),!0}},{key:"backspaceKey",value:function(e){var t=e.dispatch,n=e.tr,r=e.state;if(!n.selection.empty)return!1;var o=sy({types:this.type,selection:n.selection});if((null==o?void 0:o.start)!==n.selection.from)return!1;var i=o.pos,a=o.node,u=o.start,s=wi(r.schema.nodes,this.options.toggleName);return""===a.textContent.trim()?n.doc.lastChild===a&&n.doc.firstChild===a?iy({pos:i,tr:n,content:s.create()}):oy({pos:i,tr:n}):u>2?n.setSelection(ap.near(n.doc.resolve(u-2))):(n.insert(0,s.create()),n.setSelection(ap.near(n.doc.resolve(1)))),t&&t(n),!0}},{key:"enterKey",value:function(e){var t=e.dispatch,n=e.tr;if(!Ey(n.selection)||!n.selection.empty)return!1;var r=n.selection.$anchor,o=r.nodeBefore,i=r.parent;if(!o||!o.isText||!i.type.isTextblock)return!1;var a=/^```([A-Za-z]*)?$/,u=o.text,s=o.nodeSize,l=i.textContent;if(!u)return!1;var c=u.match(a),f=l.match(a);if(!c||!f)return!1;var d=NO({language:Ye(c,2)[1],fallback:this.options.defaultLanguage}),p=n.selection.$from.before(),h=p+s+1;return n.replaceWith(p,h,this.type.create({language:d})),n.setSelection(ap.near(n.doc.resolve(p+1))),t&&t(n),!0}},{key:"formatShortcut",value:function(e){var t=e.tr,n=this.store.commands;if(!fy({type:this.type,state:t}))return!1;var r=n.formatCodeBlock.isEnabled();return r&&n.formatCodeBlock(),r}},{key:"registerLanguages",value:function(){var e,t=qe(this.options.supportedLanguages);try{for(t.s();!(e=t.n()).done;){var n=e.value;gO.register(n)}}catch(r){t.e(r)}finally{t.f()}}}]),n}(fw);function $O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new wp({view:function(t){return new UO(t,e)}})}wO([kw(BO)],zO.prototype,"toggleCodeBlock",1),wO([kw()],zO.prototype,"createCodeBlock",1),wO([kw()],zO.prototype,"updateCodeBlock",1),wO([kw()],zO.prototype,"formatCodeBlock",1),wO([ww({shortcut:"Tab"})],zO.prototype,"tabKey",1),wO([ww({shortcut:"Backspace"})],zO.prototype,"backspaceKey",1),wO([ww({shortcut:"Enter"})],zO.prototype,"enterKey",1),wO([ww({shortcut:di.Format})],zO.prototype,"formatShortcut",1),zO=wO([gw({defaultOptions:{supportedLanguages:[],toggleName:"paragraph",formatter:function(e){return{cursorOffset:0,formatted:e.source}},syntaxTheme:"a11y_dark",defaultLanguage:"markup",defaultWrap:!1,plainTextClassName:"",getLanguageFromDom:function(e){var t,n;return null==(n=null!=(t=e.getAttribute(DO))?t:e.classList[0])?void 0:n.replace("language-","")}},staticKeys:["getLanguageFromDom"]})],zO);var UO=function(){function e(t,n){var r=this;v(this,e),this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var n=function(t){r[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}return g(e,[{key:"destroy",value:function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))}},{key:"update",value:function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}},{key:"setCursor",value:function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}},{key:"updateOverlay",value:function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(o){var i=o.getBoundingClientRect(),a=n?i.bottom:i.top;n&&r&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:i.left,right:i.right,top:a-this.width/2,bottom:a+this.width/2}}}}if(!e){var u=this.editorView.coordsAtPos(this.cursorPos);e={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}var s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{var f=c.getBoundingClientRect();s=f.left-c.scrollLeft,l=f.top-c.scrollTop}this.element.style.left=e.left-s+"px",this.element.style.top=e.top-l+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}},{key:"scheduleRemoval",value:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)}},{key:"dragover",value:function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){var i=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(i=zd(this.editorView.state.doc,i,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(i),this.scheduleRemoval(5e3)}}}},{key:"dragend",value:function(){this.scheduleRemoval(20)}},{key:"drop",value:function(){this.scheduleRemoval(20)}},{key:"dragleave",value:function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}]),e}(),WO=Object.defineProperty,HO=Object.getOwnPropertyDescriptor,VO=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"dropCursor"}},{key:"createExternalPlugins",value:function(){var e=this.options;return[$O({color:e.color,width:e.width})]}}]),n}(lw);VO=function(e,t,n,r){for(var o,i=r>1?void 0:r?HO(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&WO(t,n,i),i}([gw({defaultOptions:{color:"black",width:1}})],VO);var KO=["id"],qO=Object.defineProperty,GO=Object.getOwnPropertyDescriptor,JO=function(e,t,n,r){for(var o,i=r>1?void 0:r?GO(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&qO(t,n,i),i},YO=function(e){var t=Math.min.apply(Math,d(e.map((function(e){return e.from})))),n=Math.max.apply(Math,d(e.map((function(e){return e.to}))));return[t,n]};var XO=function(e,t){var n=t.id,r=t.text;if(t.from>=t.to)return e;var o=function(e,t){var n=e.filter((function(e){return t(e)})),r=e.filter((function(e){return!t(e)}));return[n,r]}(e,(function(e){return e.id===n})),i=Ye(o,2),a=i[0],u=i[1],s=Ye(YO([].concat(d(a),[t])),2),l=s[0],c=s[1],f=a.map((function(e){return e.text})).join(" "),p=h(h({},t),{},{from:l,to:c,text:f+r});return[].concat(d(u),[p])},QO=function(e){var t,n=[],r=qe(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n=XO(n,o)}}catch(i){r.e(i)}finally{r.f()}return n},ZO=function(e){var t=e.extension,n=e.state;return t.getPluginState(n).entityReferences},e_=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"entity-reference"}},{key:"createMarkSpec",value:function(e,t){var n,r="data-entity-reference";return h(h({},t),{},{excludes:"",attrs:h(h({},e.defaults()),{},{id:{default:""}}),toDOM:function(t){return["span",h(h({},e.dom(t)),{},s({},r,t.attrs.id)),0]},parseDOM:[{tag:"span[".concat(r,"]"),getAttrs:function(t){if(!Zg(t))return!1;var n=t.getAttribute(r);return h(h({},e.parse(t)),{},{id:n})}}].concat(d(null!=(n=t.parseDOM)?n:[]))})}},{key:"createEventHandlers",value:function(){var e=this;return{click:function(t,n){var r=e.getEntityReferencesAt(n.pos);if(0===r.length)return e.options.onClickMark();var o=function(e){return e.sort((function(e,t){var n=e.text,r=t.text;return n.length-r.length}))[0]}(r);return o&&e.options.onClick(o),e.options.onClickMark(r)}}}},{key:"createPlugin",value:function(){var e=this;return{state:{init:function(t,n){return{entityReferences:e.getDisjoinedEntityReferences(n.doc)}},apply:function(t,n,r,o){return{entityReferences:e.getDisjoinedEntityReferences(o.doc)}}},props:{decorations:function(t){return function(e){var t=e.extension,n=e.state,r=ZO(e);return bm.create(n.doc,t.options.getStyle(r))}({state:t,extension:e})}}}}},{key:"addEntityReference",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var o=r.state,i=r.tr,a=r.dispatch,u=o.selection,s=u.from,l=u.to,c=t.type.create(h(h({},n),{},{id:null!=e?e:Ji()}));try{i=i.addMark(s,l,c)}catch(KL){throw new Error("Can't add entityReference ".concat(JSON.stringify(c)," to range {from: ").concat(s,", to: ").concat(l,"}: ").concat(KL.message))}return null==a||a(i),!0}}},{key:"removeEntityReference",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch;xi(e,"EntityReference can't be removed without specifying tags its ID!");var i=t.type.create({id:e});try{r=r.removeMark(1,r.doc.content.size,i)}catch(KL){throw new Error("Can't remove entityReference ".concat(e,": ").concat(KL.message))}return null==o||o(r),!0}}},{key:"scrollToEntityReference",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch,i=t.getEntityReferenceById(e);if(!i)return!1;var a=r.doc,u=a.resolve(i.from),s=a.resolve(i.to),l=ap.between(u,s);return null==o||o(r.setSelection(l).scrollIntoView()),!0}}},{key:"getDisjoinedEntityReferences",value:function(e){var t=this,n=[];return e.descendants((function(e,r){var o=function(e,t,n){return e.marks.filter((function(e){return e.type.name===n})).map((function(n){var r=n.attrs,o=r.id,a=i(r,KO),u={from:t,to:t+Math.max(e.textContent.length,1),id:o,text:e.textContent};return Object.keys(a).length>0&&(u.attrs=a),u}))}(e,r,t.name);return 0===o.length||n.push(o),!0})),n}},{key:"getEntityReferences",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.store.getState(),t=ZO({extension:this,state:e}).flat();return QO(t)}},{key:"getEntityReferenceById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.store.getState(),n=ZO({extension:this,state:t}).flat();return QO(n).find((function(t){return t.id===e}))}},{key:"getEntityReferencesAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.store.getState(),n=t.doc,r=t.selection,o=Hy(null!=e?e:r,n),i=o.from,a=o.to,u=ZO({extension:this,state:t}).flat(),s=new Set(u.filter((function(e){return la(i,e.from,e.to)||la(a,e.from,e.to)||la(e.from,i,a)||la(e.to,i,a)})).map((function(e){return e.id})));return QO(u).filter((function(e){return s.has(e.id)}))}}]),n}(cw);JO([kw()],e_.prototype,"addEntityReference",1),JO([kw()],e_.prototype,"removeEntityReference",1),JO([kw()],e_.prototype,"scrollToEntityReference",1),JO([bw()],e_.prototype,"getDisjoinedEntityReferences",1),JO([bw()],e_.prototype,"getEntityReferences",1),JO([bw()],e_.prototype,"getEntityReferenceById",1),JO([bw()],e_.prototype,"getEntityReferencesAt",1),e_=JO([gw({defaultOptions:{getStyle:function(e){if(0===e.length)return[];var t=e.map((function(e){var t=200*(1-Math.min(e.length,5)/5)+55,n="background: rgb(".concat(t,", ").concat(t,", 255);padding: 6px 0;"),r=Ye(YO(e),2),o=r[0],i=r[1];return mm.inline(o,i,{style:n},{inclusiveStart:!0,inclusiveEnd:!0})}));return d(t)},blockSeparator:void 0,onClickMark:function(){}},handlerKeys:["onClick"]})],e_);kC.clone({getActive:function(e){var t=e.state,n=e.view,r=e.helpers;if(!t.selection.empty)return[];var o=r.getEntityReferencesAt(t.selection.from);if(0===o.length)return[];var i=o.sort((function(e,t){var n,r;return(null!=(n=e.text)?n:"").length-(null!=(r=t.text)?r:"").length}))[0];return i?[{from:n.coordsAtPos(i.from),to:n.coordsAtPos(i.to)}]:[]}});var t_=Object.defineProperty,n_=Object.getOwnPropertyDescriptor,r_=function(e,t,n,r){for(var o,i=r>1?void 0:r?n_(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&t_(t,n,i),i},o_="data-font-family",i_=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"fontFamily"}},{key:"createTags",value:function(){return[ui.FontStyle,ui.FormattingMark]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:h(h({},e.defaults()),{},{fontFamily:{default:null}}),parseDOM:[{tag:"span[".concat(o_,"]"),getAttrs:function(t){if(!Zg(t))return!1;var n=t.getAttribute(o_);return!!n&&h(h({},e.parse(t)),{},{fontFamily:n})}},{style:"font-family",priority:ci.Low,getAttrs:function(e){return!!Pi(e)&&{fontFamily:e?e.replace(/["']/g,""):""}}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e).fontFamily,r=e.dom(t),o=r.style;return o=nb({fontFamily:n},o),["span",h(h({},r),{},s({style:o},o_,n)),0]}})}},{key:"setFontFamily",value:function(e){return this.store.commands.applyMark.original(this.type,{fontFamily:e})}},{key:"toggleFontFamily",value:function(e){return this.store.commands.toggleMark.original({type:this.type,attrs:{fontFamily:e}})}}]),n}(cw);r_([kw()],i_.prototype,"setFontFamily",1),r_([kw()],i_.prototype,"toggleFontFamily",1),i_=r_([gw({})],i_);var a_=n(3810),u_=["size"],s_=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,c_=function(e,t,n,r){for(var o,i=r>1?void 0:r?l_(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&s_(t,n,i),i},f_={icon:"fontSize",description:function(e){return(0,e.t)(_b.SET_DESCRIPTION)},label:function(e){return(0,e.t)(_b.SET_LABEL)}},d_={icon:"addLine",description:function(e){return(0,e.t)(_b.INCREASE_DESCRIPTION)},label:function(e){return(0,e.t)(_b.INCREASE_LABEL)}},p_={icon:"subtractLine",description:function(e){return(0,e.t)(_b.DECREASE_DESCRIPTION)},label:function(e){return(0,e.t)(_b.DECREASE_LABEL)}},h_="data-font-size-mark",v_=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"fontSize"}},{key:"createTags",value:function(){return[ui.FormattingMark,ui.FontStyle]}},{key:"createMarkSpec",value:function(e,t){var n,r=this;return h(h({},t),{},{attrs:h(h({},e.defaults()),{},{size:{default:this.options.defaultSize}}),parseDOM:[{tag:"span[".concat(h_,"]"),getAttrs:function(t){if(!Zg(t))return null;var n=t.getAttribute(h_);return n?(n="".concat(Xg(n,r.options.unit,t)).concat(r.options.unit),h(h({},e.parse(t)),{},{size:n})):null}},{style:"font-size",priority:ci.Low,getAttrs:function(e){return Pi(e)?{size:e=r.getFontSize(e)}:null}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e),o=n.size,a=i(n,u_),u=e.dom(t),l=u.style;return o&&(l=nb({fontSize:r.getFontSize(o)},l)),["span",h(h(h({},a),u),{},s({style:l},h_,undefined)),0]}})}},{key:"getFontSize",value:function(e){var t,n=this.options,r=n.unit,o=n.roundingMultiple,i=n.max,a=n.min,u=n.defaultSize,s=Xg(e,r,null==(t=this.store.view)?void 0:t.dom);if(Number.isNaN(s))return u||"1rem";var l=na({value:a_(s,o),max:i,min:a});return"".concat(l).concat(r)}},{key:"setFontSize",value:function(e,t){return this.store.commands.applyMark.original(this.type,{size:String(e)},null==t?void 0:t.selection)}},{key:"increaseFontSize",value:function(e){var t=this,n=this.options.increment;return function(r){var o=Ye(t.getFontSizeForSelection(null==e?void 0:e.selection),1)[0],i=Ye(o,1)[0];return i+=Fi(n)?n(o,1):n,t.setFontSize(i,e)(r)}}},{key:"decreaseFontSize",value:function(e){var t=this,n=this.options.increment;return function(r){var o=Ye(t.getFontSizeForSelection(null==e?void 0:e.selection),1)[0],i=Ye(o,1)[0];return i-=Fi(n)?n(o,-1):n,t.setFontSize(i,e)(r)}}},{key:"removeFontSize",value:function(e){return this.store.commands.removeMark.original(h({type:this.type,expand:!1},e))}},{key:"increaseFontSizeShortcut",value:function(e){return this.increaseFontSize()(e)}},{key:"decreaseFontSizeShortcut",value:function(e){return this.decreaseFontSize()(e)}},{key:"getFontSizeForSelection",value:function(e){var t,n=this.store.getState(),r=function(e,t){for(var n=[],r=e.$from,o=e.$to,i=r;;){var a=Fy(i,t,o);if(!a)return n;if(n.push(a),!(a.to<o.pos))return n;i=r.doc.resolve(a.to+1)}}(Hy(null!=e?e:n.selection,n.doc),this.type),o=Ge(t=r)||c(t)||f(t)||Je(),i=o[0],a=o.slice(1);if(i)return[Wg(i.mark.attrs.size)].concat(d(a.map((function(e){return Wg(e.mark.attrs.size)}))));var u=this.options,s=u.defaultSize,l=u.unit;return[[Xg(s,l),l]]}},{key:"getFontSizeFromDom",value:function(e){var t=this.store.getState(),n=Hy(null!=e?e:t.selection,t.doc),r=this.store.view.domAtPos(n.from);return Wg(Kg(Zg(r.node)?r.node:this.store.view.dom))}}]),n}(cw);c_([kw(f_)],v_.prototype,"setFontSize",1),c_([kw(d_)],v_.prototype,"increaseFontSize",1),c_([kw(p_)],v_.prototype,"decreaseFontSize",1),c_([kw()],v_.prototype,"removeFontSize",1),c_([ww({shortcut:di.IncreaseFontSize,command:"increaseFontSize"})],v_.prototype,"increaseFontSizeShortcut",1),c_([ww({shortcut:di.IncreaseFontSize,command:"decreaseFontSize"})],v_.prototype,"decreaseFontSizeShortcut",1),c_([bw()],v_.prototype,"getFontSizeForSelection",1),c_([bw()],v_.prototype,"getFontSizeFromDom",1),v_=c_([gw({defaultOptions:{defaultSize:"",unit:"pt",increment:1,max:100,min:1,roundingMultiple:.5},staticKeys:["defaultSize"]})],v_);var m_=Object.defineProperty,g_=Object.getOwnPropertyDescriptor,y_=function(e,t,n,r){for(var o,i=r>1?void 0:r?g_(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&m_(t,n,i),i},b_=Tb.LABEL,k_={icon:function(e){var t,n=e.attrs;return"h".concat(null!=(t=null==n?void 0:n.level)?t:"1")},label:function(e){var t=e.t,n=e.attrs;return t(b_,{level:null==n?void 0:n.level})}},w_=[di.H1,di.H2,di.H3,di.H4,di.H5,di.H6],x_=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"heading"}},{key:"createTags",value:function(){return[ui.Block,ui.TextBlock,ui.FormattingNode]}},{key:"createNodeSpec",value:function(e,t){var n,r=this;return h(h({content:"inline*",defining:!0,draggable:!1},t),{},{attrs:h(h({},e.defaults()),{},{level:{default:this.options.defaultLevel}}),parseDOM:[].concat(d(this.options.levels.map((function(t){return{tag:"h".concat(t),getAttrs:function(n){return h(h({},e.parse(n)),{},{level:t})}}}))),d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return r.options.levels.includes(t.attrs.level)?["h".concat(t.attrs.level),e.dom(t),0]:["h".concat(r.options.defaultLevel),e.dom(t),0]}})}},{key:"toggleHeading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fb({type:this.type,toggleType:"paragraph",attrs:e})}},{key:"createKeymap",value:function(e){var t,n,r=this.store.getExtension(Aw),o=Oi(),i=[],a=qe(this.options.levels);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=null!=(t=w_[u-1])?t:di.H1;o[s]=cb(this.type,{level:u}),i.push({attrs:{level:u},shortcut:e(s)[0]})}}catch(l){a.e(l)}finally{a.f()}return r.updateDecorated("toggleHeading",{shortcut:i}),o}},{key:"createInputRules",value:function(){var e=this;return this.options.levels.map((function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Rp(e,(function(e,r,o,i){var a=e.doc.resolve(o),u=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,u):null}))}(new RegExp("^(#{1,".concat(t,"})\\s$")),e.type,(function(){return{level:t}}))}))}},{key:"createPasteRules",value:function(){var e=this;return this.options.levels.map((function(t){return{type:"node",nodeType:e.type,regexp:new RegExp("^#{".concat(t,"}\\s([\\s\\w]+)$")),getAttributes:function(){return{level:t}},startOfTextBlock:!0}}))}}]),n}(fw);y_([kw(k_)],x_.prototype,"toggleHeading",1),x_=y_([gw({defaultOptions:{levels:[1,2,3,4,5,6],defaultLevel:1},staticKeys:["defaultLevel","levels"]})],x_);var S_=Object.defineProperty,E_=Object.getOwnPropertyDescriptor,C_=function(e,t,n,r){for(var o,i=r>1?void 0:r?E_(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&S_(t,n,i),i},A_={icon:"separator",label:function(e){return(0,e.t)(Nb.LABEL)},description:function(e){return(0,e.t)(Nb.DESCRIPTION)}},D_=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"horizontalRule"}},{key:"createTags",value:function(){return[ui.Block]}},{key:"createNodeSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"hr",getAttrs:e.parse}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["hr",e.dom(t)]}})}},{key:"insertHorizontalRule",value:function(){var e=this;return function(t){var n=t.tr,r=t.dispatch,o=n.selection.$anchor,i=o.parent;return"doc"!==i.type.name&&!i.isAtom&&!i.isLeaf&&(!r||(n.selection.empty&&Iy(i)&&n.insert(o.pos+1,i),n.replaceSelectionWith(e.type.create()),e.updateFromNodeSelection(n),r(n.scrollIntoView()),!0))}}},{key:"createInputRules",value:function(){var e=this;return[wb({regexp:/^(?:---|\u2014-|___\s|\*\*\*\s)$/,type:this.type,beforeDispatch:function(t){var n=t.tr;e.updateFromNodeSelection(n)}})]}},{key:"updateFromNodeSelection",value:function(e){if(Oy(e.selection)&&e.selection.node.type.name===this.name){var t=e.selection.$from.pos+1,n=this.options.insertionNode;if(n){var r=this.store.schema.nodes[n];ga(r,{code:pi.EXTENSION,message:"'".concat(n,"' node provided as the insertionNode to the '").concat(this.constructorName,"' does not exist.")});var o=r.create();e.insert(t,o),e.setSelection(ap.near(e.doc.resolve(t+1)))}}}}]),n}(fw);C_([kw(A_)],D_.prototype,"insertHorizontalRule",1),D_=C_([gw({defaultOptions:{insertionNode:"paragraph"}})],D_);var O_,__=n(6962),T_=Object.defineProperty,M_=function(e,t,n){return function(e,t,n){t in e?T_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},N_=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},R_=function(e,t,n){return N_(e,t,"read from private field"),n?n.call(e):t.get(e)},P_=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},I_=function(e,t,n,r){return N_(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n},F_=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="22" height="22" fill="rgba(0, 0, 0, 0.65)" stroke="rgba(255, 255, 255, 0.5)" transform="rotate(90)" xmlns:v="https://vecta.io/nano"><path fill-rule="evenodd" d="M14 0a2 2 0 0 0-2 2v10H2a2 2 0 1 0 0 4h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/></svg>'),L_=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="22" height="22" fill="rgba(0, 0, 0, 0.65)" stroke="rgba(255, 255, 255, 0.5)" transform="matrix(0 1 1 0 0 0)" xmlns:v="https://vecta.io/nano"><path fill-rule="evenodd" d="M14 0a2 2 0 0 0-2 2v10H2a2 2 0 1 0 0 4h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/></svg>'),B_=function(){function e(t){v(this,e),M_(this,"dom"),P_(this,O_,void 0),M_(this,"type");var n=document.createElement("div"),r=document.createElement("div");this.dom=n,I_(this,O_,r),this.type=t,this.createHandle(t)}return g(e,[{key:"createHandle",value:function(e){switch(zg(this.dom,{position:"absolute",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"100"}),zg(R_(this,O_),{opacity:"0",transition:"opacity 300ms ease-in 0s"}),R_(this,O_).dataset.dragging="",e){case 0:zg(this.dom,{right:"0px",top:"0px",height:"100%",width:"15px",cursor:"col-resize"}),zg(R_(this,O_),{width:" 4px",height:"36px",maxHeight:"50%",boxSizing:"content-box",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 1:zg(this.dom,{left:"0px",top:"0px",height:"100%",width:"15px",cursor:"col-resize"}),zg(R_(this,O_),{width:" 4px",height:"36px",maxHeight:"50%",boxSizing:"content-box",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 2:zg(this.dom,{bottom:"0px",width:"100%",height:"14px",cursor:"row-resize"}),zg(R_(this,O_),{width:" 42px",height:"4px",boxSizing:"content-box",maxWidth:"50%",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 3:zg(this.dom,{right:"-1px",bottom:"-2px",width:"30px",height:"30px",cursor:"nwse-resize",zIndex:"101"}),zg(R_(this,O_),{height:"22px",width:"22px",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml,'.concat(L_,'") ')});break;case 4:zg(this.dom,{left:"-1px",bottom:"-2px",width:"30px",height:"30px",cursor:"nesw-resize",zIndex:"101"}),zg(R_(this,O_),{height:"22px",width:"22px",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml,'.concat(F_,'") ')})}this.dom.append(R_(this,O_))}},{key:"setHandleVisibility",value:function(e){var t=e||!!R_(this,O_).dataset.dragging;R_(this,O_).style.opacity=t?"1":"0"}},{key:"dataSetDragging",value:function(e){R_(this,O_).dataset.dragging=e?"true":""}}]),e}();O_=new WeakMap;var j_,z_,$_,U_,W_,H_=function(e){return e[e.Fixed=0]="Fixed",e[e.Flexible=1]="Flexible",e}(H_||{}),V_=function(){function e(t){var n=this,r=t.node,o=t.view,i=t.getPos,a=t.aspectRatio,u=void 0===a?0:a,s=t.options,l=t.initialSize;v(this,e),M_(this,"dom"),P_(this,j_,void 0),P_(this,z_,void 0),P_(this,$_,[]),M_(this,"aspectRatio"),P_(this,U_,void 0),P_(this,W_,void 0);var c,f=this.createWrapper(r,l),d=this.createElement({node:r,view:o,getPos:i,options:s}),p=(1===u?[0,1,2,3,4]:[0,1]).map((function(e){return new B_(e)})),h=qe(p);try{var m=function(){var e=c.value,t=function(t){n.startResizing(t,o,i,e)};e.dom.addEventListener("mousedown",t),R_(n,$_).push((function(){return e.dom.removeEventListener("mousedown",t)})),f.append(e.dom)};for(h.s();!(c=h.n()).done;)m()}catch(b){h.e(b)}finally{h.f()}var g=function(){p.forEach((function(e){return e.setHandleVisibility(!0)}))},y=function(){p.forEach((function(e){return e.setHandleVisibility(!1)}))};f.addEventListener("mouseover",g),f.addEventListener("mouseout",y),R_(this,$_).push((function(){return f.removeEventListener("mouseover",g)}),(function(){return f.removeEventListener("mouseout",y)})),f.append(d),this.dom=f,I_(this,z_,r),I_(this,j_,d),this.aspectRatio=u}return g(e,[{key:"createWrapper",value:function(e,t){var n=document.createElement("div");return n.classList.add("remirror-resizable-view"),n.style.position="relative",zg(n,t?{width:K_(t.width),aspectRatio:"".concat(t.width," / ").concat(t.height)}:{width:K_(e.attrs.width),aspectRatio:"".concat(e.attrs.width," / ").concat(e.attrs.height)}),zg(n,{maxWidth:"100%",minWidth:"".concat(50,"px"),verticalAlign:"bottom",display:"inline-block",lineHeight:"0",transition:"width 0.15s ease-out, height 0.15s ease-out"}),n}},{key:"startResizing",value:function(e,t,n,r){var o,i,a=this;e.preventDefault(),r.dataSetDragging(!0),R_(this,j_).style.pointerEvents="none";var u=e.pageX,s=e.pageY,l=(null==(o=R_(this,j_))?void 0:o.getBoundingClientRect().width)||0,c=(null==(i=R_(this,j_))?void 0:i.getBoundingClientRect().height)||0,f=FS(100,!1,(function(e){var t=e.pageX,n=e.pageY,o=t-u,i=n-s,f=null,d=null;if(0===a.aspectRatio&&l&&c)switch(r.type){case 0:case 3:d=c/l*(f=l+o);break;case 1:case 4:d=c/l*(f=l-o);break;case 2:f=l/c*(d=c+i)}else if(1===a.aspectRatio)switch(r.type){case 0:f=l+o;break;case 1:f=l-o;break;case 2:d=c+i;break;case 3:f=l+o,d=c+i;break;case 4:f=l-o,d=c+i}"number"===typeof f&&f<50&&(0===a.aspectRatio&&l&&c?d=c/l*(f=50):1===a.aspectRatio&&(f=50)),f&&(I_(a,U_,Math.round(f)),a.dom.style.width="".concat(R_(a,U_),"px")),d&&I_(a,W_,Math.round(d)),(f||d)&&(a.dom.style.aspectRatio="".concat(R_(a,U_)," / ").concat(R_(a,W_)))})),d=function e(o){o.preventDefault(),r.dataSetDragging(!1),r.setHandleVisibility(!1),R_(a,j_).style.pointerEvents="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",e);var i=n(),u=t.state.tr.setNodeMarkup(i,void 0,h(h({},R_(a,z_).attrs),{},{width:R_(a,U_),height:R_(a,W_)}));t.dispatch(u)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",d),R_(this,$_).push((function(){return document.removeEventListener("mousemove",f)})),R_(this,$_).push((function(){return document.removeEventListener("mouseup",d)}))}},{key:"update",value:function(e){return e.type===R_(this,z_).type&&((0!==this.aspectRatio||!e.attrs.width||e.attrs.width===R_(this,U_))&&((1!==this.aspectRatio||!e.attrs.width||!e.attrs.height||e.attrs.width===R_(this,U_)||e.attrs.height===R_(this,W_))&&(t=R_(this,z_),r=["width","height"],!!(t===(n=e)||function(e,t,n){var r,o=e.attrs,i=t.attrs,a={},u=qe(n);try{for(u.s();!(r=u.n()).done;)a[r.value]=null}catch(l){u.e(l)}finally{u.f()}e.attrs=h(h({},o),a),t.attrs=h(h({},i),a);var s=e.sameMarkup(t);return e.attrs=o,t.attrs=i,s}(t,n,r)&&t.content.eq(n.content))&&(I_(this,z_,e),I_(this,U_,e.attrs.width),I_(this,W_,e.attrs.height),!0))));var t,n,r}},{key:"destroy",value:function(){R_(this,$_).forEach((function(e){return e()}))}}]),e}();function K_(e){return"number"===typeof e?"".concat(e,"px"):e||void 0}j_=new WeakMap,z_=new WeakMap,$_=new WeakMap,U_=new WeakMap,W_=new WeakMap;var q_=["frameBorder","allowFullScreen","src","type"],G_=Object.defineProperty,J_=Object.getOwnPropertyDescriptor,Y_=function(e,t,n,r){for(var o,i=r>1?void 0:r?J_(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&G_(t,n,i),i},X_=function(e,t,n){return function(e,t,n){t in e?G_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Q_=function(e){b(n,e);var t=E(n);function n(e,r,o,i){var a;v(this,n);var u=e.attrs,s=u.width,l=u.height,c=s&&l?{width:s,height:l}:void 0;return a=t.call(this,{node:e,view:r,getPos:o,aspectRatio:H_.Flexible,options:i,initialSize:c}),X_(x(a),"options"),a.options=i,a}return g(n,[{key:"createElement",value:function(e){var t=e.node,n=e.options,r=t.attrs,o=r.src,i=r.type,a=r.allowFullScreen,u=r.frameBorder,s=document.createElement("iframe");return s.setAttribute("src",o),s.dataset.embedType=i,s.setAttribute("allowfullscreen",a?"true":"false"),s.setAttribute("frameBorder",null==u?void 0:u.toString()),(null==n?void 0:n.class)&&(s.classList.add(n.class),s.classList.add("".concat(n.class,"-").concat(i))),s.style.width="100%",s.style.height="100%",s}}]),n}(V_),Z_=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"iframe"}},{key:"createTags",value:function(){return[ui.Block]}},{key:"createNodeViews",value:function(){var e=h({},this.options);return this.options.enableResizing?function(t,n,r){return new Q_(t,n,r,e)}:{}}},{key:"createNodeSpec",value:function(e,t){var n,r=this,o=this.options.defaultSource;return h(h({selectable:!1},t),{},{attrs:h(h({},e.defaults()),{},{src:o?{default:o}:{},allowFullScreen:{default:!0},frameBorder:{default:0},type:{default:"custom"},width:{default:null},height:{default:null}}),parseDOM:[{tag:"iframe",getAttrs:function(t){var n,r,o=t.getAttribute("frameborder"),i=t.getAttribute("width"),a=t.getAttribute("height");return h(h({},e.parse(t)),{},{type:null!=(n=t.getAttribute("data-embed-type"))?n:void 0,height:a&&Number.parseInt(a,10)||void 0,width:i&&Number.parseInt(i,10)||void 0,allowFullScreen:"false"!==t.getAttribute("allowfullscreen"),frameBorder:o?Number.parseInt(o,10):0,src:null!=(r=t.getAttribute("src"))?r:""})}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e),o=n.frameBorder,a=n.allowFullScreen,u=n.src,s=n.type,l=i(n,q_),c=r.options.class;return["iframe",h(h(h({},e.dom(t)),l),{},{class:fa(c,"".concat(c,"-").concat(s)),src:u,"data-embed-type":s,allowfullscreen:a?"true":"false",frameBorder:null==o?void 0:o.toString()})]}})}},{key:"addIframe",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch;return null==o||o(r.replaceSelectionWith(t.type.create(e))),!0}}},{key:"addYouTubeVideo",value:function(e){return this.addIframe({src:eT(e),frameBorder:0,type:"youtube",allowFullScreen:"true"})}},{key:"updateIframeSource",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch,i=ly({selection:r.selection,types:t.type});return!!i&&(null==o||o(r.setNodeMarkup(i.pos,void 0,h(h({},i.node.attrs),{},{src:e}))),!0)}}},{key:"updateYouTubeVideo",value:function(e){return this.updateIframeSource(eT(e))}}]),n}(fw);function eT(e){var t,n,r,o=e.video,i=e.enhancedPrivacy,a=void 0===i||i,u=e.showControls,s=void 0===u||u,l=e.startAt,c=void 0===l?0:l,f=null!=(r=null==(n=null==(t=function(e){var t=document.createElement("a");t.href=e;var n=(0,__.Q)(t.search);return{protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,searchObject:n,hash:t.hash}}(o))?void 0:t.searchObject)?void 0:n.v)?r:o,d=a?"https://www.youtube-nocookie.com":"https://www.youtube.com",p=Oi();return s||(p.controls="0"),c&&(p["amp;start"]=c),"".concat(d,"/embed/").concat(f,"?").concat((0,__.P)(p))}Y_([kw()],Z_.prototype,"addIframe",1),Y_([kw()],Z_.prototype,"addYouTubeVideo",1),Y_([kw()],Z_.prototype,"updateIframeSource",1),Y_([kw()],Z_.prototype,"updateYouTubeVideo",1),Z_=Y_([gw({defaultOptions:{defaultSource:"",class:"remirror-iframe",enableResizing:!1},staticKeys:["defaultSource","class"]})],Z_);var tT=Object.defineProperty,nT=Object.getOwnPropertyDescriptor,rT=function(e,t,n,r){for(var o,i=r>1?void 0:r?nT(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&tT(t,n,i),i},oT=function(e){b(n,e);var t=E(n);function n(e,r,o){return v(this,n),t.call(this,{node:e,view:r,getPos:o,aspectRatio:H_.Fixed})}return g(n,[{key:"createElement",value:function(e){var t=e.node,n=document.createElement("img");return n.setAttribute("src",t.attrs.src),zg(n,{width:"100%",minWidth:"50px",objectFit:"contain"}),n}}]),n}(V_),iT=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"image"}},{key:"createTags",value:function(){return[ui.InlineNode,ui.Media]}},{key:"createNodeSpec",value:function(e,t){var n,r=this.options.preferPastedTextContent;return h(h({inline:!0,draggable:!0,selectable:!1},t),{},{attrs:h(h({},e.defaults()),{},{alt:{default:""},crop:{default:null},height:{default:null},width:{default:null},rotate:{default:null},src:{default:null},title:{default:""},fileName:{default:null},resizable:{default:!1}}),parseDOM:[{tag:"img[src]",getAttrs:function(t){var n;if(Zg(t)){var o=function(e){var t,n,r,o,i=e.element,a=e.parse,u=function(e){var t=e.style,n=t.width,r=t.height;return n=n||e.getAttribute("width")||"",r=r||e.getAttribute("height")||"",{width:n,height:r}}(i),s=u.width,l=u.height;return h(h({},a(i)),{},{alt:null!=(t=i.getAttribute("alt"))?t:"",height:Number.parseInt(l||"0",10)||null,src:null!=(n=i.getAttribute("src"))?n:null,title:null!=(r=i.getAttribute("title"))?r:"",width:Number.parseInt(s||"0",10)||null,fileName:null!=(o=i.getAttribute("data-file-name"))?o:null})}({element:t,parse:e.parse});return(!r||!(null==(n=o.src)?void 0:n.startsWith("file:///")))&&o}return{}}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e);return["img",h(h({},e.dom(t)),n)]}})}},{key:"insertImage",value:function(e,t){var n=this;return function(r){var o=r.tr,i=r.dispatch,a=Hy(null!=t?t:o.selection,o.doc),u=a.from,s=a.to,l=n.type.create(e);return null==i||i(o.replaceRangeWith(u,s,l)),!0}}},{key:"uploadImage",value:function(e,t){var n=this,r=this.options,o=r.updatePlaceholder,i=r.destroyPlaceholder,a=r.createPlaceholder;return function(r){var u=r.tr.selection.from;return n.store.createPlaceholderCommand({promise:e,placeholder:{type:"widget",get pos(){return u},createElement:function(e,n){var r=a(e,n);return null==t||t(r),r},onUpdate:function(e,t,n,r){o(e,t,n,r)},onDestroy:function(e,t){i(e,t)}},onSuccess:function(e,t,r){return n.insertImage(e,t)(r)}}).validate((function(e){var t=e.tr,r=e.dispatch,o=jd(t.doc,u,n.type);return null!=o&&(u=o,t.selection.empty||null==r||r(t.deleteSelection()),!0)}),"unshift").generateCommand()(r)}}},{key:"fileUploadFileHandler",value:function(e,t,n){var r,o=this.options,i=o.preferPastedTextContent,a=o.uploadHandler;if(i&&function(e){return void 0!==e.clipboardData}(t)&&(null==(r=t.clipboardData)?void 0:r.getData("text/plain")))return!1;var u=this.store,s=u.commands,l=u.chain,c=a(e.map((function(e,t){return{file:e,progress:function(e){s.updatePlaceholder(c[t],e)}}})));Ii(n)&&l.selectText(n);var f,d=qe(c);try{for(d.s();!(f=d.n()).done;){var p=f.value;l.uploadImage(p)}}catch(h){d.e(h)}finally{d.f()}return l.run(),!0}},{key:"createPasteRules",value:function(){var e=this;return[{type:"file",regexp:/image/i,fileHandler:function(t){var n="drop"===t.type?t.pos:void 0;return e.fileUploadFileHandler(t.files,t.event,n)}}]}},{key:"createNodeViews",value:function(){return this.options.enableResizing?function(e,t,n){return new oT(e,t,n)}:{}}}]),n}(fw);rT([kw()],iT.prototype,"insertImage",1),rT([kw()],iT.prototype,"uploadImage",1),iT=rT([gw({defaultOptions:{createPlaceholder:function(e,t){var n=document.createElement("div");return n.classList.add(IE.IMAGE_LOADER),n},updatePlaceholder:function(){},destroyPlaceholder:function(){},uploadHandler:function(e){ga(e.length>0,{code:pi.EXTENSION,message:"The upload handler was applied for the image extension without any valid files"});var t,n=0,r=[],o=qe(e);try{var i=function(){var o=t.value,i=o.file,a=o.progress;r.push((function(){return new Promise((function(t){var r=new FileReader;r.addEventListener("load",(function(r){var o;a((n+=1)/e.length),t({src:null==(o=r.target)?void 0:o.result,fileName:i.name})}),{once:!0}),r.readAsDataURL(i)}))}))};for(o.s();!(t=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r},enableResizing:!1,preferPastedTextContent:!0}})],iT);var aT=Object.defineProperty,uT=Object.getOwnPropertyDescriptor,sT=function(e,t,n,r){for(var o,i=r>1?void 0:r?uT(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&aT(t,n,i),i},lT={icon:"italic",label:function(e){return(0,e.t)(Rb.LABEL)},description:function(e){return(0,e.t)(Rb.DESCRIPTION)}},cT=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"italic"}},{key:"createTags",value:function(){return[ui.FontStyle,ui.FormattingMark]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"i",getAttrs:e.parse},{tag:"em",getAttrs:e.parse},{style:"font-style=italic"}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["em",e.dom(t),0]}})}},{key:"createKeymap",value:function(){return{"Mod-i":Sw({type:this.type})}}},{key:"createInputRules",value:function(){return[kb({regexp:/(?:^|[^*])\*([^*]+)\*$/,type:this.type,ignoreWhitespace:!0,updateCaptured:function(e){var t=e.fullMatch,n=e.start;return t.startsWith("*")?{}:{fullMatch:t.slice(1),start:n+1}}}),kb({regexp:/(?:^|\W)_([^_]+)_$/,type:this.type,ignoreWhitespace:!0,updateCaptured:function(e){var t=e.fullMatch,n=e.start;return t.startsWith("_")?{}:{fullMatch:t.slice(1),start:n+1}}})]}},{key:"createPasteRules",value:function(){return[{type:"mark",markType:this.type,regexp:/(?:^|\W)_([^_]+)_/g},{type:"mark",markType:this.type,regexp:/\*([^*]+)\*/g}]}},{key:"toggleItalic",value:function(e){return Sw({type:this.type,selection:e})}},{key:"shortcut",value:function(e){return this.toggleItalic()(e)}}]),n}(cw);function fT(e,t){return Array(t+1).join(e)}sT([kw(lT)],cT.prototype,"toggleItalic",1),sT([ww({shortcut:di.Italic,command:"toggleItalic"})],cT.prototype,"shortcut",1),cT=sT([gw({})],cT);var dT=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function pT(e){return gT(e,dT)}var hT=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function vT(e){return gT(e,hT)}var mT=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function gT(e,t){return t.indexOf(e.nodeName)>=0}function yT(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var bT={};function kT(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function wT(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function xT(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(ST(o,t,n))return o}}function ST(e,t,n){var r=e.filter;if("string"===typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!==typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function ET(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function CT(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}bT.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},bT.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},bT.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+fT(1===r?"=":"-",e.length)+"\n\n":"\n\n"+fT("#",r)+" "+e+"\n\n"}},bT.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},bT.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},bT.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",o=t.parentNode;if("OL"===o.nodeName){var i=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(i?Number(i)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},bT.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},bT.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,o=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],i=t.firstChild.textContent,a=n.fence.charAt(0),u=3,s=new RegExp("^"+a+"{3,}","gm");r=s.exec(i);)r[0].length>=u&&(u=r[0].length+1);var l=fT(a,u);return"\n\n"+l+o+"\n"+i.replace(/\n$/,"")+"\n"+l+"\n\n"}},bT.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},bT.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=kT(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}},bT.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,o,i=t.getAttribute("href"),a=kT(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+i+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+i+a;break;default:var u=this.references.length+1;r="["+e+"]["+u+"]",o="["+u+"]: "+i+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},bT.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},bT.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},bT.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},bT.image={filter:"img",replacement:function(e,t){var n=kT(t.getAttribute("alt")),r=t.getAttribute("src")||"",o=kT(t.getAttribute("title"));return r?"!["+n+"]("+r+(o?' "'+o+'"':"")+")":""}},wT.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=xT(this.array,e,this.options))||(t=xT(this._keep,e,this.options))||(t=xT(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var AT="undefined"!==typeof window?window:{};var DT,OT=function(){var e=AT.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(Xe){}return t}()?AT.DOMParser:function(){var e=function(){};return!function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(Xe){window.ActiveXObject&&(e=!0)}return e}()?e.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}:e.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t},e}();function _T(e,t){var n;"string"===typeof e?n=(DT=DT||new OT).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):n=e.cloneNode(!0);return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var i=null,a=!1,u=null,s=CT(u,t,o);s!==t;){if(3===s.nodeType||4===s.nodeType){var l=s.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||a||" "!==l[0]||(l=l.substr(1)),!l){s=ET(s);continue}s.data=l,i=s}else{if(1!==s.nodeType){s=ET(s);continue}n(s)||"BR"===s.nodeName?(i&&(i.data=i.data.replace(/ $/,"")),i=null,a=!1):r(s)||o(s)?(i=null,a=!0):i&&(a=!1)}var c=CT(u,s,o);u=s,s=c}i&&(i.data=i.data.replace(/ $/,""),i.data||ET(i))}}({element:n,isBlock:pT,isVoid:vT,isPre:t.preformattedCode?TT:null}),n}function TT(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function MT(e,t){return e.isBlock=pT(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!vT(e)&&!function(e){return gT(e,mT)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return yT(e,hT)}(e)&&!function(e){return yT(e,mT)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=function(e){var t=e.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}(e.textContent);n.leadingAscii&&NT("left",e,t)&&(n.leading=n.leadingNonAscii);n.trailingAscii&&NT("right",e,t)&&(n.trailing=n.trailingNonAscii);return{leading:n.leading,trailing:n.trailing}}(e,t),e}function NT(e,t,n){var r,o,i;return"left"===e?(r=t.previousSibling,o=/ $/):(r=t.nextSibling,o=/^ /),r&&(3===r.nodeType?i=o.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?i=!1:1!==r.nodeType||pT(r)||(i=o.test(r.textContent))),i}var RT=Array.prototype.reduce,PT=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function IT(e){if(!(this instanceof IT))return new IT(e);var t={rules:bT,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new wT(this.options)}function FT(e){var t=this;return RT.call(e.childNodes,(function(e,n){var r="";return 3===(n=new MT(n,t.options)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=BT.call(t,n)),jT(e,r)}),"")}function LT(e){var t=this;return this.rules.forEach((function(n){"function"===typeof n.append&&(e=jT(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function BT(e){var t=this.rules.forNode(e),n=FT.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function jT(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),r=t.replace(/^\n*/,""),o=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,o)+r}IT.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"===typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=FT.call(this,new _T(e,this.options));return LT.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!==typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return PT.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};var zT=IT;function $T(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var UT={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var WT=/[&<>"']/,HT=new RegExp(WT.source,"g"),VT=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,KT=new RegExp(VT.source,"g"),qT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},GT=function(e){return qT[e]};function JT(e,t){if(t){if(WT.test(e))return e.replace(HT,GT)}else if(VT.test(e))return e.replace(KT,GT);return e}var YT=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function XT(e){return e.replace(YT,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var QT=/(^|[^\[])\^/g;function ZT(e,t){e="string"===typeof e?e:e.source,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(QT,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var eM=/[^\w:]/g,tM=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function nM(e,t,n){if(e){var r;try{r=decodeURIComponent(XT(n)).replace(eM,"").toLowerCase()}catch(Xe){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!tM.test(n)&&(n=function(e,t){rM[" "+e]||(oM.test(e)?rM[" "+e]=e+"/":rM[" "+e]=cM(e,"/",!0));e=rM[" "+e];var n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(iM,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(aM,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(Xe){return null}return n}var rM={},oM=/^[^:]+:\/*[^/]*$/,iM=/^([^:]+:)[\s\S]*$/,aM=/^([^:]+:\/*[^/]*)[\s\S]*$/;var uM={exec:function(){}};function sM(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function lM(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function cM(e,t,n){var r=e.length;if(0===r)return"";for(var o=0;o<r;){var i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function fM(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function dM(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function pM(e,t,n,r){var o=t.href,i=t.title?JT(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;var u={type:"link",raw:n,href:o,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,u}return{type:"image",raw:n,href:o,title:i,text:JT(a)}}var hM=function(){function e(t){v(this,e),this.options=t||UT}return g(e,[{key:"space",value:function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}},{key:"code",value:function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:cM(n,"\n")}}}},{key:"fences",value:function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:Ye(t,1)[0].length>=r.length?e.slice(r.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}},{key:"heading",value:function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=cM(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}},{key:"hr",value:function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}},{key:"blockquote",value:function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;var o=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:n}}}},{key:"list",value:function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,o,i,a,u,s,l,c,f,d,p,h=t[1].trim(),v=h.length>1,m={type:"list",raw:"",ordered:v,start:v?+h.slice(0,-1):"",loose:!1,items:[]};h=v?"\\d{1,9}\\".concat(h.slice(-1)):"\\".concat(h),this.options.pedantic&&(h=v?h:"[*+-]");for(var g=new RegExp("^( {0,3}".concat(h,")((?:[\t ][^\\n]*)?(?:\\n|$))"));e&&(p=!1,t=g.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),l=t[2].split("\n",1)[0].replace(/^\t+/,(function(e){return" ".repeat(3*e.length)})),c=e.split("\n",1)[0],this.options.pedantic?(i=2,d=l.trimLeft()):(i=(i=t[2].search(/[^ ]/))>4?1:i,d=l.slice(i),i+=t[1].length),u=!1,!l&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),p=!0),!p)for(var y=new RegExp("^ {0,".concat(Math.min(3,i-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))")),b=new RegExp("^ {0,".concat(Math.min(3,i-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),k=new RegExp("^ {0,".concat(Math.min(3,i-1),"}(?:```|~~~)")),w=new RegExp("^ {0,".concat(Math.min(3,i-1),"}#"));e&&(c=f=e.split("\n",1)[0],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!k.test(c))&&!w.test(c)&&!y.test(c)&&!b.test(e);){if(c.search(/[^ ]/)>=i||!c.trim())d+="\n"+c.slice(i);else{if(u)break;if(l.search(/[^ ]/)>=4)break;if(k.test(l))break;if(w.test(l))break;if(b.test(l))break;d+="\n"+c}u||c.trim()||(u=!0),n+=f+"\n",e=e.substring(f.length+1),l=c.slice(i)}m.loose||(s?m.loose=!0:/\n *\n *$/.test(n)&&(s=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d))&&(o="[ ] "!==r[0],d=d.replace(/^\[[ xX]\] +/,"")),m.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:d}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=d.trimRight(),m.raw=m.raw.trimRight();var x=m.items.length;for(a=0;a<x;a++)if(this.lexer.state.top=!1,m.items[a].tokens=this.lexer.blockTokens(m.items[a].text,[]),!m.loose){var S=m.items[a].tokens.filter((function(e){return"space"===e.type})),E=S.length>0&&S.some((function(e){return/\n.*\n/.test(e.raw)}));m.loose=E}if(m.loose)for(a=0;a<x;a++)m.items[a].loose=!0;return m}}},{key:"html",value:function(e){var t=this.rules.block.html.exec(e);if(t){var n={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){var r=this.options.sanitizer?this.options.sanitizer(t[0]):JT(t[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}}},{key:"def",value:function(e){var t=this.rules.block.def.exec(e);if(t){var n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}},{key:"table",value:function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:lM(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,o,i,a,u=n.align.length;for(r=0;r<u;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(u=n.rows.length,r=0;r<u;r++)n.rows[r]=lM(n.rows[r],n.header.length).map((function(e){return{text:e}}));for(u=n.header.length,o=0;o<u;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(u=n.rows.length,o=0;o<u;o++)for(a=n.rows[o],i=0;i<a.length;i++)a[i].tokens=this.lexer.inline(a[i].text);return n}}}},{key:"lheading",value:function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}},{key:"paragraph",value:function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}},{key:"text",value:function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}},{key:"escape",value:function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:JT(t[1])}}},{key:"tag",value:function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):JT(t[0]):t[0]}}},{key:"link",value:function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=cM(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{var o=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,o=0;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&--r<0)return o;return-1}(t[2],"()");if(o>-1){var i=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,i).trim(),t[3]=""}}var a=t[2],u="";if(this.options.pedantic){var s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);s&&(a=s[1],u=s[3])}else u=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),pM(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:u?u.replace(this.rules.inline._escapes,"$1"):u},t[0],this.lexer)}}},{key:"reflink",value:function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return pM(n,r,n[0],this.lexer)}}},{key:"emStrong",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/))){var o=r[1]||r[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){var i,a,u=r[0].length-1,s=u,l=0,c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+u);null!=(r=c.exec(t));)if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=i.length,r[3]||r[4])s+=a;else if(!((r[5]||r[6])&&u%3)||(u+a)%3){if(!((s-=a)>0)){a=Math.min(a,a+s+l);var f=e.slice(0,u+r.index+(r[0].length-i.length)+a);if(Math.min(u,a)%2){var d=f.slice(1,-1);return{type:"em",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}var p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}else l+=a}}}},{key:"codespan",value:function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return r&&o&&(n=n.substring(1,n.length-1)),n=JT(n,!0),{type:"codespan",raw:t[0],text:n}}}},{key:"br",value:function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}},{key:"del",value:function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}},{key:"autolink",value:function(e,t){var n,r,o=this.rules.inline.autolink.exec(e);if(o)return r="@"===o[2]?"mailto:"+(n=JT(this.options.mangle?t(o[1]):o[1])):n=JT(o[1]),{type:"link",raw:o[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}},{key:"url",value:function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,o;if("@"===n[2])o="mailto:"+(r=JT(this.options.mangle?t(n[0]):n[0]));else{var i;do{i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(i!==n[0]);r=JT(n[0]),o="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}},{key:"inlineText",value:function(e,t){var n,r=this.rules.inline.text.exec(e);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):JT(r[0]):r[0]:JT(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}}}]),e}(),vM={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:uM,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};vM.def=ZT(vM.def).replace("label",vM._label).replace("title",vM._title).getRegex(),vM.bullet=/(?:[*+-]|\d{1,9}[.)])/,vM.listItemStart=ZT(/^( *)(bull) */).replace("bull",vM.bullet).getRegex(),vM.list=ZT(vM.list).replace(/bull/g,vM.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+vM.def.source+")").getRegex(),vM._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vM._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,vM.html=ZT(vM.html,"i").replace("comment",vM._comment).replace("tag",vM._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vM.paragraph=ZT(vM._paragraph).replace("hr",vM.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vM._tag).getRegex(),vM.blockquote=ZT(vM.blockquote).replace("paragraph",vM.paragraph).getRegex(),vM.normal=sM({},vM),vM.gfm=sM({},vM.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),vM.gfm.table=ZT(vM.gfm.table).replace("hr",vM.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vM._tag).getRegex(),vM.gfm.paragraph=ZT(vM._paragraph).replace("hr",vM.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",vM.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vM._tag).getRegex(),vM.pedantic=sM({},vM.normal,{html:ZT("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",vM._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:uM,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ZT(vM.normal._paragraph).replace("hr",vM.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",vM.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var mM={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:uM,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:uM,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function gM(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function yM(e){var t,n,r="",o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}mM._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",mM.punctuation=ZT(mM.punctuation).replace(/punctuation/g,mM._punctuation).getRegex(),mM.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,mM.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,mM._comment=ZT(vM._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),mM.emStrong.lDelim=ZT(mM.emStrong.lDelim).replace(/punct/g,mM._punctuation).getRegex(),mM.emStrong.rDelimAst=ZT(mM.emStrong.rDelimAst,"g").replace(/punct/g,mM._punctuation).getRegex(),mM.emStrong.rDelimUnd=ZT(mM.emStrong.rDelimUnd,"g").replace(/punct/g,mM._punctuation).getRegex(),mM._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,mM._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,mM._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,mM.autolink=ZT(mM.autolink).replace("scheme",mM._scheme).replace("email",mM._email).getRegex(),mM._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,mM.tag=ZT(mM.tag).replace("comment",mM._comment).replace("attribute",mM._attribute).getRegex(),mM._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mM._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,mM._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,mM.link=ZT(mM.link).replace("label",mM._label).replace("href",mM._href).replace("title",mM._title).getRegex(),mM.reflink=ZT(mM.reflink).replace("label",mM._label).replace("ref",vM._label).getRegex(),mM.nolink=ZT(mM.nolink).replace("ref",vM._label).getRegex(),mM.reflinkSearch=ZT(mM.reflinkSearch,"g").replace("reflink",mM.reflink).replace("nolink",mM.nolink).getRegex(),mM.normal=sM({},mM),mM.pedantic=sM({},mM.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ZT(/^!?\[(label)\]\((.*?)\)/).replace("label",mM._label).getRegex(),reflink:ZT(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mM._label).getRegex()}),mM.gfm=sM({},mM.normal,{escape:ZT(mM.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),mM.gfm.url=ZT(mM.gfm.url,"i").replace("email",mM.gfm._extended_email).getRegex(),mM.breaks=sM({},mM.gfm,{br:ZT(mM.br).replace("{2,}","*").getRegex(),text:ZT(mM.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var bM=function(){function e(t){v(this,e),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||UT,this.options.tokenizer=this.options.tokenizer||new hM,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:vM.normal,inline:mM.normal};this.options.pedantic?(n.block=vM.pedantic,n.inline=mM.pedantic):this.options.gfm&&(n.block=vM.gfm,this.options.breaks?n.inline=mM.breaks:n.inline=mM.gfm),this.tokenizer.rules=n}return g(e,[{key:"lex",value:function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}},{key:"blockTokens",value:function(e){var t,n,r,o,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));for(var u=function(){if(i.options.extensions&&i.options.extensions.block&&i.options.extensions.block.some((function(n){return!!(t=n.call({lexer:i},e,a))&&(e=e.substring(t.raw.length),a.push(t),!0)})))return"continue";if(t=i.tokenizer.space(e))return e=e.substring(t.raw.length),1===t.raw.length&&a.length>0?a[a.length-1].raw+="\n":a.push(t),"continue";if(t=i.tokenizer.code(e))return e=e.substring(t.raw.length),!(n=a[a.length-1])||"paragraph"!==n.type&&"text"!==n.type?a.push(t):(n.raw+="\n"+t.raw,n.text+="\n"+t.text,i.inlineQueue[i.inlineQueue.length-1].src=n.text),"continue";if(t=i.tokenizer.fences(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.heading(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.hr(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.blockquote(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.list(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.html(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.def(e))return e=e.substring(t.raw.length),!(n=a[a.length-1])||"paragraph"!==n.type&&"text"!==n.type?i.tokens.links[t.tag]||(i.tokens.links[t.tag]={href:t.href,title:t.title}):(n.raw+="\n"+t.raw,n.text+="\n"+t.raw,i.inlineQueue[i.inlineQueue.length-1].src=n.text),"continue";if(t=i.tokenizer.table(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(t=i.tokenizer.lheading(e))return e=e.substring(t.raw.length),a.push(t),"continue";if(r=e,i.options.extensions&&i.options.extensions.startBlock){var u,s=1/0,l=e.slice(1);i.options.extensions.startBlock.forEach((function(e){"number"===typeof(u=e.call({lexer:this},l))&&u>=0&&(s=Math.min(s,u))})),s<1/0&&s>=0&&(r=e.substring(0,s+1))}if(i.state.top&&(t=i.tokenizer.paragraph(r)))return n=a[a.length-1],o&&"paragraph"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,i.inlineQueue.pop(),i.inlineQueue[i.inlineQueue.length-1].src=n.text):a.push(t),o=r.length!==e.length,e=e.substring(t.raw.length),"continue";if(t=i.tokenizer.text(e))return e=e.substring(t.raw.length),(n=a[a.length-1])&&"text"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,i.inlineQueue.pop(),i.inlineQueue[i.inlineQueue.length-1].src=n.text):a.push(t),"continue";if(e){var c="Infinite loop on byte: "+e.charCodeAt(0);if(i.options.silent)return console.error(c),"break";throw new Error(c)}};e;){var s=u();if("continue"!==s&&"break"===s)break}return this.state.top=!0,a}},{key:"inline",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:t}),t}},{key:"inlineTokens",value:function(e){var t,n,r,o,i,a,u=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+dM("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+dM("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(var f=function(){if(i||(a=""),i=!1,u.options.extensions&&u.options.extensions.inline&&u.options.extensions.inline.some((function(n){return!!(t=n.call({lexer:u},e,s))&&(e=e.substring(t.raw.length),s.push(t),!0)})))return"continue";if(t=u.tokenizer.escape(e))return e=e.substring(t.raw.length),s.push(t),"continue";if(t=u.tokenizer.tag(e))return e=e.substring(t.raw.length),(n=s[s.length-1])&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t),"continue";if(t=u.tokenizer.link(e))return e=e.substring(t.raw.length),s.push(t),"continue";if(t=u.tokenizer.reflink(e,u.tokens.links))return e=e.substring(t.raw.length),(n=s[s.length-1])&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t),"continue";if(t=u.tokenizer.emStrong(e,l,a))return e=e.substring(t.raw.length),s.push(t),"continue";if(t=u.tokenizer.codespan(e))return e=e.substring(t.raw.length),s.push(t),"continue";if(t=u.tokenizer.br(e))return e=e.substring(t.raw.length),s.push(t),"continue";if(t=u.tokenizer.del(e))return e=e.substring(t.raw.length),s.push(t),"continue";if(t=u.tokenizer.autolink(e,yM))return e=e.substring(t.raw.length),s.push(t),"continue";if(!u.state.inLink&&(t=u.tokenizer.url(e,yM)))return e=e.substring(t.raw.length),s.push(t),"continue";if(r=e,u.options.extensions&&u.options.extensions.startInline){var o,c=1/0,f=e.slice(1);u.options.extensions.startInline.forEach((function(e){"number"===typeof(o=e.call({lexer:this},f))&&o>=0&&(c=Math.min(c,o))})),c<1/0&&c>=0&&(r=e.substring(0,c+1))}if(t=u.tokenizer.inlineText(r,gM))return e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(a=t.raw.slice(-1)),i=!0,(n=s[s.length-1])&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t),"continue";if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(u.options.silent)return console.error(d),"break";throw new Error(d)}};e;){var d=f();if("continue"!==d&&"break"===d)break}return s}}],[{key:"rules",get:function(){return{block:vM,inline:mM}}},{key:"lex",value:function(t,n){return new e(n).lex(t)}},{key:"lexInline",value:function(t,n){return new e(n).inlineTokens(t)}}]),e}(),kM=function(){function e(t){v(this,e),this.options=t||UT}return g(e,[{key:"code",value:function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+JT(r)+'">'+(n?e:JT(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:JT(e,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(e){return"<blockquote>\n".concat(e,"</blockquote>\n")}},{key:"html",value:function(e){return e}},{key:"heading",value:function(e,t,n,r){if(this.options.headerIds){var o=this.options.headerPrefix+r.slug(n);return"<h".concat(t,' id="').concat(o,'">').concat(e,"</h").concat(t,">\n")}return"<h".concat(t,">").concat(e,"</h").concat(t,">\n")}},{key:"hr",value:function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}},{key:"list",value:function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}},{key:"listitem",value:function(e){return"<li>".concat(e,"</li>\n")}},{key:"checkbox",value:function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}},{key:"paragraph",value:function(e){return"<p>".concat(e,"</p>\n")}},{key:"table",value:function(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}},{key:"tablerow",value:function(e){return"<tr>\n".concat(e,"</tr>\n")}},{key:"tablecell",value:function(e,t){var n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,">\n")}},{key:"strong",value:function(e){return"<strong>".concat(e,"</strong>")}},{key:"em",value:function(e){return"<em>".concat(e,"</em>")}},{key:"codespan",value:function(e){return"<code>".concat(e,"</code>")}},{key:"br",value:function(){return this.options.xhtml?"<br/>":"<br>"}},{key:"del",value:function(e){return"<del>".concat(e,"</del>")}},{key:"link",value:function(e,t,n){if(null===(e=nM(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"}},{key:"image",value:function(e,t,n){if(null===(e=nM(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(r+=' title="'.concat(t,'"')),r+=this.options.xhtml?"/>":">"}},{key:"text",value:function(e){return e}}]),e}(),wM=function(){function e(){v(this,e)}return g(e,[{key:"strong",value:function(e){return e}},{key:"em",value:function(e){return e}},{key:"codespan",value:function(e){return e}},{key:"del",value:function(e){return e}},{key:"html",value:function(e){return e}},{key:"text",value:function(e){return e}},{key:"link",value:function(e,t,n){return""+n}},{key:"image",value:function(e,t,n){return""+n}},{key:"br",value:function(){return""}}]),e}(),xM=function(){function e(){v(this,e),this.seen={}}return g(e,[{key:"serialize",value:function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}},{key:"getNextSafeSlug",value:function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}},{key:"slug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}]),e}(),SM=function(){function e(t){v(this,e),this.options=t||UT,this.options.renderer=this.options.renderer||new kM,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wM,this.slugger=new xM}return g(e,[{key:"parse",value:function(e){var t,n,r,o,i,a,u,s,l,c,f,d,p,h,v,m,g,y,b,k=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],w="",x=e.length;for(t=0;t<x;t++)if(c=e[t],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type])||!1===(b=this.options.extensions.renderers[c.type].call({parser:this},c))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type))switch(c.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(c.tokens),c.depth,XT(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(s="",u="",o=c.header.length,n=0;n<o;n++)u+=this.renderer.tablecell(this.parseInline(c.header[n].tokens),{header:!0,align:c.align[n]});for(s+=this.renderer.tablerow(u),l="",o=c.rows.length,n=0;n<o;n++){for(u="",i=(a=c.rows[n]).length,r=0;r<i;r++)u+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:c.align[r]});l+=this.renderer.tablerow(u)}w+=this.renderer.table(s,l);continue;case"blockquote":l=this.parse(c.tokens),w+=this.renderer.blockquote(l);continue;case"list":for(f=c.ordered,d=c.start,p=c.loose,o=c.items.length,l="",n=0;n<o;n++)m=(v=c.items[n]).checked,g=v.task,h="",v.task&&(y=this.renderer.checkbox(m),p?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=y+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=y+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:y}):h+=y),h+=this.parse(v.tokens,p),l+=this.renderer.listitem(h,g,m);w+=this.renderer.list(l,f,d);continue;case"html":w+=this.renderer.html(c.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;t+1<x&&"text"===e[t+1].type;)l+="\n"+((c=e[++t]).tokens?this.parseInline(c.tokens):c.text);w+=k?this.renderer.paragraph(l):l;continue;default:var S='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(S);throw new Error(S)}else w+=b||"";return w}},{key:"parseInline",value:function(e,t){t=t||this.renderer;var n,r,o,i="",a=e.length;for(n=0;n<a;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(o=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":case"text":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;default:var u='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}else i+=o||"";return i}}],[{key:"parse",value:function(t,n){return new e(n).parse(t)}},{key:"parseInline",value:function(t,n){return new e(n).parseInline(t)}}]),e}();function EM(e,t,n){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"===typeof t&&(n=t,t=null),fM(t=sM({},EM.defaults,t||{})),n){var r,o=t.highlight;try{r=bM.lex(e,t)}catch(Xe){return n(Xe)}var i=function(e){var i;if(!e)try{t.walkTokens&&EM.walkTokens(r,t.walkTokens),i=SM.parse(r,t)}catch(Xe){e=Xe}return t.highlight=o,e?n(e):n(null,i)};if(!o||o.length<3)return i();if(delete t.highlight,!r.length)return i();var a=0;return EM.walkTokens(r,(function(e){"code"===e.type&&(a++,setTimeout((function(){o(e.text,e.lang,(function(t,n){if(t)return i(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0===--a&&i()}))}),0))})),void(0===a&&i())}function u(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+JT(e.message+"",!0)+"</pre>";throw e}try{var s=bM.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(EM.walkTokens(s,t.walkTokens)).then((function(){return SM.parse(s,t)})).catch(u);EM.walkTokens(s,t.walkTokens)}return SM.parse(s,t)}catch(Xe){u(Xe)}}EM.options=EM.setOptions=function(e){var t;return sM(EM.defaults,e),t=EM.defaults,UT=t,EM},EM.getDefaults=$T,EM.defaults=UT,EM.use=function(){for(var e=EM.defaults.extensions||{renderers:{},childTokens:{}},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){var n=sM({},t);if(n.async=EM.defaults.async||n.async,t.extensions&&(t.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var n=e.renderers[t.name];e.renderers[t.name]=n?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=t.renderer.apply(this,r);return!1===i&&(i=n.apply(this,r)),i}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");e[t.level]?e[t.level].unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){var r=EM.defaults.renderer||new kM,o=function(e){var n=r[e];r[e]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var u=t.renderer[e].apply(r,i);return!1===u&&(u=n.apply(r,i)),u}};for(var i in t.renderer)o(i);n.renderer=r}if(t.tokenizer){var a=EM.defaults.tokenizer||new hM,u=function(e){var n=a[e];a[e]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var u=t.tokenizer[e].apply(a,o);return!1===u&&(u=n.apply(a,o)),u}};for(var s in t.tokenizer)u(s);n.tokenizer=a}if(t.walkTokens){var l=EM.defaults.walkTokens;n.walkTokens=function(e){var n=[];return n.push(t.walkTokens.call(this,e)),l&&(n=n.concat(l.call(this,e))),n}}EM.setOptions(n)}))},EM.walkTokens=function(e,t){var n,r=[],o=qe(e);try{var i=function(){var e=n.value;switch(r=r.concat(t.call(EM,e)),e.type){case"table":var o,i=qe(e.header);try{for(i.s();!(o=i.n()).done;){var a=o.value;r=r.concat(EM.walkTokens(a.tokens,t))}}catch(d){i.e(d)}finally{i.f()}var u,s=qe(e.rows);try{for(s.s();!(u=s.n()).done;){var l,c=qe(u.value);try{for(c.s();!(l=c.n()).done;){var f=l.value;r=r.concat(EM.walkTokens(f.tokens,t))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){s.e(d)}finally{s.f()}break;case"list":r=r.concat(EM.walkTokens(e.items,t));break;default:EM.defaults.extensions&&EM.defaults.extensions.childTokens&&EM.defaults.extensions.childTokens[e.type]?EM.defaults.extensions.childTokens[e.type].forEach((function(n){r=r.concat(EM.walkTokens(e[n],t))})):e.tokens&&(r=r.concat(EM.walkTokens(e.tokens,t)))}};for(o.s();!(n=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r},EM.parseInline=function(e,t){if("undefined"===typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");fM(t=sM({},EM.defaults,t||{}));try{var n=bM.lexInline(e,t);return t.walkTokens&&EM.walkTokens(n,t.walkTokens),SM.parseInline(n,t)}catch(Xe){if(Xe.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+JT(Xe.message+"",!0)+"</pre>";throw Xe}},EM.Parser=SM,EM.parser=SM.parse,EM.Renderer=kM,EM.TextRenderer=wM,EM.Lexer=bM,EM.lexer=bM.lex,EM.Tokenizer=hM,EM.Slugger=xM,EM.parse=EM;EM.options,EM.setOptions,EM.use,EM.walkTokens,EM.parseInline,SM.parse,bM.lex;var CM=Object.defineProperty,AM=Object.getOwnPropertyDescriptor,DM=function(e,t,n,r){for(var o,i=r>1?void 0:r?AM(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&CM(t,n,i),i};function OM(e){var t=e.parentNode;if(!Zg(t))return!1;if("THEAD"===t.nodeName)return!0;if("TABLE"!==t.nodeName&&!TM(t))return!1;var n=d(e.childNodes);return n.every((function(e){return"TH"===e.nodeName}))&&n.some((function(e){return!!e.textContent}))}function _M(e){return Zg(e)&&e.matches("th[data-controller-cell]")}function TM(e){var t;if("TBODY"!==e.nodeName)return!1;var n=e.previousSibling;return!n||Zg(n)&&"THEAD"===n.nodeName&&!(null==(t=n.textContent)?void 0:t.trim())}function MM(e){var t=e.closest("table");if(!t)return!1;var n=t.parentNode;return!n||!!n.closest("table")}function NM(e,t){var n,r,o,i=[],a=qe(null!=(r=null==(n=t.parentNode)?void 0:n.childNodes)?r:[]);try{for(a.s();!(o=a.n()).done;){var u=o.value;_M(u)||i.push(u)}}catch(l){a.e(l)}finally{a.f()}var s=i.indexOf(t);return"".concat((0===s?"| ":" ")+e.trim()," |")}var RM=new(ya(zT))({codeBlockStyle:"fenced",headingStyle:"atx"}).addRule("taskListItems",{filter:function(e){return"LI"===e.nodeName&&e.hasAttribute("data-task-list-item")},replacement:function(e,t){var n=t.hasAttribute("data-checked");return"- ".concat(n?"[x]":"[ ]"," ").concat(e.trimStart())}}).addRule("tableCell",{filter:["th","td"],replacement:function(e,t){return _M(t)?"":NM(e,t)}}).addRule("tableRow",{filter:"tr",replacement:function(e,t){var n,r="",o={left:":--",right:"--:",center:":-:"},i=d(t.childNodes).filter((function(e){return!_M(e)}));if(OM(t)){var a,u=qe(i);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(Zg(s)){var l="---",c=(null!=(n=s.getAttribute("align"))?n:"").toLowerCase();c&&(l=o[c]||l),r+=NM(l,s)}}}catch(f){u.e(f)}finally{u.f()}}return"\n".concat(e).concat(r?"\n".concat(r):"")}}).addRule("table",{filter:function(e){if("TABLE"!==e.nodeName)return!1;if(MM(e))return!1;var t=d(e.rows).filter((function(e){return!function(e){var t=e.parentNode;return!!Zg(t)&&!("TABLE"!==t.nodeName&&!TM(t))&&d(e.childNodes).every((function(e){return _M(e)}))}(e)}));return OM(t[0])},replacement:function(e){return e=e.replace("\n\n","\n"),"\n\n".concat(e,"\n\n")}}).addRule("tableSection",{filter:["thead","tbody","tfoot"],replacement:function(e){return e}}).keep((function(e){return"TABLE"===e.nodeName&&!OM(e.rows[0])})).keep((function(e){return"TABLE"===e.nodeName&&MM(e)})).addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~".concat(e,"~")}}).addRule("fencedCodeBlock",{filter:function(e,t){return!("fenced"!==t.codeBlockStyle||"PRE"!==e.nodeName||!e.firstChild||"CODE"!==e.firstChild.nodeName)},replacement:function(e,t,n){var r,o,i,a,u;ga(Zg(t.firstChild),{code:pi.EXTENSION,message:"Invalid node `".concat(null==(r=t.firstChild)?void 0:r.nodeName,"` encountered for codeblock when converting html to markdown.")});var s=null!=(u=null!=(a=null==(i=(null!=(o=t.firstChild.getAttribute("class"))?o:"").match(/(?:lang|language)-(\S+)/))?void 0:i[1])?a:t.firstChild.getAttribute("data-code-block-language"))?u:"";return"\n\n".concat(n.fence).concat(s,"\n").concat(t.firstChild.textContent,"\n").concat(n.fence,"\n\n")}});function PM(e){if(!ey(e)){if(!Zg(e)||/^(script|iframe|object|embed|svg)$/i.test(e.tagName))return null==e?void 0:e.remove();var t,n=qe(e.attributes);try{for(n.s();!(t=n.n()).done;){var r=t.value.name;/^(class|id|name|href|src|alt|align|valign)$/i.test(r)||e.attributes.removeNamedItem(r)}}catch(a){n.e(a)}finally{n.f()}var o,i=qe(e.childNodes);try{for(i.s();!(o=i.n()).done;){PM(o.value)}}catch(a){i.e(a)}finally{i.f()}}}EM.use({renderer:{list:function(e,t,n){if(t){var r=1!==n?'start="'.concat(n,'"'):"";return"<ol ".concat(r,">\n").concat(e,"</ol>\n")}var o=e.startsWith("<li data-task-list-item ")?"data-task-list":"";return"<ul ".concat(o,">\n").concat(e,"</ul>\n")},listitem:function(e,t,n){return t?"<li data-task-list-item ".concat(n?"data-checked":"",">").concat(e,"</li>\n"):"<li>".concat(e,"</li>\n")}}});var IM=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"markdown"}},{key:"onCreate",value:function(){this.store.setStringHandler("markdown",this.markdownToProsemirrorNode.bind(this))}},{key:"createPlugin",value:function(){var e=this,t=this.options.copyAsMarkdown?function(t){var n=document.createElement("div"),r=ud.fromSchema(e.store.schema);return n.append(r.serializeFragment(t.content)),e.options.htmlToMarkdown(n.innerHTML)}:void 0;return{props:{clipboardTextSerializer:t}}}},{key:"markdownToProsemirrorNode",value:function(e){return this.store.stringHandlers.html(h(h({},e),{},{content:this.options.markdownToHtml(e.content,this.options.htmlSanitizer)}))}},{key:"insertMarkdown",value:function(e,t){var n=this;return function(r){var o=r.state,i=n.options.markdownToHtml(e,n.options.htmlSanitizer);i=!(null==t?void 0:t.alwaysWrapInBlock)&&i.startsWith("<p><")&&i.endsWith("</p>\n")?i.slice(3,-5):"<div>".concat(i,"</div>");var a=n.store.stringHandlers.html({content:i,schema:o.schema,fragment:!0});return n.store.commands.insertNode.original(a,h(h({},t),{},{replaceEmptyParentBlock:!0}))(r)}}},{key:"getMarkdown",value:function(e){return this.options.htmlToMarkdown(this.store.helpers.getHTML(e))}},{key:"toggleBoldMarkdown",value:function(){return function(e){return!1}}}]),n}(lw);DM([kw()],IM.prototype,"insertMarkdown",1),DM([bw()],IM.prototype,"getMarkdown",1),DM([kw()],IM.prototype,"toggleBoldMarkdown",1),IM=DM([gw({defaultOptions:{htmlToMarkdown:function(e){return RM.turndown(e)},markdownToHtml:function(e,t){return EM(e,{gfm:!0,smartLists:!0,xhtml:!0,sanitizer:t})},htmlSanitizer:function(e){ga(typeof document,{code:pi.EXTENSION,message:"Attempting to sanitize html within a non-browser environment. Please provide your own `sanitizeHtml` method to the `MarkdownExtension`."});var t=(new DOMParser).parseFromString("<!DOCTYPE html><html><body>".concat(e,"</body>"),"text/html");return t.normalize(),PM(t.body),t.body.innerHTML},activeNodes:[ui.Code],copyAsMarkdown:!1},staticKeys:["htmlToMarkdown","markdownToHtml","htmlSanitizer"]})],IM);var FM=Object.defineProperty,LM=Object.getOwnPropertyDescriptor,BM=function(e,t,n,r){for(var o,i=r>1?void 0:r?LM(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&FM(t,n,i),i},jM={label:function(e){return(0,e.t)(Ib.INCREASE_INDENT_LABEL)},icon:"indentIncrease"},zM={label:function(e){return(0,e.t)(Ib.DECREASE_INDENT_LABEL)},icon:"indentDecrease"},$M={label:function(e){return(0,e.t)(Ib.CENTER_ALIGN_LABEL)},icon:"alignCenter",active:VM((function(e){return"center"===e.node.attrs.nodeTextAlignment}))},UM={label:function(e){return(0,e.t)(Ib.JUSTIFY_ALIGN_LABEL)},icon:"alignJustify",active:VM((function(e){return"justify"===e.node.attrs.nodeTextAlignment}))},WM={label:function(e){return(0,e.t)(Ib.RIGHT_ALIGN_LABEL)},icon:"alignRight",active:VM((function(e){return"right"===e.node.attrs.nodeTextAlignment}))},HM={label:function(e){return(0,e.t)(Ib.LEFT_ALIGN_LABEL)},icon:"alignLeft",active:VM((function(e){var t=e.node.attrs.nodeTextAlignment;return"left"===t||""===t}))};function VM(e){return function(t,n){var r=t.excludeNodes,o=n.getState,i=n.nodeTags;return qM(o(),i.formattingNode,r).some(e)}}function KM(e,t,n){return!n.includes(e.name)&&t.includes(e.name)}function qM(e,t,n){var r=[],o=e.selection,i=o.$from,a=o.$to,u=i.blockRange(a);if(!u)return[];var s=u.parent,l=u.start,c=u.end;return s.nodeSize-2===c-l&&KM(s.type,t,n)?[{node:s,pos:l-1}]:(e.doc.nodesBetween(l,c,(function(e,o){if(!(o<l||o>c))return KM(e.type,t,n)?(r.push({node:e,pos:o}),!1):void 0})),r)}var GM="data-node-indent",JM="data-node-text-align",YM="data-line-height-align";var XM=/^\d+(?:\.\d+)?$/,QM=/^(\d+(?:\.\d+)?)%$/;function ZM(e){if(Ii(e))return e;if(!e)return null;var t=e.trim(),n=t.match(QM);if(n)return Number.parseFloat(n[1])/100;var r=t.match(XM);return r?Number.parseFloat(r[0]):null}var eN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"nodeFormatting"}},{key:"createSchemaAttributes",value:function(){var e=this;return[{identifiers:{type:"node",tags:[ui.FormattingNode],excludeNames:this.options.excludeNodes},attributes:{nodeIndent:this.nodeIndent(),nodeTextAlignment:this.nodeTextAlignment(),nodeLineHeight:this.nodeLineHeight(),style:{default:"",parseDOM:function(){return""},toDOM:function(t){var n=t.nodeIndent,r=t.nodeTextAlignment,o=t.nodeLineHeight,i=t.style;return{style:nb({marginLeft:n?e.options.indents[n]:void 0,textAlign:r&&"none"!==r?r:void 0,lineHeight:o||void 0},i)}}}}}]}},{key:"setLineHeight",value:function(e){return this.setNodeAttribute((function(t){var n=t.node;if(e!==n.attrs.nodeLineHeight)return{nodeLineHeight:e}}))}},{key:"setTextAlignment",value:function(e){return this.setNodeAttribute((function(t){var n=t.node;if(e!==n.attrs.nodeTextAlignment)return{nodeTextAlignment:e}}))}},{key:"setIndent",value:function(e){var t=this;return this.setNodeAttribute((function(n){var r,o=null!=(r=n.node.attrs.nodeIndent)?r:0,i="-1"===e?o-1:"+1"===e?o+1:e,a=na({min:0,max:t.options.indents.length-1,value:i});if(a!==o)return{nodeIndent:a}}))}},{key:"centerAlign",value:function(){return this.setTextAlignment("center")}},{key:"justifyAlign",value:function(){return this.setTextAlignment("justify")}},{key:"leftAlign",value:function(){return this.setTextAlignment("left")}},{key:"rightAlign",value:function(){return this.setTextAlignment("right")}},{key:"increaseIndent",value:function(){var e=this;return function(t){return e.setIndent("+1")(t)}}},{key:"decreaseIndent",value:function(){var e=this;return function(t){return e.setIndent("-1")(t)}}},{key:"centerAlignShortcut",value:function(e){return this.centerAlign()(e)}},{key:"justifyAlignShortcut",value:function(e){return this.justifyAlign()(e)}},{key:"leftAlignShortcut",value:function(e){return this.leftAlign()(e)}},{key:"rightAlignShortcut",value:function(e){return this.rightAlign()(e)}},{key:"increaseIndentShortcut",value:function(e){return this.increaseIndent()(e)}},{key:"decreaseIndentShortcut",value:function(e){return this.decreaseIndent()(e)}},{key:"nodeIndent",value:function(){var e=this;return{default:null,parseDOM:function(t){var n;return null!=(n=t.getAttribute(GM))?n:function(e,t){var n,r=Yg(ra(e)),o=Yg(null!=t?t:"0"),i=null!=(n=e.length)?n:1,a=r/i;return na({max:i,min:0,value:Math.floor(o/a)})}(e.options.indents,t.style.marginLeft)},toDOM:function(t){if(t.nodeIndent){var n="".concat(t.nodeIndent);if(e.options.indents[t.nodeIndent])return s({},GM,n)}}}}},{key:"nodeTextAlignment",value:function(){return{default:null,parseDOM:function(e){var t;return null!=(t=e.getAttribute(JM))?t:e.style.textAlign},toDOM:function(e){var t=e.nodeTextAlignment;if(t&&"none"!==t)return s({},JM,t)}}}},{key:"nodeLineHeight",value:function(){return{default:null,parseDOM:function(e){var t;return null!=(t=ZM(e.getAttribute(YM)))?t:ZM(e.style.lineHeight)},toDOM:function(e){var t=e.nodeLineHeight;if(t)return s({},YM,t.toString())}}}},{key:"setNodeAttribute",value:function(e){var t=this;return function(n){var r=n.tr,o=n.dispatch,i=qM(r,t.store.nodeTags.formattingNode,t.options.excludeNodes);if(Vi(i))return!1;if(!o)return!0;var a,u=[],s=qe(i);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.node,f=l.pos,d=e(l);d&&u.push([f,h(h({},c.attrs),d)])}}catch(b){s.e(b)}finally{s.f()}if(Vi(u))return!1;if(!o)return!0;for(var p=0,v=u;p<v.length;p++){var m=Ye(v[p],2),g=m[0],y=m[1];r.setNodeMarkup(g,void 0,y)}return o(r),!0}}}]),n}(lw);BM([kw()],eN.prototype,"setLineHeight",1),BM([kw()],eN.prototype,"setTextAlignment",1),BM([kw()],eN.prototype,"setIndent",1),BM([kw($M)],eN.prototype,"centerAlign",1),BM([kw(UM)],eN.prototype,"justifyAlign",1),BM([kw(HM)],eN.prototype,"leftAlign",1),BM([kw(WM)],eN.prototype,"rightAlign",1),BM([kw(jM)],eN.prototype,"increaseIndent",1),BM([kw(zM)],eN.prototype,"decreaseIndent",1),BM([ww({shortcut:di.CenterAlignment,command:"centerAlign"})],eN.prototype,"centerAlignShortcut",1),BM([ww({shortcut:di.JustifyAlignment,command:"justifyAlign"})],eN.prototype,"justifyAlignShortcut",1),BM([ww({shortcut:di.LeftAlignment,command:"leftAlign"})],eN.prototype,"leftAlignShortcut",1),BM([ww({shortcut:di.RightAlignment,command:"rightAlign"})],eN.prototype,"rightAlignShortcut",1),BM([ww({shortcut:di.IncreaseIndent,command:"increaseIndent",priority:ci.Low})],eN.prototype,"increaseIndentShortcut",1),BM([ww({shortcut:di.DecreaseIndent,command:"decreaseIndent",priority:ci.Medium})],eN.prototype,"decreaseIndentShortcut",1),eN=BM([gw({defaultOptions:{indents:["0","20px","40px","60px","80px","100px","120px","140px","160px","180px","200px"],excludeNodes:[]},staticKeys:["indents"]})],eN);var tN=Object.defineProperty,nN=Object.getOwnPropertyDescriptor,rN=function(e,t,n,r){for(var o,i=r>1?void 0:r?nN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&tN(t,n,i),i},oN={icon:"strikethrough",label:function(e){return(0,e.t)(Lb.LABEL)},description:function(e){return(0,e.t)(Lb.DESCRIPTION)}},iN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"strike"}},{key:"createTags",value:function(){return[ui.FontStyle,ui.FormattingMark]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"s",getAttrs:e.parse},{tag:"del",getAttrs:e.parse},{tag:"strike",getAttrs:e.parse},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&{}}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["s",e.dom(t),0]}})}},{key:"toggleStrike",value:function(){return Sw({type:this.type})}},{key:"shortcut",value:function(e){return this.toggleStrike()(e)}},{key:"createInputRules",value:function(){return[kb({regexp:/~([^~]+)~$/,type:this.type,ignoreWhitespace:!0})]}},{key:"createPasteRules",value:function(){return[{regexp:/~([^~]+)~/g,type:"mark",markType:this.type}]}}]),n}(cw);rN([kw(oN)],iN.prototype,"toggleStrike",1),rN([ww({shortcut:di.Strike,command:"toggleStrike"})],iN.prototype,"shortcut",1),iN=rN([gw({})],iN);var aN=Object.defineProperty,uN=Object.getOwnPropertyDescriptor,sN=function(e,t,n,r){for(var o,i=r>1?void 0:r?uN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&aN(t,n,i),i},lN={icon:"subscript",label:function(e){return(0,e.t)(Bb.LABEL)}},cN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"sub"}},{key:"createTags",value:function(){return[ui.FormattingMark,ui.FontStyle]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"sub",getAttrs:e.parse}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["sub",e.dom(t),0]}})}},{key:"toggleSubscript",value:function(){return Sw({type:this.type})}},{key:"shortcut",value:function(e){return this.toggleSubscript()(e)}}]),n}(cw);sN([kw(lN)],cN.prototype,"toggleSubscript",1),sN([ww({shortcut:di.Subscript,command:"toggleSubscript"})],cN.prototype,"shortcut",1),cN=sN([gw({})],cN);var fN=Object.defineProperty,dN=Object.getOwnPropertyDescriptor,pN=function(e,t,n,r){for(var o,i=r>1?void 0:r?dN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&fN(t,n,i),i},hN={icon:"superscript",label:function(e){return(0,e.t)(jb.LABEL)}},vN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"sup"}},{key:"createTags",value:function(){return[ui.FormattingMark,ui.FontStyle]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"sup",getAttrs:e.parse}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["sup",e.dom(t),0]}})}},{key:"toggleSuperscript",value:function(){return Sw({type:this.type})}},{key:"shortcut",value:function(e){return this.toggleSuperscript()(e)}}]),n}(cw);pN([kw(hN)],vN.prototype,"toggleSuperscript",1),pN([ww({shortcut:di.Superscript,command:"toggleSuperscript"})],vN.prototype,"shortcut",1),vN=pN([gw({})],vN);var mN=Object.defineProperty,gN=Object.getOwnPropertyDescriptor,yN=function(e,t,n,r){for(var o,i=r>1?void 0:r?gN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&mN(t,n,i),i},bN={icon:"fontSize2",label:function(e){return(0,e.t)($b.TOGGLE_LABEL)}},kN="data-text-case",wN=["uppercase","lowercase","capitalize","small-caps"];function xN(e){return Di(wN,e)}var SN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"textCase"}},{key:"createTags",value:function(){return[ui.FontStyle,ui.FormattingMark]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:h(h({},e.defaults()),{},{casing:{default:this.options.defaultCasing}}),parseDOM:[{tag:"span[".concat(kN,"]"),getAttrs:function(t){if(!Zg(t))return!1;var n=t.getAttribute(kN);return!(!n||"none"===n)&&h(h({},e.parse(t)),{},{casing:n})}},{style:"text-transform",priority:ci.Low,getAttrs:function(e){return!!xN(e)&&{casing:e}}},{style:"font-variant",priority:ci.Low,getAttrs:function(e){return!!xN(e)&&{casing:e}}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e).casing,r=e.dom(t),o=r.style;return xN(n)||(n="none"),o=nb(s({},"small-caps"===n?"fontVariant":"textTransform",n),o),["span",h(h({},r),{},s({style:o},kN,n)),0]}})}},{key:"toggleTextCase",value:function(){return this.store.commands.toggleMark.original({type:this.type,attrs:{casing:this.options.defaultCasing}})}},{key:"setTextCase",value:function(e,t){var n="string"===typeof e?{casing:e}:e;return this.store.commands.applyMark.original(this.type,n,t)}}]),n}(cw);yN([kw(bN)],SN.prototype,"toggleTextCase",1),yN([kw()],SN.prototype,"setTextCase",1),SN=yN([gw({defaultOptions:{defaultCasing:"none"},staticKeys:["defaultCasing"]})],SN);var EN=["color"],CN=Object.defineProperty,AN=Object.getOwnPropertyDescriptor,DN=function(e,t,n,r){for(var o,i=r>1?void 0:r?AN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&CN(t,n,i),i},ON={icon:"fontColor",description:function(e){return(0,e.t)(Ub.SET_COLOR_DESCRIPTION)},label:function(e){return(0,e.t)(Ub.SET_COLOR_LABEL)}},_N=sa([10]);function TN(e){var t=e.t,n=e.name,r=e.labelDescriptor,o=e.hueDescriptor;return{label:t(r),hues:_N.map((function(e){return{label:t(o,{hue:e}),color:yE("hue",n,e)}}))}}function MN(e){var t={label:e(Ub.BLACK),color:"#000"},n={label:e(Ub.WHITE),color:"#fff"},r={label:e(Ub.TRANSPARENT),color:"transparent"};return{black:t,hues:{gray:TN({t:e,name:"gray",labelDescriptor:Ub.GRAY,hueDescriptor:Ub.GRAY_HUE}),blue:TN({t:e,name:"blue",labelDescriptor:Ub.BLUE,hueDescriptor:Ub.BLUE_HUE}),cyan:TN({t:e,name:"cyan",labelDescriptor:Ub.CYAN,hueDescriptor:Ub.CYAN_HUE}),grape:TN({t:e,name:"grape",labelDescriptor:Ub.GRAPE,hueDescriptor:Ub.GRAPE_HUE}),green:TN({t:e,name:"green",labelDescriptor:Ub.GREEN,hueDescriptor:Ub.GREEN_HUE}),indigo:TN({t:e,name:"indigo",labelDescriptor:Ub.INDIGO,hueDescriptor:Ub.INDIGO_HUE}),lime:TN({t:e,name:"lime",labelDescriptor:Ub.LIME,hueDescriptor:Ub.LIME_HUE}),orange:TN({t:e,name:"orange",labelDescriptor:Ub.ORANGE,hueDescriptor:Ub.ORANGE_HUE}),pink:TN({t:e,name:"pink",labelDescriptor:Ub.PINK,hueDescriptor:Ub.PINK_HUE}),red:TN({t:e,name:"red",labelDescriptor:Ub.RED,hueDescriptor:Ub.RED_HUE}),teal:TN({t:e,name:"teal",labelDescriptor:Ub.TEAL,hueDescriptor:Ub.TEAL_HUE}),violet:TN({t:e,name:"violet",labelDescriptor:Ub.VIOLET,hueDescriptor:Ub.VIOLET_HUE}),yellow:TN({t:e,name:"yellow",labelDescriptor:Ub.YELLOW,hueDescriptor:Ub.YELLOW_HUE})},transparent:r,white:n}}var NN=/^var\((--[A-Za-z-]+)\);?/,RN="data-text-color-mark",PN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"textColor"}},{key:"createTags",value:function(){return[ui.FormattingMark,ui.FontStyle]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:h(h({},e.defaults()),{},{color:{default:this.options.defaultColor}}),parseDOM:[{tag:"span[".concat(RN,"]"),getAttrs:function(t){if(!Zg(t))return null;var n=t.getAttribute(RN);return n?h(h({},e.parse(t)),{},{color:n}):null}},{style:"color",priority:ci.Low,getAttrs:function(e){return Pi(e)?{color:e}:null}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e),r=n.color,o=i(n,EN),a=e.dom(t),u=a.style;return r&&(u=nb({color:r},u)),["span",h(h(h({},o),a),{},s({style:u},RN,r)),0]}})}},{key:"setTextColor",value:function(e,t){return this.store.commands.applyMark.original(this.type,{color:e},null==t?void 0:t.selection)}},{key:"removeTextColor",value:function(e){return this.store.commands.removeMark.original(h(h({type:this.type},e),{},{expand:!0}))}},{key:"getHexColor",value:function(e){var t=e.match(NN),n=null==t?void 0:t[1];return n&&(e=getComputedStyle(this.store.view.dom).getPropertyValue(n)),function(e){var t=Ye($S(e),4),n=t[0],r=t[1],o=t[2],i=t[3],a=function(e){var t=jS(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};return"#".concat(a(n)).concat(a(r)).concat(a(o)).concat(i<1?a(Math.round(255*i)):"")}(e)}}]),n}(cw);DN([kw(ON)],PN.prototype,"setTextColor",1),DN([kw()],PN.prototype,"removeTextColor",1),DN([bw()],PN.prototype,"getHexColor",1),PN=DN([gw({defaultOptions:{defaultColor:"",palette:MN},staticKeys:["defaultColor"]})],PN);var IN=["highlight"],FN=Object.defineProperty,LN=Object.getOwnPropertyDescriptor,BN=function(e,t,n,r){for(var o,i=r>1?void 0:r?LN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&FN(t,n,i),i},jN={icon:"markPenLine",description:function(e){return(0,e.t)(Wb.DESCRIPTION)},label:function(e){return(0,e.t)(Wb.LABEL)}},zN="data-text-highlight-mark",$N=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"textHighlight"}},{key:"createTags",value:function(){return[ui.FormattingMark,ui.FontStyle]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:h(h({},e.defaults()),{},{highlight:{default:this.options.defaultHighlight}}),parseDOM:[{tag:"span[".concat(zN,"]"),getAttrs:function(t){if(!Zg(t))return null;var n=t.getAttribute(zN);return n?h(h({},e.parse(t)),{},{highlight:n}):null}},{tag:"span[".concat(zN,"]"),getAttrs:function(t){if(!Zg(t))return null;var n=t.getAttribute(zN);return n?h(h({},e.parse(t)),{},{highlight:n}):null}},{style:"background-color",priority:ci.Low,getAttrs:function(e){return Pi(e)?{highlight:e}:null}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){var n=tb(t.attrs,e),r=n.highlight,o=i(n,IN),a=e.dom(t),u=a.style;return r&&(u=nb({backgroundColor:r},u)),["mark",h(h(h({},o),a),{},s({style:u},zN,r)),0]}})}},{key:"setTextHighlight",value:function(e,t){return this.store.commands.applyMark.original(this.type,{highlight:e},null==t?void 0:t.selection)}},{key:"removeTextHighlight",value:function(e){return this.store.commands.removeMark.original(h(h({type:this.type},e),{},{expand:!0}))}}]),n}(cw);BN([kw(jN)],$N.prototype,"setTextHighlight",1),BN([kw()],$N.prototype,"removeTextHighlight",1),$N=BN([gw({defaultOptions:{defaultHighlight:"",palette:MN},staticKeys:["defaultHighlight"]})],$N);var UN=new Ep("trailingNode");function WN(e){var t,n,r=null!=e?e:{},o=r.ignoredNodes,i=void 0===o?[]:o,a=r.nodeName,u=void 0===a?"paragraph":a,s=Qi([].concat(d(i),[u]));return new wp({key:UN,appendTransaction:function(e,n,r){var o=r.doc,i=r.tr,a=UN.getState(r),u=o.content.size;if(a)return i.insert(u,t.create())},state:{init:function(e,r){var o,i=r.doc,a=r.schema,l=a.nodes[u];if(!l)throw new Error("Invalid node being used for trailing node extension: '".concat(u,"'"));return t=l,n=Object.values(a.nodes).map((function(e){return e})).filter((function(e){return!s.includes(e.name)})),Di(n,null==(o=i.lastChild)?void 0:o.type)},apply:function(e,t){var r;return e.docChanged?Di(n,null==(r=e.doc.lastChild)?void 0:r.type):t}}})}var HN=Object.defineProperty,VN=Object.getOwnPropertyDescriptor,KN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"trailingNode"}},{key:"onSetOptions",value:function(e){var t=e.changes;(t.disableTags.changed||t.ignoredNodes.changed||t.nodeName.changed)&&this.store.updateExtensionPlugins(this)}},{key:"createExternalPlugins",value:function(){var e=this.store.tags,t=this.options,n=t.disableTags,r=t.nodeName;return[WN({ignoredNodes:n?d(this.options.ignoredNodes):[].concat(d(this.options.ignoredNodes),d(e.lastNodeCompatible)),nodeName:r})]}}]),n}(lw);KN=function(e,t,n,r){for(var o,i=r>1?void 0:r?VN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&HN(t,n,i),i}([gw({defaultOptions:{ignoredNodes:[],disableTags:!1,nodeName:"paragraph"}})],KN);var qN=Object.defineProperty,GN=Object.getOwnPropertyDescriptor,JN=function(e,t,n,r){for(var o,i=r>1?void 0:r?GN(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&qN(t,n,i),i},YN={icon:"underline",label:function(e){return(0,e.t)(Hb.LABEL)},description:function(e){return(0,e.t)(Hb.DESCRIPTION)}},XN=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"underline"}},{key:"createTags",value:function(){return[ui.FontStyle,ui.FormattingMark]}},{key:"createMarkSpec",value:function(e,t){var n;return h(h({},t),{},{attrs:e.defaults(),parseDOM:[{tag:"u",getAttrs:e.parse},{style:"text-decoration",getAttrs:function(e){return"underline"===e&&{}}}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["u",e.dom(t),0]}})}},{key:"toggleUnderline",value:function(e){return Sw({type:this.type,selection:e})}},{key:"shortcut",value:function(e){return this.toggleUnderline()(e)}}]),n}(cw);JN([kw(YN)],XN.prototype,"toggleUnderline",1),JN([ww({shortcut:di.Underline,command:"toggleUnderline"})],XN.prototype,"shortcut",1),XN=JN([gw({})],XN);var QN=n(335),ZN=n(9354),eR=Object.defineProperty,tR=Object.getOwnPropertyDescriptor,nR=function(e,t,n,r){for(var o,i=r>1?void 0:r?tR(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&eR(t,n,i),i},rR=function(e,t,n){return function(e,t,n){t in e?eR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n};function oR(e,t){return t<=0?0:(e%t+t)%t}var iR,aR,uR=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),rR(x(e),"_updating",!1),rR(x(e),"_query",""),rR(x(e),"_caseSensitive",!0),rR(x(e),"_ranges",[]),rR(x(e),"_activeIndex"),e}return g(n,[{key:"name",get:function(){return"find"}},{key:"find",value:function(e){var t=this,n=e.query,r=e.activeIndex,o=e.caseSensitive;return n?(this.setProps({query:n,activeIndex:r,caseSensitive:o}),function(e){var n=e.tr,r=e.dispatch;return t.updateView(n,r)}):this.stopFind()}},{key:"stopFind",value:function(){var e=this;return function(t){var n=t.tr,r=t.dispatch;return e._query="",e._activeIndex=void 0,e.updateView(n,r)}}},{key:"findAndReplace",value:function(e){var t=this,n=e.query,r=e.caseSensitive,o=e.replacement,i=e.index;return function(e){var a;t.setProps({query:n,caseSensitive:r});var u=e.tr,s=e.dispatch,l=t.gatherFindResults(u.doc),c=l[i=oR(null!=(a=null!=i?i:t._activeIndex)?a:0,l.length)];return!!c&&(!s||(u.insertText(o,c.from,c.to),t.updateView(u,s)))}}},{key:"findAndReplaceAll",value:function(e){var t=this,n=e.query,r=e.caseSensitive,o=e.replacement;return function(e){t.setProps({query:n,caseSensitive:r});for(var i=e.tr,a=t.gatherFindResults(i.doc),u=a.length-1;u>=0;u--){var s=a[u],l=s.from,c=s.to;i.insertText(o,l,c)}return t.stopFind()(e)}}},{key:"findRanges",value:function(e){return this.store.commands.find(e),{activeIndex:this._activeIndex,ranges:this._ranges}}},{key:"createPlugin",value:function(){var e=this;return{state:{init:function(){return bm.empty},apply:function(t,n){if(e._updating||t.docChanged&&e.options.alwaysFind){var r=t.doc;return e._ranges=e.gatherFindResults(r),e.normalizeActiveIndex(),e.scrollToActiveResult(),e.createDecorationSet(r)}return t.docChanged?n.map(t.mapping,t.doc):n}},props:{decorations:function(t){return e.getPluginState(t)}}}}},{key:"setProps",value:function(e){var t=e.query,n=e.activeIndex,r=e.caseSensitive;this._query=QN(t),this._activeIndex=n,this._caseSensitive=null!=r&&r}},{key:"gatherFindResults",value:function(e){if(!this._query)return[];var t=new RegExp(this._query,this._caseSensitive?"gu":"gui"),n=[];return e.descendants((function(e,r){var o;if(!e.isTextblock)return!0;var i,a=r+1,u=qe(ZN(e.textContent,t));try{for(u.s();!(i=u.n()).done;){var s=i.value,l=a+(null!=(o=s.index)?o:0),c=l+s[0].length;n.push({from:l,to:c})}}catch(f){u.e(f)}finally{u.f()}return!1})),n}},{key:"normalizeActiveIndex",value:function(){null!=this._activeIndex&&(this._activeIndex=oR(this._activeIndex,this._ranges.length))}},{key:"createDecorationSet",value:function(e){var t=this,n=this._ranges.map((function(e,n){return mm.inline(e.from,e.to,n===t._activeIndex?t.options.activeDecoration:t.options.decoration)}));return bm.create(e,n)}},{key:"updateView",value:function(e,t){return this._updating=!0,t&&t(e),this._updating=!1,!0}},{key:"scrollToActiveResult",value:function(){var e;if(null!=this._activeIndex){var t=this._ranges[this._activeIndex];if(t){var n=this.store.view,r=n.state.doc.content.size,o=t.from;if(!(o>r)){var i=n.domAtPos(o).node;null==(e=null==i?void 0:i.scrollIntoView)||e.call(i,{block:"nearest",behavior:"smooth"})}}}}}]),n}(lw);if(nR([kw()],uR.prototype,"find",1),nR([kw()],uR.prototype,"stopFind",1),nR([kw()],uR.prototype,"findAndReplace",1),nR([kw()],uR.prototype,"findAndReplaceAll",1),nR([bw()],uR.prototype,"findRanges",1),uR=nR([gw({defaultOptions:{decoration:{style:"background-color: yellow;"},activeDecoration:{style:"background-color: orange;"},alwaysFind:!1}})],uR),"undefined"!=typeof WeakMap){var sR=new WeakMap;iR=function(e){return sR.get(e)},aR=function(e,t){return sR.set(e,t),t}}else{var lR=[],cR=0;iR=function(e){for(var t=0;t<lR.length;t+=2)if(lR[t]==e)return lR[t+1]},aR=function(e,t){return 10==cR&&(cR=0),lR[cR++]=e,lR[cR++]=t}}var fR=function(){function e(t,n,r,o){v(this,e),this.width=t,this.height=n,this.map=r,this.problems=o}return g(e,[{key:"findCell",value:function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,u=1;i<this.width&&this.map[t+u]==n;u++)i++;for(var s=1;a<this.height&&this.map[t+this.width*s]==n;s++)a++;return{left:r,top:o,right:i,bottom:a}}}throw new RangeError("No cell with offset ".concat(e," found"))}},{key:"colCount",value:function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset ".concat(e," found"))}},{key:"nextCell",value:function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,u=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:u==this.height)?null:this.map[o+this.width*(n<0?a-1:u)]}},{key:"rectBetween",value:function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,u=this.findCell(t),s=u.left,l=u.right,c=u.top,f=u.bottom;return{left:Math.min(r,s),top:Math.min(i,c),right:Math.max(o,l),bottom:Math.max(a,f)}}},{key:"cellsInRect",value:function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t}},{key:"positionAt",value:function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==e){for(var a=t+e*this.width,u=(e+1)*this.width;a<u&&this.map[a]<o;)a++;return a==u?i-1:this.map[a]}o=i}}}],[{key:"get",value:function(e){return iR(e)||aR(e,dR(e))}}]),e}();function dR(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var u=e.child(a),s=0;s<u.childCount;s++){var l=u.child(s);a+l.attrs.rowspan>r&&(i+=l.attrs.colspan)}for(var c=0;c<o.childCount;c++){var f=o.child(c);i+=f.attrs.colspan,f.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],u=0,s=t*n;u<s;u++)r[u]=0;for(var l=0,c=0;l<n;l++){var f=e.child(l);c++;for(var d=0;;d++){for(;o<r.length&&0!=r[o];)o++;if(d==f.childCount)break;for(var p=f.child(d),h=p.attrs,v=h.colspan,m=h.rowspan,g=h.colwidth,y=0;y<m;y++){if(y+l>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:c,n:m-y});break}for(var b=o+y*t,k=0;k<v;k++){0==r[b+k]?r[b+k]=c:(i||(i=[])).push({type:"collision",row:l,pos:c,n:v-k});var w=g&&g[k];if(w){var x=(b+k)%t*2,S=a[x];null==S||S!=w&&1==a[x+1]?(a[x]=w,a[x+1]=1):S==w&&a[x+1]++}}}o+=v,c+=p.nodeSize}for(var E=(l+1)*t,C=0;o<E;)0==r[o++]&&C++;C&&(i||(i=[])).push({type:"missing",row:l,n:C}),c++}for(var A=new fR(t,n,r,i),D=!1,O=0;!D&&O<a.length;O+=2)null!=a[O]&&a[O+1]<n&&(D=!0);return D&&function(e,t,n){e.problems||(e.problems=[]);for(var r={},o=0;o<e.map.length;o++){var i=e.map[o];if(!r[i]){r[i]=!0;var a=n.nodeAt(i);if(!a)throw new RangeError("No cell with offset ".concat(i," found"));for(var u=null,s=a.attrs,l=0;l<s.colspan;l++){var c=t[2*((o+l)%e.width)];null==c||s.colwidth&&s.colwidth[l]==c||((u||(u=pR(s)))[l]=c)}u&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:u})}}}(A,a,e),A}function pR(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function hR(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}var vR=new Ep("selectingCells");function mR(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function gR(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function yR(e){var t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;var n=mR(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-o.nodeSize)}}(t.$head);if(n)return n;throw new RangeError("No cell found around position ".concat(t.head))}function bR(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function kR(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function wR(e,t,n){var r=e.node(-1),o=fR.get(r),i=e.start(-1),a=o.nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function xR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=h(h({},e),{},{colspan:e.colspan-n});return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function SR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=h(h({},e),{},{colspan:e.colspan+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}var ER=function(e){b(n,e);var t=E(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;v(this,n);var i=e.node(-1),a=fR.get(i),u=e.start(-1),s=a.rectBetween(e.pos-u,o.pos-u),l=e.node(0),c=a.cellsInRect(s).filter((function(e){return e!=o.pos-u}));c.unshift(o.pos-u);var f=c.map((function(e){var t=i.nodeAt(e);if(!t)throw RangeError("No cell with offset ".concat(e," found"));var n=u+e+1;return new rp(l.resolve(n),l.resolve(n+t.content.size))}));return(r=t.call(this,f[0].$from,f[0].$to,f)).$anchorCell=e,r.$headCell=o,r}return g(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if(bR(r)&&bR(o)&&kR(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?n.rowSelection(r,o):i&&this.isColSelection()?n.colSelection(r,o):new n(r,o)}return ap.between(r,o)}},{key:"content",value:function(){for(var e=this.$anchorCell.node(-1),t=fR.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var u=[],s=a*t.width+r.left,l=r.left;l<r.right;l++,s++){var c=t.map[s];if(!o[c]){o[c]=!0;var f=t.findCell(c),d=e.nodeAt(c);if(!d)throw RangeError("No cell with offset ".concat(c," found"));var p=r.left-f.left,v=f.right-r.right;if(p>0||v>0){var m=d.attrs;if(p>0&&(m=xR(m,0,p)),v>0&&(m=xR(m,m.colspan-v,v)),f.left<r.left){if(!(d=d.type.createAndFill(m)))throw RangeError("Could not create cell with attrs ".concat(JSON.stringify(m)))}else d=d.type.create(m,d.content)}if(f.top<r.top||f.bottom>r.bottom){var g=h(h({},d.attrs),{},{rowspan:Math.min(f.bottom,r.bottom)-Math.max(f.top,r.top)});d=f.top<r.top?d.type.createAndFill(g):d.type.create(g,d.content)}u.push(d)}}i.push(e.child(a).copy(af.from(u)))}var y=this.isColSelection()&&this.isRowSelection()?e:i;return new df(af.from(y),1,1)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df.empty,n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,u=i.$to,s=e.mapping.slice(n);e.replace(s.map(a.pos),s.map(u.pos),o?df.empty:t)}var l=np.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);l&&e.setSelection(l)}},{key:"replaceWith",value:function(e,t){this.replace(e,new df(af.from(t),0,0))}},{key:"forEachCell",value:function(e){for(var t=this.$anchorCell.node(-1),n=fR.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])}},{key:"isColSelection",value:function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}},{key:"isRowSelection",value:function(){var e=this.$anchorCell.node(-1),t=fR.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);if(Math.min(r,o)>0)return!1;var i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==t.width}},{key:"eq",value:function(e){return e instanceof n&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}},{key:"toJSON",value:function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}},{key:"getBookmark",value:function(){return new CR(this.$anchorCell.pos,this.$headCell.pos)}}],[{key:"colSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=e.node(-1),o=fR.get(r),i=e.start(-1),a=o.findCell(e.pos-i),u=o.findCell(t.pos-i),s=e.node(0);return a.top<=u.top?(a.top>0&&(e=s.resolve(i+o.map[a.left])),u.bottom<o.height&&(t=s.resolve(i+o.map[o.width*(o.height-1)+u.right-1]))):(u.top>0&&(t=s.resolve(i+o.map[u.left])),a.bottom<o.height&&(e=s.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new n(e,t)}},{key:"rowSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=e.node(-1),o=fR.get(r),i=e.start(-1),a=o.findCell(e.pos-i),u=o.findCell(t.pos-i),s=e.node(0);return a.left<=u.left?(a.left>0&&(e=s.resolve(i+o.map[a.top*o.width])),u.right<o.width&&(t=s.resolve(i+o.map[o.width*(u.top+1)-1]))):(u.left>0&&(t=s.resolve(i+o.map[u.top*o.width])),a.right<o.width&&(e=s.resolve(i+o.map[o.width*(a.top+1)-1]))),new n(e,t)}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new n(e.resolve(t),e.resolve(r))}}]),n}(np);ER.prototype.visible=!1,np.jsonID("cell",ER);var CR=function(){function e(t,n){v(this,e),this.anchor=t,this.head=n}return g(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&kR(t,n)?new ER(t,n):np.near(n,1)}}]),e}();function AR(e){if(!(e.selection instanceof ER))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(mm.node(n,n+e.nodeSize,{class:"selectedCell"}))})),bm.create(e.doc,t)}function DR(e,t,n){var r,o,i=(t||e).selection,a=(t||e).doc;if(i instanceof sp&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=ER.create(a,i.from);else if("row"==o){var u=a.resolve(i.from+1);r=ER.rowSelection(u,u)}else if(!n){var s=fR.get(i.node),l=i.from+1,c=l+s.map[s.width*s.height-1];r=ER.create(a,l+1,c)}}else i instanceof ap&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(i)?r=ap.create(a,i.from):i instanceof ap&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var u=o.depth;u>0;u--){var s=o.node(u);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){n=s;break}}return t!==n&&0===o.parentOffset}(i)&&(r=ap.create(a,i.$from.start(),i.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}var OR=new Ep("fix-tables");function _R(e,t,n,r){var o=e.childCount,i=t.childCount;e:for(var a=0,u=0;a<i;a++){for(var s=t.child(a),l=u,c=Math.min(o,a+3);l<c;l++)if(e.child(l)==s){u=l+1,n+=s.nodeSize;continue e}r(s,n),u<o&&e.child(u).sameMarkup(s)?_R(e.child(u),s,n+1,r):s.nodesBetween(0,s.content.size,r,n+1),n+=s.nodeSize}}function TR(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){var o=fR.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,a,u=[],s=0;s<o.height;s++)u.push(0);for(var l=0;l<o.problems.length;l++){var c=o.problems[l];if("collision"==c.type){var f=t.nodeAt(c.pos);if(!f)continue;for(var d=f.attrs,p=0;p<d.rowspan;p++)u[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,xR(d,d.colspan-c.n,c.n))}else if("missing"==c.type)u[c.row]+=c.n;else if("overlong_rowspan"==c.type){var v=t.nodeAt(c.pos);if(!v)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,h(h({},v.attrs),{},{rowspan:v.attrs.rowspan-c.n}))}else if("colwidth mismatch"==c.type){var m=t.nodeAt(c.pos);if(!m)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,h(h({},m.attrs),{},{colwidth:c.colwidth}))}}for(var g=0;g<u.length;g++)u[g]&&(null==i&&(i=g),a=g);for(var y=0,b=n+1;y<o.height;y++){var k=t.child(y),w=b+k.nodeSize,x=u[y];if(x>0){var S="cell";k.firstChild&&(S=k.firstChild.type.spec.tableRole);for(var E=[],C=0;C<x;C++){var A=hR(e.schema)[S].createAndFill();A&&E.push(A)}var D=0!=y&&i!=y-1||a!=y?w-1:b+1;r.insert(r.mapping.map(D),E)}b=w}return r.setMeta(OR,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&_R(t.doc,e.doc,0,r):e.doc.descendants(r),n}function MR(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(n>0&&r>0||"table"==t.child(0).type.spec.tableRole);)n--,r--,t=t.child(0).content;var o=t.child(0),i=o.type.spec.tableRole,a=o.type.schema,u=[];if("row"==i)for(var s=0;s<t.childCount;s++){var l=t.child(s).content,c=s?0:Math.max(0,n-1),f=s<t.childCount-1?0:Math.max(0,r-1);(c||f)&&(l=NR(hR(a).row,new df(l,c,f)).content),u.push(l)}else{if("cell"!=i&&"header_cell"!=i)return null;u.push(n||r?NR(hR(a).row,new df(t,n,r)).content:t)}return function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],i=o.childCount-1;i>=0;i--)for(var a=o.child(i).attrs,u=a.rowspan,s=a.colspan,l=r;l<r+u;l++)n[l]=(n[l]||0)+s;for(var c=0,f=0;f<n.length;f++)c=Math.max(c,n[f]);for(var d=0;d<n.length;d++)if(d>=t.length&&t.push(af.empty),n[d]<c){for(var p=hR(e).cell.createAndFill(),h=[],v=n[d];v<c;v++)h.push(p);t[d]=t[d].append(af.from(h))}return{height:t.length,width:c,rows:t}}(a,u)}function NR(e,t){var n=e.createAndFill();return new ep(n).replace(0,n.content.size,t).doc}function RR(e,t,n,r,o,i,a,u){if(0==a||a==t.height)return!1;for(var s=!1,l=o;l<i;l++){var c=a*t.width+l,f=t.map[c];if(t.map[c-t.width]==f){s=!0;var d=n.nodeAt(f),p=t.findCell(f),v=p.top,m=p.left;e.setNodeMarkup(e.mapping.slice(u).map(f+r),null,h(h({},d.attrs),{},{rowspan:a-v})),e.insert(e.mapping.slice(u).map(t.positionAt(a,m,n)),d.type.createAndFill(h(h({},d.attrs),{},{rowspan:v+d.attrs.rowspan-a}))),l+=d.attrs.colspan-1}}return s}function PR(e,t,n,r,o,i,a,u){if(0==a||a==t.width)return!1;for(var s=!1,l=o;l<i;l++){var c=l*t.width+a,f=t.map[c];if(t.map[c-1]==f){s=!0;var d=n.nodeAt(f),p=t.colCount(f),h=e.mapping.slice(u).map(f+r);e.setNodeMarkup(h,null,xR(d.attrs,a-p,d.attrs.colspan-(a-p))),e.insert(h+d.nodeSize,d.type.createAndFill(xR(d.attrs,0,a-p))),l+=d.attrs.rowspan-1}}return s}function IR(e,t,n,r,o){var i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");var a=fR.get(i),u=r.top,s=r.left,l=s+o.width,c=u+o.height,f=e.tr,d=0;function p(){if(!(i=n?f.doc.nodeAt(n-1):f.doc))throw new Error("No table found");a=fR.get(i),d=f.mapping.maps.length}(function(e,t,n,r,o,i,a){var u,s,l=hR(e.doc.type.schema);if(o>t.width)for(var c=0,f=0;c<t.height;c++){var d=n.child(c);f+=d.nodeSize;var p=[],h=void 0;h=null==d.lastChild||d.lastChild.type==l.cell?u||(u=l.cell.createAndFill()):s||(s=l.header_cell.createAndFill());for(var v=t.width;v<o;v++)p.push(h);e.insert(e.mapping.slice(a).map(f-1+r),p)}if(i>t.height){for(var m=[],g=0,y=(t.height-1)*t.width;g<Math.max(t.width,o);g++){var b=!(g>=t.width)&&n.nodeAt(t.map[y+g]).type==l.header_cell;m.push(b?s||(s=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}for(var k=l.row.create(null,af.from(m)),w=[],x=t.height;x<i;x++)w.push(k);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),w)}return!(!u&&!s)})(f,a,i,n,l,c,d)&&p(),RR(f,a,i,n,s,l,u,d)&&p(),RR(f,a,i,n,s,l,c,d)&&p(),PR(f,a,i,n,u,c,s,d)&&p(),PR(f,a,i,n,u,c,l,d)&&p();for(var h=u;h<c;h++){var v=a.positionAt(h,s,i),m=a.positionAt(h,l,i);f.replace(f.mapping.slice(d).map(v+n),f.mapping.slice(d).map(m+n),new df(o.rows[h-u],0,0))}p(),f.setSelection(new ER(f.doc.resolve(n+a.positionAt(u,s,i)),f.doc.resolve(n+a.positionAt(c-1,l-1,i)))),t(f)}var FR=Ok({ArrowLeft:BR("horiz",-1),ArrowRight:BR("horiz",1),ArrowUp:BR("vert",-1),ArrowDown:BR("vert",1),"Shift-ArrowLeft":jR("horiz",-1),"Shift-ArrowRight":jR("horiz",1),"Shift-ArrowUp":jR("vert",-1),"Shift-ArrowDown":jR("vert",1),Backspace:zR,"Mod-Backspace":zR,Delete:zR,"Mod-Delete":zR});function LR(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function BR(e,t){return function(n,r,o){if(!o)return!1;var i=n.selection;if(i instanceof ER)return LR(n,r,np.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;var a=HR(o,e,t);if(null==a)return!1;if("horiz"==e)return LR(n,r,np.near(n.doc.resolve(i.head+t),t));var u,s=n.doc.resolve(a),l=wR(s,e,t);return u=l?np.near(l,1):t<0?np.near(n.doc.resolve(s.before(-1)),-1):np.near(n.doc.resolve(s.after(-1)),1),LR(n,r,u)}}function jR(e,t){return function(n,r,o){if(!o)return!1;var i,a=n.selection;if(a instanceof ER)i=a;else{var u=HR(o,e,t);if(null==u)return!1;i=new ER(n.doc.resolve(u))}var s=wR(i.$headCell,e,t);return!!s&&LR(n,r,new ER(i.$anchorCell,s))}}function zR(e,t){var n=e.selection;if(!(n instanceof ER))return!1;if(t){var r=e.tr,o=hR(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new df(o,0,0))})),r.docChanged&&t(r)}return!0}function $R(e,t){var n=mR(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new ER(n))),!0)}function UR(e,t,n){if(!gR(e.state))return!1;var r=MR(n),o=e.state.selection;if(o instanceof ER){r||(r={width:1,height:1,rows:[af.from(NR(hR(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),u=fR.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=function(e,t,n){var r=e.width,o=e.height,i=e.rows;if(r!=t){for(var a=[],u=[],s=0;s<i.length;s++){for(var l=i[s],c=[],f=a[s]||0,d=0;f<t;d++){var p=l.child(d%l.childCount);f+p.attrs.colspan>t&&(p=p.type.createChecked(xR(p.attrs,p.attrs.colspan,f+p.attrs.colspan-t),p.content)),c.push(p),f+=p.attrs.colspan;for(var v=1;v<p.attrs.rowspan;v++)a[s+v]=(a[s+v]||0)+p.attrs.colspan}u.push(af.from(c))}i=u,r=t}if(o!=n){for(var m=[],g=0,y=0;g<n;g++,y++){for(var b=[],k=i[y%o],w=0;w<k.childCount;w++){var x=k.child(w);g+x.attrs.rowspan>n&&(x=x.type.create(h(h({},x.attrs),{},{rowspan:Math.max(1,n-x.attrs.rowspan)}),x.content)),b.push(x)}m.push(af.from(b))}i=m,o=n}return{width:r,height:o,rows:i}}(r,u.right-u.left,u.bottom-u.top),IR(e.state,e.dispatch,a,u,r),!0}if(r){var s=yR(e.state),l=s.start(-1);return IR(e.state,e.dispatch,l,fR.get(s.node(-1)).findCell(s.pos-l),r),!0}return!1}function WR(e,t){var n;if(!t.ctrlKey&&!t.metaKey){var r,o=VR(e,t.target);if(t.shiftKey&&e.state.selection instanceof ER)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&o&&null!=(r=mR(e.state.selection.$anchor))&&(null==(n=KR(e,t))?void 0:n.pos)!=r.pos)i(r,t),t.preventDefault();else if(!o)return;e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",u)}function i(t,n){var r=KR(e,n),o=null==vR.getState(e.state);if(!r||!kR(t,r)){if(!o)return;r=t}var i=new ER(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(vR,t.pos),e.dispatch(a)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",u),null!=vR.getState(e.state)&&e.dispatch(e.state.tr.setMeta(vR,-1))}function u(n){var r,u=n,s=vR.getState(e.state);if(null!=s)r=e.state.doc.resolve(s);else if(VR(e,u.target)!=o&&!(r=KR(e,t)))return a();r&&i(r,u)}}function HR(e,t,n){if(!(e.state.selection instanceof ap))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){var a=r.before(o),u="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(u)?a:null}}return null}function VR(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t;return null}function KR(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?mR(e.state.doc.resolve(n.pos)):null}var qR=function(){function e(t,n){v(this,e),this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),GR(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}return g(e,[{key:"update",value:function(e){return e.type==this.node.type&&(this.node=e,GR(e,this.colgroup,this.table,this.cellMinWidth),!0)}},{key:"ignoreMutation",value:function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}}]),e}();function GR(e,t,n,r,o,i){var a,u=0,s=!0,l=t.firstChild,c=e.firstChild;if(c){for(var f=0,d=0;f<c.childCount;f++)for(var p=c.child(f).attrs,h=p.colspan,v=p.colwidth,m=0;m<h;m++,d++){var g=o==d?i:v&&v[m],y=g?g+"px":"";u+=g||r,g||(s=!1),l?(l.style.width!=y&&(l.style.width=y),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=y}for(;l;){var b=l.nextSibling;null==(a=l.parentNode)||a.removeChild(l),l=b}s?(n.style.width=u+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=u+"px")}}var JR=new Ep("tableColumnResizing");var YR=function(){function e(t,n){v(this,e),this.activeHandle=t,this.dragging=n}return g(e,[{key:"apply",value:function(t){var n=this,r=t.getMeta(JR);if(r&&null!=r.setHandle)return new e(r.setHandle,!1);if(r&&void 0!==r.setDragging)return new e(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){var o=t.mapping.map(n.activeHandle,-1);return bR(t.doc.resolve(o))||(o=-1),new e(o,n.dragging)}return n}}]),e}();function XR(e,t,n,r,o){var i=JR.getState(e.state);if(i&&!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),u=-1;if(a){var s=a.getBoundingClientRect(),l=s.left,c=s.right;t.clientX-l<=n?u=eP(e,t,"left"):c-t.clientX<=n&&(u=eP(e,t,"right"))}if(u!=i.activeHandle){if(!o&&-1!==u){var f=e.state.doc.resolve(u),d=f.node(-1),p=fR.get(d),h=f.start(-1);if(p.colCount(f.pos-h)+f.nodeAfter.attrs.colspan-1==p.width-1)return}nP(e,u)}}}function QR(e){var t=JR.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&nP(e,-1)}function ZR(e,t,n){var r=JR.getState(e.state);if(!r||-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),u=a.node.childNodes[a.offset],s=u.offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(s-=o[c],l--);return s/l}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",u);var r=JR.getState(e.state);(null==r?void 0:r.dragging)&&(!function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=fR.get(o),a=r.start(-1),u=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,s=e.state.tr,l=0;l<i.height;l++){var c=l*i.width+u;if(!l||i.map[c]!=i.map[c-i.width]){var f=i.map[c],d=o.nodeAt(f).attrs,p=1==d.colspan?0:u-i.colCount(f);if(!d.colwidth||d.colwidth[p]!=n){var v=d.colwidth?d.colwidth.slice():rP(d.colspan);v[p]=n,s.setNodeMarkup(a+f,null,h(h({},d),{},{colwidth:v}))}}}s.docChanged&&e.dispatch(s)}(e,r.activeHandle,tP(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(JR,{setDragging:null})))}function u(t){if(!t.which)return a(t);var r=JR.getState(e.state);if(r&&r.dragging){var o=tP(r.dragging,t,n);!function(e,t,n,r){var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),u=fR.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,s=e.domAtPos(o.start(-1)).node;for(;s&&"TABLE"!=s.nodeName;)s=s.parentNode;if(!s)return;GR(i,s.firstChild,s,r,u,n)}(e,r.activeHandle,o,n)}}return e.dispatch(e.state.tr.setMeta(JR,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",u),t.preventDefault(),!0}function eP(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var o=r.pos,i=mR(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=fR.get(i.node(-1)),u=i.start(-1),s=a.map.indexOf(i.pos-u);return s%a.width==0?-1:u+a.map[s-1]}function tP(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function nP(e,t){e.dispatch(e.state.tr.setMeta(JR,{setHandle:t}))}function rP(e){return Array(e).fill(0)}function oP(e,t){var n=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return bm.empty;for(var i=fR.get(o),a=r.start(-1),u=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,s=0;s<i.height;s++){var l=u+s*i.width-1;if((u==i.width||i.map[l]!=i.map[l+1])&&(0==s||i.map[l-1]!=i.map[l-1-i.width])){var c=i.map[l],f=a+c+o.nodeAt(c).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(mm.widget(f,d))}}return bm.create(e.doc,n)}function iP(e){var t=e.selection,n=yR(e),r=n.node(-1),o=n.start(-1),i=fR.get(r);return h(h({},t instanceof ER?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o)),{},{tableStart:o,map:i,table:r})}function aP(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;(function(e,t,n){for(var r=hR(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0})(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var u=0;u<r.height;u++){var s=u*r.width+n;if(n>0&&n<r.width&&r.map[s-1]==r.map[s]){var l=r.map[s],c=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(o+l),null,SR(c.attrs,n-r.colCount(l))),u+=c.attrs.rowspan-1}else{var f=null==a?hR(i.type.schema).cell:i.nodeAt(r.map[s+a]).type,d=r.positionAt(u,n,i);e.insert(e.mapping.map(o+d),f.createAndFill())}}return e}function uP(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(aP(e.tr,n,n.left))}return!0}function sP(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(aP(e.tr,n,n.right))}return!0}function lP(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,u=0;u<r.height;){var s=u*r.width+n,l=r.map[s],c=o.nodeAt(l),f=c.attrs;if(n>0&&r.map[s-1]==l||n<r.width-1&&r.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(a).map(i+l),null,xR(f,n-r.colCount(l)));else{var d=e.mapping.slice(a).map(i+l);e.delete(d,d+c.nodeSize)}u+=f.rowspan}}function cP(e,t){if(!gR(e))return!1;if(t){var n=iP(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;lP(r,n,o),o!=n.left;o--){var i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=fR.get(i)}t(r)}return!0}function fP(e,t,n){for(var r,o=t.map,i=t.tableStart,a=t.table,u=i,s=0;s<n;s++)u+=a.child(s).nodeSize;var l=[],c=n>0?-1:0;(function(e,t,n){for(var r,o=hR(t.type.schema).header_cell,i=0;i<e.width;i++)if((null==(r=t.nodeAt(e.map[i+n*e.width]))?void 0:r.type)!=o)return!1;return!0})(o,a,n+c)&&(c=0==n||n==o.height?null:0);for(var f=0,d=o.width*n;f<o.width;f++,d++)if(n>0&&n<o.height&&o.map[d]==o.map[d-o.width]){var p=o.map[d],v=a.nodeAt(p).attrs;e.setNodeMarkup(i+p,null,h(h({},v),{},{rowspan:v.rowspan+1})),f+=v.colspan-1}else{var m=null==c?hR(a.type.schema).cell:null==(r=a.nodeAt(o.map[d+c*o.width]))?void 0:r.type,g=null==m?void 0:m.createAndFill();g&&l.push(g)}return e.insert(u,hR(a.type.schema).row.create(null,l)),e}function dP(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(fP(e.tr,n,n.top))}return!0}function pP(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(fP(e.tr,n,n.bottom))}return!0}function hP(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,u=0;u<n;u++)a+=o.child(u).nodeSize;var s=a+o.child(n).nodeSize,l=e.mapping.maps.length;e.delete(a+i,s+i);for(var c=0,f=n*r.width;c<r.width;c++,f++){var d=r.map[f];if(n>0&&d==r.map[f-r.width]){var p=o.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(l).map(d+i),null,h(h({},p),{},{rowspan:p.rowspan-1})),c+=p.colspan-1}else if(n<r.width&&d==r.map[f+r.width]){var v=o.nodeAt(d),m=v.attrs,g=v.type.create(h(h({},m),{},{rowspan:v.attrs.rowspan-1}),v.content),y=r.positionAt(n+1,c,o);e.insert(e.mapping.slice(l).map(i+y),g),c+=m.colspan-1}}}function vP(e,t){if(!gR(e))return!1;if(t){var n=iP(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;hP(r,n,o),o!=n.top;o--){var i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=fR.get(n.table)}t(r)}return!0}function mP(e){var t=e.content;return 1==t.childCount&&t.child(0).isTextblock&&0==t.child(0).childCount}function gP(e,t){var n=e.selection;if(!(n instanceof ER)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=iP(e),o=r.map;if(function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,u=(t.bottom-1)*n+t.left,s=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&o[a]==o[a-1]||t.right<n&&o[s]==o[s+1])return!0;a+=n,s+=n}for(var c=t.left;c<t.right;c++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[u]==o[u+n])return!0;i++,u++}return!1}(o,r))return!1;if(t){for(var i,a,u=e.tr,s={},l=af.empty,c=r.top;c<r.bottom;c++)for(var f=r.left;f<r.right;f++){var d=o.map[c*o.width+f],p=r.table.nodeAt(d);if(!s[d]&&p)if(s[d]=!0,null==i)i=d,a=p;else{mP(p)||(l=l.append(p.content));var v=u.mapping.map(d+r.tableStart);u.delete(v,v+p.nodeSize)}}if(null==i||null==a)return!0;if(u.setNodeMarkup(i+r.tableStart,null,h(h({},SR(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan)),{},{rowspan:r.bottom-r.top})),l.size){var m=i+1+a.content.size,g=mP(a)?i+1:m;u.replaceWith(g+r.tableStart,m+r.tableStart,l)}u.setSelection(new ER(u.doc.resolve(i+r.tableStart))),t(u)}return!0}function yP(e,t){var n,r=hR(e.schema);return(n=function(e){var t=e.node;return r[t.type.spec.tableRole]},function(e,t){var r,o,i,a=e.selection;if(a instanceof ER){if(a.$anchorCell.pos!=a.$headCell.pos)return!1;o=a.$anchorCell.nodeAfter,i=a.$anchorCell.pos}else{if(o=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(a.$from),!o)return!1;i=null==(r=mR(a.$from))?void 0:r.pos}if(null==o||null==i)return!1;if(1==o.attrs.colspan&&1==o.attrs.rowspan)return!1;if(t){var u=o.attrs,s=[],l=u.colwidth;u.rowspan>1&&(u=h(h({},u),{},{rowspan:1})),u.colspan>1&&(u=h(h({},u),{},{colspan:1}));for(var c,f=iP(e),d=e.tr,p=0;p<f.right-f.left;p++)s.push(l?h(h({},u),{},{colwidth:l&&l[p]?[l[p]]:null}):u);for(var v=f.top;v<f.bottom;v++){var m=f.map.positionAt(v,f.left,f.table);v==f.top&&(m+=o.nodeSize);for(var g=f.left,y=0;g<f.right;g++,y++)g==f.left&&v==f.top||d.insert(c=d.mapping.map(m+f.tableStart,1),n({node:o,row:v,col:g}).createAndFill(s[y]))}d.setNodeMarkup(i,n({node:o,row:f.top,col:f.left}),s[0]),a instanceof ER&&d.setSelection(new ER(d.doc.resolve(a.$anchorCell.pos),c?d.doc.resolve(c):void 0)),t(d)}return!0})(e,t)}function bP(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function kP(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!gR(t))return!1;if(n){for(var r=hR(t.schema),o=iP(t),i=t.tr,a=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),u=a.map((function(e){return o.table.nodeAt(e)})),s=0;s<a.length;s++)u[s].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[s],r.cell,u[s].attrs);if(0==i.steps.length)for(var l=0;l<a.length;l++)i.setNodeMarkup(o.tableStart+a[l],r.header_cell,u[l].attrs);n(i)}return!0}}(e):function(t,n){if(!gR(t))return!1;if(n){var r=hR(t.schema),o=iP(t),i=t.tr,a=bP("row",o,r),u=bP("column",o,r),s=("column"===e?a:"row"===e&&u)?1:0,l="column"==e?{left:0,top:s,right:1,bottom:o.map.height}:"row"==e?{left:s,top:0,right:o.map.width,bottom:1}:o,c="column"==e?u?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(l).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,c,n.attrs)})),n(i)}return!0}}var wP=kP("row",{useDeprecatedLogic:!0}),xP=kP("column",{useDeprecatedLogic:!0}),SP=kP("cell",{useDeprecatedLogic:!0});function EP(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}function CP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowTableNodeSelection,n=void 0!==t&&t;return new wp({key:vR,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(vR);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:AR,handleDOMEvents:{mousedown:WR},createSelectionBetween:function(e){return null!=vR.getState(e.state)?e.state.selection:null},handleTripleClick:$R,handleKeyDown:FR,handlePaste:UR},appendTransaction:function(e,t,r){return DR(r,TR(r,t),n)}})}function AP(e){return"object"===typeof e&&e instanceof ER}var DP=[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"}}],OP=n(2168);var _P=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Xe){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),TP=Math.abs,MP=String.fromCharCode,NP=Object.assign;function RP(e){return e.trim()}function PP(e,t,n){return e.replace(t,n)}function IP(e,t){return e.indexOf(t)}function FP(e,t){return 0|e.charCodeAt(t)}function LP(e,t,n){return e.slice(t,n)}function BP(e){return e.length}function jP(e){return e.length}function zP(e,t){return t.push(e),e}var $P=1,UP=1,WP=0,HP=0,VP=0,KP="";function qP(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:$P,column:UP,length:a,return:""}}function GP(e,t){return NP(qP("",null,null,"",null,null,0),e,{length:-e.length},t)}function JP(){return VP=HP>0?FP(KP,--HP):0,UP--,10===VP&&(UP=1,$P--),VP}function YP(){return VP=HP<WP?FP(KP,HP++):0,UP++,10===VP&&(UP=1,$P++),VP}function XP(){return FP(KP,HP)}function QP(){return HP}function ZP(e,t){return LP(KP,e,t)}function eI(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tI(e){return $P=UP=1,WP=BP(KP=e),HP=0,[]}function nI(e){return KP="",e}function rI(e){return RP(ZP(HP-1,aI(91===e?e+2:40===e?e+1:e)))}function oI(e){for(;(VP=XP())&&VP<33;)YP();return eI(e)>2||eI(VP)>3?"":" "}function iI(e,t){for(;--t&&YP()&&!(VP<48||VP>102||VP>57&&VP<65||VP>70&&VP<97););return ZP(e,QP()+(t<6&&32==XP()&&32==YP()))}function aI(e){for(;YP();)switch(VP){case e:return HP;case 34:case 39:34!==e&&39!==e&&aI(VP);break;case 40:41===e&&aI(e);break;case 92:YP()}return HP}function uI(e,t){for(;YP()&&e+VP!==57&&(e+VP!==84||47!==XP()););return"/*"+ZP(t,HP-1)+"*"+MP(47===e?e:YP())}function sI(e){for(;!eI(XP());)YP();return ZP(e,HP)}var lI="-ms-",cI="-moz-",fI="-webkit-",dI="comm",pI="rule",hI="decl",vI="@keyframes";function mI(e,t){for(var n="",r=jP(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function gI(e,t,n,r){switch(e.type){case"@import":case hI:return e.return=e.return||e.value;case dI:return"";case vI:return e.return=e.value+"{"+mI(e.children,r)+"}";case pI:e.value=e.props.join(",")}return BP(n=mI(e.children,r))?e.return=e.value+"{"+n+"}":""}function yI(e){return nI(bI("",null,null,null,[""],e=tI(e),0,[0],e))}function bI(e,t,n,r,o,i,a,u,s){for(var l=0,c=0,f=a,d=0,p=0,h=0,v=1,m=1,g=1,y=0,b="",k=o,w=i,x=r,S=b;m;)switch(h=y,y=YP()){case 40:if(108!=h&&58==FP(S,f-1)){-1!=IP(S+=PP(rI(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=rI(y);break;case 9:case 10:case 13:case 32:S+=oI(h);break;case 92:S+=iI(QP()-1,7);continue;case 47:switch(XP()){case 42:case 47:zP(wI(uI(YP(),QP()),t,n),s);break;default:S+="/"}break;case 123*v:u[l++]=BP(S)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:p>0&&BP(S)-f&&zP(p>32?xI(S+";",r,n,f-1):xI(PP(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(zP(x=kI(S,t,n,l,c,o,u,b,k=[],w=[],f),i),123===y)if(0===c)bI(S,t,x,x,k,i,f,u,w);else switch(99===d&&110===FP(S,3)?100:d){case 100:case 109:case 115:bI(e,x,x,r&&zP(kI(e,x,x,0,0,o,u,b,o,k=[],f),w),o,w,f,u,r?k:w);break;default:bI(S,x,x,x,[""],w,0,u,w)}}l=c=p=0,v=g=1,b=S="",f=a;break;case 58:f=1+BP(S),p=h;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==JP())continue;switch(S+=MP(y),y*v){case 38:g=c>0?1:(S+="\f",-1);break;case 44:u[l++]=(BP(S)-1)*g,g=1;break;case 64:45===XP()&&(S+=rI(YP())),d=XP(),c=f=BP(b=S+=sI(QP())),y++;break;case 45:45===h&&2==BP(S)&&(v=0)}}return i}function kI(e,t,n,r,o,i,a,u,s,l,c){for(var f=o-1,d=0===o?i:[""],p=jP(d),h=0,v=0,m=0;h<r;++h)for(var g=0,y=LP(e,f+1,f=TP(v=a[h])),b=e;g<p;++g)(b=RP(v>0?d[g]+" "+y:PP(y,/&\f/g,d[g])))&&(s[m++]=b);return qP(e,t,n,0===o?pI:u,s,l,c)}function wI(e,t,n){return qP(e,t,n,dI,MP(VP),LP(e,2,-2),0)}function xI(e,t,n,r){return qP(e,t,n,hI,LP(e,0,r),LP(e,r+1,-1),r)}var SI=function(e,t,n){for(var r=0,o=0;r=o,o=XP(),38===r&&12===o&&(t[n]=1),!eI(o);)YP();return ZP(e,HP)},EI=function(e,t){return nI(function(e,t){var n=-1,r=44;do{switch(eI(r)){case 0:38===r&&12===XP()&&(t[n]=1),e[n]+=SI(HP-1,t,n);break;case 2:e[n]+=rI(r);break;case 4:if(44===r){e[++n]=58===XP()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=MP(r)}}while(r=YP());return e}(tI(e),t))},CI=new WeakMap,AI=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||CI.get(n))&&!r){CI.set(e,!0);for(var o=[],i=EI(t,o),a=n.props,u=0,s=0;u<i.length;u++)for(var l=0;l<a.length;l++,s++)e.props[s]=o[u]?i[u].replace(/&\f/g,a[l]):a[l]+" "+i[u]}}},DI=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function OI(e,t){switch(function(e,t){return 45^FP(e,0)?(((t<<2^FP(e,0))<<2^FP(e,1))<<2^FP(e,2))<<2^FP(e,3):0}(e,t)){case 5103:return fI+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fI+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fI+e+cI+e+lI+e+e;case 6828:case 4268:return fI+e+lI+e+e;case 6165:return fI+e+lI+"flex-"+e+e;case 5187:return fI+e+PP(e,/(\w+).+(:[^]+)/,fI+"box-$1$2"+lI+"flex-$1$2")+e;case 5443:return fI+e+lI+"flex-item-"+PP(e,/flex-|-self/,"")+e;case 4675:return fI+e+lI+"flex-line-pack"+PP(e,/align-content|flex-|-self/,"")+e;case 5548:return fI+e+lI+PP(e,"shrink","negative")+e;case 5292:return fI+e+lI+PP(e,"basis","preferred-size")+e;case 6060:return fI+"box-"+PP(e,"-grow","")+fI+e+lI+PP(e,"grow","positive")+e;case 4554:return fI+PP(e,/([^-])(transform)/g,"$1"+fI+"$2")+e;case 6187:return PP(PP(PP(e,/(zoom-|grab)/,fI+"$1"),/(image-set)/,fI+"$1"),e,"")+e;case 5495:case 3959:return PP(e,/(image-set\([^]*)/,fI+"$1$`$1");case 4968:return PP(PP(e,/(.+:)(flex-)?(.*)/,fI+"box-pack:$3"+lI+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fI+e+e;case 4095:case 3583:case 4068:case 2532:return PP(e,/(.+)-inline(.+)/,fI+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(BP(e)-1-t>6)switch(FP(e,t+1)){case 109:if(45!==FP(e,t+4))break;case 102:return PP(e,/(.+:)(.+)-([^]+)/,"$1"+fI+"$2-$3$1"+cI+(108==FP(e,t+3)?"$3":"$2-$3"))+e;case 115:return~IP(e,"stretch")?OI(PP(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==FP(e,t+1))break;case 6444:switch(FP(e,BP(e)-3-(~IP(e,"!important")&&10))){case 107:return PP(e,":",":"+fI)+e;case 101:return PP(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fI+(45===FP(e,14)?"inline-":"")+"box$3$1"+fI+"$2$3$1"+lI+"$2box$3")+e}break;case 5936:switch(FP(e,t+11)){case 114:return fI+e+lI+PP(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fI+e+lI+PP(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fI+e+lI+PP(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return fI+e+lI+e+e}return e}var _I=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case hI:e.return=OI(e.value,e.length);break;case vI:return mI([GP(e,{value:PP(e.value,"@","@"+fI)})],r);case pI:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mI([GP(e,{props:[PP(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return mI([GP(e,{props:[PP(t,/:(plac\w+)/,":"+fI+"input-$1")]}),GP(e,{props:[PP(t,/:(plac\w+)/,":-moz-$1")]}),GP(e,{props:[PP(t,/:(plac\w+)/,lI+"input-$1")]})],r)}return""}))}}],TI=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||_I;var o,i,a={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;u.push(e)}));var s,l,c=[gI,(l=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],f=function(e){var t=jP(e);return function(n,r,o,i){for(var a="",u=0;u<t;u++)a+=e[u](n,r,o,i)||"";return a}}([AI,DI].concat(r,c));i=function(e,t,n,r){s=n,mI(yI(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new _P({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return d.sheet.hydrate(u),d};var MI=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},NI={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var RI=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},PI=/[A-Z]|^ms/g,II=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FI=function(e){return 45===e.charCodeAt(1)},LI=function(e){return null!=e&&"boolean"!==typeof e},BI=RI((function(e){return FI(e)?e:e.replace(PI,"-$&").toLowerCase()})),jI=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(II,(function(e,t,n){return $I={name:t,styles:n,next:$I},t}))}return 1===NI[e]||FI(e)||"number"!==typeof t||0===t?t:t+"px"};function zI(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return $I={name:n.name,styles:n.styles,next:$I},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)$I={name:r.name,styles:r.styles,next:$I},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=zI(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":LI(a)&&(r+=BI(i)+":"+jI(i,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var u=zI(e,t,a);switch(i){case"animation":case"animationName":r+=BI(i)+":"+u+";";break;default:r+=i+"{"+u+"}"}}else for(var s=0;s<a.length;s++)LI(a[s])&&(r+=BI(i)+":"+jI(i,a[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=$I,i=n(e);return $I=o,zI(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var $I,UI=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var WI=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";$I=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=zI(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=zI(n,t,e[a]),r&&(o+=i[a]);UI.lastIndex=0;for(var u,s="";null!==(u=UI.exec(o));)s+="-"+u[1];return{name:MI(o)+s,styles:o,next:$I}};function HI(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var VI=function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}};function KI(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function qI(e,t,n){var r=[],o=HI(e,r,n);return r.length<2?n:o+t(r)}var GI=function e(t){for(var n="",r=0;r<t.length;r++){var o=t[r];if(null!=o){var i=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))i=e(o);else for(var a in i="",o)o[a]&&a&&(i&&(i+=" "),i+=a);break;default:i=o}i&&(n&&(n+=" "),n+=i)}}return n},JI=function(e){var t=TI(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=WI(n,t.registered,void 0);return VI(t,o,!1),t.key+"-"+o.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return qI(t.registered,n,GI(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=WI(n,t.registered);KI(t,o)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=WI(n,t.registered),i="animation-"+o.name;return KI(t,{name:o.name,styles:"@keyframes "+i+"{"+o.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:HI.bind(null,t.registered),merge:qI.bind(null,t.registered,n)}},YI=JI({key:"css"}),XI=(YI.flush,YI.hydrate,YI.cx,YI.merge,YI.getRegisteredStyles,YI.injectGlobal,YI.keyframes,YI.css),QI=(YI.sheet,YI.cache,Object.defineProperty),ZI=Object.getOwnPropertyDescriptor,eF=function(e,t,n,r){for(var o,i=r>1?void 0:r?ZI(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&QI(t,n,i),i},tF=function(e,t,n){return function(e,t,n){t in e?QI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n};function nF(e){var t,n,r=e.getAttribute("data-colwidth"),o=r&&/^\d+(,\d+)*$/.test(r)?r.split(",").map((function(e){return Number(e)})):null,i=Number(null!=(t=e.getAttribute("colspan"))?t:1),a=e.getAttribute("data-background-color");return{colspan:i,rowspan:Number(null!=(n=e.getAttribute("rowspan"))?n:1),colwidth:o&&o.length===i?o:null,background:a||e.style.backgroundColor||null}}function rF(e){var t,n={};return 1!==e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!==e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),e.attrs.background&&(n.style="".concat(null!=(t=n.style)?t:"","background-color: ").concat(e.attrs.background,";"),n["data-background-color"]=e.attrs.background),n}function oF(e,t){var n,r,o,i,a=h(h({},e.defaults()),{},{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}});return{table:h(h({isolating:!0},t),{},{attrs:e.defaults(),content:"tableRow+",tableRole:"table",parseDOM:[{tag:"table",getAttrs:e.parse}].concat(d(null!=(n=t.parseDOM)?n:[])),toDOM:function(t){return["table",e.dom(t),["tbody",0]]}}),tableRow:h(h({},t),{},{attrs:e.defaults(),content:"(tableCell | tableHeaderCell)*",tableRole:"row",parseDOM:[{tag:"tr",getAttrs:e.parse}].concat(d(null!=(r=t.parseDOM)?r:[])),toDOM:function(t){return["tr",e.dom(t),0]}}),tableCell:h(h({isolating:!0,content:"".concat(ui.Block,"+")},t),{},{attrs:a,tableRole:"cell",parseDOM:[{tag:"td",getAttrs:function(t){return h(h({},e.parse(t)),nF(t))}}].concat(d(null!=(o=t.parseDOM)?o:[])),toDOM:function(t){return["td",h(h({},e.dom(t)),rF(t)),0]}}),tableHeaderCell:h(h({isolating:!0,content:"".concat(ui.Block,"+")},t),{},{attrs:a,tableRole:"header_cell",parseDOM:[{tag:"th",getAttrs:function(t){return h(h({},e.parse(t)),nF(t))}}].concat(d(null!=(i=t.parseDOM)?i:[])),toDOM:function(t){return["th",h(h({},e.dom(t)),rF(t)),0]}})}}var iF=["table","row","cell","header_cell"];function aF(e){var t=e.content,n=e.type;return t?n.createChecked(null,t):n.createAndFill()}function uF(e){var t=e.schema,n=e.cellContent,r=e.columnsCount,o=void 0===r?3:r,i=e.rowsCount,a=void 0===i?3:i,u=e.withHeaderRow,s=void 0===u||u,l=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t=Oi();e.cached.tableNodeTypes=t;var n,r=qe(Ai(e.nodes));try{for(r.s();!(n=r.n()).done;){var o=n.value;Di(iF,o.spec.tableRole)&&(t[o.spec.tableRole]=o)}}catch(i){r.e(i)}finally{r.f()}return t}(t),c=l.cell,f=l.header_cell,d=l.row,p=l.table;ga(c&&f&&d&&p,{code:pi.EXTENSION,message:"Table Extension unable to locate required nodes."});for(var h=[],v=[],m=0;m<o;m++)h.push(aF({type:c,content:n})),s&&v.push(aF({type:f,content:n}));for(var g=[],y=0;y<a;y++){var b=s&&0===y?v:h;g.push(d.createChecked(null,b))}return p.createChecked(null,g)}function sF(e){return sy({selection:e,types:"table"})}function lF(e){return sy({selection:e,types:["tableHeaderCell","tableCell"]})}var cF=zb.CREATE_COMMAND_DESCRIPTION,fF=zb.CREATE_COMMAND_LABEL,dF={icon:"table2",description:function(e){return(0,e.t)(cF)},label:function(e){return(0,e.t)(fF)}},pF=!1,hF=function(e){b(n,e);var t=E(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),tF(x(e),"lastGoodState"),e}return g(n,[{key:"name",get:function(){return"table"}},{key:"createTags",value:function(){return[ui.Block]}},{key:"createNodeSpec",value:function(e,t){return oF(e,t).table}},{key:"createExtensions",value:function(){return[new vF({priority:ci.Low})]}},{key:"onStateUpdate",value:function(e){var t,n=e.tr,r=e.state;(null==(t=null==n?void 0:n.getMeta(OR))?void 0:t.fixTables)&&(this.lastGoodState=r)}},{key:"onView",value:function(e){!1===this.store.helpers.isViewEditable()&&this.store.updateExtensionPlugins(this)}},{key:"createExternalPlugins",value:function(){var e=[];if(this.store.isMounted()&&!1===this.store.helpers.isViewEditable())return e;var t=this.options,n=t.resizable,r=t.resizeableOptions;return n&&e.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.handleWidth,n=void 0===t?5:t,r=e.cellMinWidth,o=void 0===r?25:r,i=e.View,a=void 0===i?qR:i,u=e.lastColumnResizable,s=void 0===u||u,l=new wp({key:JR,state:{init:function(e,t){return l.spec.props.nodeViews[hR(t.schema).table.name]=function(e,t){return new a(e,o,t)},new YR(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){var t=JR.getState(e);return t&&t.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:function(e,t){XR(e,t,n,0,s)},mouseleave:function(e){QR(e)},mousedown:function(e,t){ZR(e,t,o)}},decorations:function(e){var t=JR.getState(e);if(t&&t.activeHandle>-1)return oP(e,t.activeHandle)},nodeViews:{}}});return l}(r)),e.push(CP()),e}},{key:"createPlugin",value:function(){var e=this.options,t=e.resizable,n=e.resizeableOptions;if(!t)return{};if(!this.store.isMounted()||this.store.helpers.isViewEditable())return{};var r=n.cellMinWidth,o=void 0===r?25:r;return{props:{nodeViews:{table:function(e,t,n){var r=t.nodeDOM(n());return Zg(r)&&"TABLE"===r.tagName&&GR(e,r.firstChild,r,o),new qR(e,o)}}}}}},{key:"createTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t.tr,r=t.dispatch,o=t.state;if(!n.selection.empty)return!1;var i=n.selection.anchor+1,a=uF(h({schema:o.schema},e));return null==r||r(n.replaceSelectionWith(a).scrollIntoView().setSelection(ap.near(n.doc.resolve(i)))),!0}}},{key:"deleteTable",value:function(){return Kb(EP)}},{key:"addTableColumnBefore",value:function(){return Kb(uP)}},{key:"addTableColumnAfter",value:function(){return Kb(sP)}},{key:"deleteTableColumn",value:function(){return Kb(cP)}},{key:"addTableRowBefore",value:function(){return Kb(dP)}},{key:"addTableRowAfter",value:function(){return Kb(pP)}},{key:"deleteTableRow",value:function(){return Kb(vP)}},{key:"toggleTableCellMerge",value:function(){return kF}},{key:"mergeTableCells",value:function(){return Kb(gP)}},{key:"splitTableCell",value:function(){return Kb(yP)}},{key:"toggleTableHeaderColumn",value:function(){return Kb(xP)}},{key:"toggleTableHeaderRow",value:function(){return Kb(wP)}},{key:"toggleTableHeaderCell",value:function(){return Kb(SP)}},{key:"setTableCellAttribute",value:function(e,t){return Kb(function(e,t){return function(n,r){if(!gR(n))return!1;var o=yR(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof ER?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,h(h({},n.attrs),{},s({},e,t)))})):i.setNodeMarkup(o.pos,null,h(h({},o.nodeAfter.attrs),{},s({},e,t))),r(i)}return!0}}(e,t))}},{key:"fixTables",value:function(){return qb(bF(this.lastGoodState))}},{key:"enableTableSupport",value:function(){pF||(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"),pF=!0)}},{key:"setTableCellBackground",value:function(e){return function(t){var n=t.tr,r=t.dispatch,o=n.selection;if(o instanceof ER)return o.forEachCell((function(t,r){n=n.setNodeMarkup(r,void 0,h(h({},t.attrs),{},{background:e}))})),null==r||r(n),!0;var i=sy({selection:o,types:["tableCell","tableHeaderCell"]});return!!i&&(null==r||r(n.setNodeMarkup(i.pos,void 0,h(h({},i.node.attrs),{},{background:e}))),!0)}}},{key:"selectParentCell",value:function(){return function(e){var t=e.dispatch,n=e.tr,r=lF(n.selection.$from);return!!r&&(null==t||t(n.setSelection(ER.create(n.doc,r.pos))),!0)}}},{key:"expandCellSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return function(t){var n=t.dispatch,r=t.tr;if(!AP(r.selection))return!1;if("row"!==e){var o=r.selection,i=o.$anchorCell,a=o.$headCell;r.setSelection(ER.colSelection(i,a))}if("column"!==e){var u=r.selection,s=u.$anchorCell,l=u.$headCell;r.setSelection(ER.rowSelection(s,l))}return null==n||n(r),!0}}},{key:"onSetOptions",value:function(e){e.changes.resizable.changed&&this.store.updateExtensionPlugins(this)}}]),n}(fw);eF([kw(dF)],hF.prototype,"createTable",1),eF([kw()],hF.prototype,"deleteTable",1),eF([kw()],hF.prototype,"addTableColumnBefore",1),eF([kw()],hF.prototype,"addTableColumnAfter",1),eF([kw()],hF.prototype,"deleteTableColumn",1),eF([kw()],hF.prototype,"addTableRowBefore",1),eF([kw()],hF.prototype,"addTableRowAfter",1),eF([kw()],hF.prototype,"deleteTableRow",1),eF([kw()],hF.prototype,"toggleTableCellMerge",1),eF([kw()],hF.prototype,"mergeTableCells",1),eF([kw()],hF.prototype,"splitTableCell",1),eF([kw()],hF.prototype,"toggleTableHeaderColumn",1),eF([kw()],hF.prototype,"toggleTableHeaderRow",1),eF([kw()],hF.prototype,"toggleTableHeaderCell",1),eF([kw()],hF.prototype,"setTableCellAttribute",1),eF([kw({disableChaining:!0})],hF.prototype,"fixTables",1),eF([bw()],hF.prototype,"enableTableSupport",1),eF([kw()],hF.prototype,"setTableCellBackground",1),eF([kw()],hF.prototype,"selectParentCell",1),eF([kw()],hF.prototype,"expandCellSelection",1),hF=eF([gw({defaultOptions:{resizable:!0,resizeableOptions:{}},defaultPriority:ci.Default})],hF);var vF=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableRow"}},{key:"createExtensions",value:function(){return[new mF({priority:ci.Low}),new gF({priority:ci.Low})]}},{key:"createNodeSpec",value:function(e,t){return oF(e,t).tableRow}}]),n}(fw);vF=eF([gw({defaultPriority:ci.Low})],vF);var mF=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableCell"}},{key:"createNodeSpec",value:function(e,t){return oF(e,t).tableCell}}]),n}(fw);mF=eF([gw({defaultPriority:ci.Low})],mF);var gF=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableHeaderCell"}},{key:"createNodeSpec",value:function(e,t){return oF(e,t).tableHeaderCell}}]),n}(fw);gF=eF([gw({defaultPriority:ci.Low})],gF);var yF=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableControllerCell"}},{key:"createNodeSpec",value:function(e,t){return{tableRole:"header_cell"}}}]),n}(fw);function bF(e){return function(t){var n=t.state,r=t.dispatch,o=TR(n,e);return!!o&&(r&&r(o),!0)}}function kF(e){var t=e.state,n=e.dispatch;return!gP(t,n)&&yP(t,n)}yF=eF([gw({defaultPriority:ci.Low})],yF);var wF,xF,SF,EF,CF,AF=lC.create({hasChanged:cC,getActive:function(e){var t=sF(e.state.selection);return t?[t]:lC.EMPTY},getPosition:function(e){var t=e.view,n=e.data,r=t.nodeDOM(n.pos);if(!Zg(r))return mC;var o=r.getBoundingClientRect(),i=t.dom.getBoundingClientRect(),a=o.height,u=o.width;return{x:t.dom.scrollLeft+o.left-i.left-1,y:t.dom.scrollTop+o.top-i.top-1,height:a,width:u,rect:o,visible:fC(o,t.dom)}}}),DF=(AF.clone((function(){return{getActive:function(e){var t=lF(e.state.selection);return t?[t]:lC.EMPTY}}})),lC.create({hasChanged:cC,getActive:function(e){var t,n=e.state.selection;if(!sF(n))return lC.EMPTY;var r=null!=(t=function(e,t){var n=sF(e);if(n){var r=fR.get(n.node);if(!(t>0||t>r.width-1)){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1}),i=[];return o.forEach((function(e){i.push({node:n.node.nodeAt(e),pos:n.start+e})})),i}}}(n,0))?t:[];return 0===r.length?lC.EMPTY:r},getID:function(e){return"".concat(e.pos)},getPosition:function(e){var t=e.view,n=e.data,r=t.nodeDOM(n.pos);if(!Zg(r))return mC;var o=r.getBoundingClientRect(),i=t.dom.getBoundingClientRect(),a=o.width,u=t.dom.scrollLeft+o.left-i.left-1,s=t.dom.scrollTop+o.top-i.top-1,l=new DOMRect(o.x-1,o.y-1,a,1);return{x:u,y:s,width:a,height:1,rect:l,visible:fC(l,t.dom)}}})),OF=(DF.clone((function(){return{getActive:function(e){var t,n=e.state.selection;if(!sF(n))return lC.EMPTY;var r=null!=(t=function(e,t){var n=sF(e);if(n){var r=fR.get(n.node);if(!(t>0||t>r.width-1)){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height}),i=[];return o.forEach((function(e){i.push({node:n.node.nodeAt(e),pos:n.start+e})})),i}}}(n,0))?t:[];return 0===r.length?lC.EMPTY:r},getPosition:function(e){var t=e.view,n=e.data,r=t.nodeDOM(n.pos);if(!Zg(r))return mC;var o=r.getBoundingClientRect(),i=t.dom.getBoundingClientRect(),a=o.height,u=t.dom.scrollLeft+o.left-i.left-1,s=t.dom.scrollTop+o.top-i.top-1,l=new DOMRect(o.x-1,o.y-1,1,a);return{x:u,y:s,width:1,height:a,rect:l,visible:fC(l,t.dom)}}}})),lC.create({hasChanged:cC,getActive:function(e){var t=e.state,n=e.view,r=t.selection,o=sF(r);if(!o)return lC.EMPTY;var i=lF(r);if(!i)return lC.EMPTY;var a=i.pos,u=n.nodeDOM(o.pos),s=n.nodeDOM(a);if(!Zg(u)||!Zg(s))return lC.EMPTY;var l=u.getBoundingClientRect(),c=s.getBoundingClientRect();return[{pos:a,rect:new DOMRect(c.x,l.y,c.width,l.height)}]},getID:function(e){var t=e.pos;return"".concat(t)},getPosition:function(e){var t=e.view,n=e.data.rect,r=t.dom.getBoundingClientRect(),o=n.height,i=n.width;return{x:t.dom.scrollLeft+n.left-r.left-1,y:t.dom.scrollTop+n.top-r.top-1,width:i,height:o,rect:n,visible:fC(n,t.dom)}}})),_F=OF.clone((function(){return{getActive:function(e){var t=e.state,n=e.view,r=t.selection,o=sF(r);if(!o)return lC.EMPTY;var i=lF(r);if(!i)return lC.EMPTY;var a=i.pos,u=n.nodeDOM(o.pos),s=n.nodeDOM(a);if(!Zg(u)||!Zg(s))return lC.EMPTY;var l=u.getBoundingClientRect(),c=s.getBoundingClientRect();return[{pos:a,rect:new DOMRect(l.x,c.y,l.width,c.height)}]}}})),TF=(OF.clone((function(e){var t=e.getActive;return{getActive:function(e){var n=Ye(t(e),1)[0];if(!n)return lC.EMPTY;var r=e.state.selection;if(!AP(r)||!r.isColSelection())return lC.EMPTY;var o=sF(r);if(!o)return lC.EMPTY;var i=o.node,a=o.start,u=r.$anchorCell,s=r.$headCell,l=fR.get(i).rectBetween(u.pos-a,s.pos-a);return l.right-l.left!==1?lC.EMPTY:[n]}}})),_F.clone((function(e){var t=e.getActive;return{getActive:function(e){var n=Ye(t(e),1)[0];if(!n)return lC.EMPTY;var r=e.state.selection;if(!AP(r)||!r.isRowSelection())return lC.EMPTY;var o=sF(r);if(!o)return lC.EMPTY;var i=o.node,a=o.start,u=r.$anchorCell,s=r.$headCell,l=fR.get(i).rectBetween(u.pos-a,s.pos-a);return l.bottom-l.top!==1?lC.EMPTY:[n]}}})),lC.create({hasChanged:cC,getActive:function(e){var t=e.state.selection;return AP(t)?[t]:lC.EMPTY},getPosition:function(e){var t=e.view,n=e.data,r=n.$headCell,o=n.$anchorCell,i=t.nodeDOM(r.pos),a=t.nodeDOM(o.pos);if(!Zg(i)||!Zg(a))return mC;var u=ty(i.getBoundingClientRect(),a.getBoundingClientRect()),s=t.dom.getBoundingClientRect(),l=u.height,c=u.width;return{x:t.dom.scrollLeft+u.left-s.left-1,y:t.dom.scrollTop+u.top-s.top-1,width:c,height:l,rect:u,visible:fC(u,t.dom)}}})),MF=(TF.clone((function(e){var t=e.getActive;return{getActive:function(e){var n=Ye(t(e),1)[0];return n&&n.isColSelection()?[n]:lC.EMPTY}}})),TF.clone((function(e){var t=e.getActive;return{getActive:function(e){var n=Ye(t(e),1)[0];return n&&n.isRowSelection()?[n]:lC.EMPTY}}})),TF.clone((function(e){var t=e.getActive;return{getActive:function(e){var n=Ye(t(e),1)[0];return n&&n.isColSelection()&&n.isRowSelection()?[n]:lC.EMPTY}}})),Object.defineProperty),NF=Object.getOwnPropertyDescriptor,RF=function(e,t,n,r){for(var o,i=r>1?void 0:r?NF(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&MF(t,n,i),i},PF=function(e,t,n){return function(e,t,n){t in e?MF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},IF=["tableCell","tableHeaderCell"];gC.clone((function(){return{getActive:function(e){var t,n=sy((t=e.state.selection)instanceof ER?{selection:t.$head,types:IF}:{selection:t,types:IF});return n?[n]:lC.EMPTY}}}));function FF(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=n<r.width?0:-1,u=0;u<r.height;u++){var s=u*r.width+n;if(n>0&&n<r.width&&r.map[s-1]===r.map[s]){var l=r.map[s],c=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(o+l),void 0,SR(c.attrs,n-r.colCount(l))),u+=c.attrs.rowspan-1}else{var f=i.nodeAt(r.map[s+a]).type,d=r.positionAt(u,n,i);e.insert(e.mapping.map(o+d),f.createAndFill())}}return e}function LF(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(FF(e.tr,n,n.left))}return!0}function BF(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(FF(e.tr,n,n.right))}return!0}function jF(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,u=0;u<n;u++)a+=i.child(u).nodeSize;for(var s=n<r.height-1?0:-1,l=[],c=0,f=r.width*n;c<r.width;c++,f++)if(n>0&&n<r.height&&r.map[f]===r.map[f-r.width]){var d=r.map[f],p=i.nodeAt(d).attrs;e.setNodeMarkup(o+d,void 0,GF(p,"rowspan",p.rowspan+1)),c+=p.colspan-1}else{var h=i.nodeAt(r.map[f+s*r.width]).type;l.push(h.createAndFill())}return e.insert(a,hR(i.type.schema).row.create(null,l)),e}function zF(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(jF(e.tr,n,n.top))}return!0}function $F(e,t){if(!gR(e))return!1;if(t){var n=iP(e);t(jF(e.tr,n,n.bottom))}return!0}var UF=null;function WF(e){return(0,OP.h)("div",{className:"".concat(ZE.TABLE_INSERT_BUTTON," ").concat(ZE.CONTROLLERS_TOGGLE),style:{top:"".concat(e.y-9-5,"px"),left:"".concat(e.x-9,"px")}},function(){if(UF)return UF;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("xmlns",e),t.setAttribute("viewBox","0 0 24 24");var n,r=document.createElementNS(e,"g"),o=qe(DP);try{for(o.s();!(n=o.n()).done;){for(var i=n.value,a=document.createElementNS(e,i.tag),u=0,s=Object.entries(i.attr);u<s.length;u++){var l=Ye(s[u],2),c=l[0],f=l[1];a.setAttribute(c,f)}r.append(a)}}catch(d){o.e(d)}finally{o.f()}return t.append(r),UF=t,t}())}var HF=function(e){var t=e.view,n=e.tableRect,r=e.attrs,o=e.removeInsertButton,i=WF(r);return i.addEventListener("mousedown",(function(){!function(){var e=t.state.tr;if(-1!==r.col)e=FF(e,n,r.col);else{if(-1===r.row)return;e=jF(e,n,r.row)}t.dispatch(o(e))}()})),i};function VF(e,t,n,r){if(!(r=r||e.doc.nodeAt(t)))throw new RangeError("No node at given position");var o=r.type,i=o.create(h(h({},r.attrs),n),void 0,r.marks);if(r.isLeaf)return e.replaceWith(t,t+r.nodeSize,i);if(!o.validContent(r.content))throw new RangeError("Invalid content for node type ".concat(o.name));return e.step(new Ed(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new df(af.from(i),0,0),1,!0))}var KF=function(){function e(t,n,r,o,i){var a=this;v(this,e),this.node=t,this.cellMinWidth=n,this.decorations=r,this.view=o,this.getPos=i,PF(this,"root"),PF(this,"table"),PF(this,"colgroup"),PF(this,"tbody"),PF(this,"insertButtonWrapper"),PF(this,"handleMouseMove"),PF(this,"showInsertButton"),PF(this,"removeInsertButton"),PF(this,"map"),this.map=fR.get(this.node),this.tbody=(0,OP.h)("tbody",{className:ZE.TABLE_TBODY_WITH_CONTROLLERS}),this.colgroup=OP.h.apply(void 0,["colgroup",{className:ZE.TABLE_COLGROUP}].concat(d(sa(this.map.width).map((function(){return(0,OP.h)("col")}))))),this.table=(0,OP.h)("table",{className:ZE.TABLE,dataset:{controllersInjected:""}},this.colgroup,this.tbody),this.insertButtonWrapper=(0,OP.h)("div"),this.root=(0,OP.h)("div",null,this.table,this.insertButtonWrapper),this.render(),this.showInsertButton=!1,this.handleMouseMove=FS(100,(function(e){if(a.showInsertButton){var t=a.attrs().insertButtonAttrs;t&&function(e,t){return-1!==e.col?t.clientX<e.triggerRect.left-400||t.clientX>e.triggerRect.right+400||t.clientY<e.triggerRect.top-60||t.clientY>e.triggerRect.bottom:-1===e.row||t.clientX<e.triggerRect.left-40||t.clientX>e.triggerRect.right||t.clientY<e.triggerRect.top-100||t.clientY>e.triggerRect.bottom+100}(t,e)&&(a.showInsertButton=!1,qF(a.insertButtonWrapper,[]),a.removeInsertButton&&a.view.dispatch(a.removeInsertButton(a.view.state.tr)))}})),document.addEventListener("mousemove",this.handleMouseMove)}return g(e,[{key:"dom",get:function(){return this.root}},{key:"contentDOM",get:function(){return this.tbody}},{key:"update",value:function(e,t){return e.type===this.node.type&&(this.decorations=t,this.node=e,this.map=fR.get(this.node),this.render(),!0)}},{key:"render",value:function(){this.renderTable(),this.attrs().isControllersInjected&&this.renderInsertButton()}},{key:"renderTable",value:function(){if(this.colgroup.children.length!==this.map.width){var e=sa(this.map.width).map((function(){return(0,OP.h)("col")}));qF(this.colgroup,e)}var t=[ZE.TABLE,this.attrs().isControllersInjected?ZE.TABLE_WITH_CONTROLLERS:ZE.TABLE_WAITTING_CONTROLLERS].join(" ");this.table.className!==t&&(this.table.className=t),GR(this.node,this.colgroup,this.table,this.cellMinWidth)}},{key:"renderInsertButton",value:function(){var e=this.attrs().insertButtonAttrs;if(e){var t={map:this.map,table:this.node,tableStart:this.getPos()+1,left:0,top:0,right:0,bottom:0};this.removeInsertButton=function(e){return VF(e,t.tableStart-1,{insertButtonAttrs:null})};var n=HF({view:this.view,attrs:e,tableRect:t,removeInsertButton:this.removeInsertButton});qF(this.insertButtonWrapper,[n]),this.showInsertButton=!0}else qF(this.insertButtonWrapper,[]),this.showInsertButton=!1}},{key:"attrs",value:function(){return this.node.attrs}},{key:"ignoreMutation",value:function(){return!0}},{key:"destroy",value:function(){document.removeEventListener("mousemove",this.handleMouseMove)}}]),e}();function qF(e,t){for(;e.firstChild;)e.firstChild.remove();var n,r=qe(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.append(o)}}catch(i){r.e(i)}finally{r.f()}}function GF(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}var JF=new Ep("tableColumnResizing");var YF=function(){function e(t,n){v(this,e),this.activeHandle=t,this.dragging=n}return g(e,[{key:"apply",value:function(t){var n,r=this,o=t.getMeta(JF);if(o&&null!=o.setHandle)return new e(o.setHandle,null);if(o&&void 0!==o.setDragging)return new e(r.activeHandle,o.setDragging);if(r.activeHandle>-1&&t.docChanged){var i=t.mapping.map(r.activeHandle,-1);"row"==(n=t.doc.resolve(i)).parent.type.spec.tableRole&&n.nodeAfter||(i=null),r=new e(i,r.dragging)}return r}}]),e}();function XF(e,t,n,r,o,i){var a=JF.getState(e.state);if(!a.dragging){var u=eL(t.target),s=-1;if(u){var l=u.getBoundingClientRect(),c=l.left,f=l.right;t.clientX-c<=n?s=tL(e,t,"left"):f-t.clientX<=n&&(s=tL(e,t,"right"))}if(s!=a.activeHandle){if(-1!==s){var d=e.state.doc.resolve(s),p=d.node(-1),h=fR.get(p),v=d.start(-1),m=h.colCount(d.pos-v)+d.nodeAfter.attrs.colspan-1;if(m<i)return;if(!o&&m==h.width-1)return}rL(e,s)}}}function QF(e){var t=JF.getState(e.state);t.activeHandle>-1&&!t.dragging&&rL(e,-1)}function ZF(e,t,n){var r=JF.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),u=a.node.childNodes[a.offset],s=u.offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(s-=o[c],l--);return s/l}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",u);var r=JF.getState(e.state);r.dragging&&(!function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=fR.get(o),a=r.start(-1),u=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,s=e.state.tr,l=0;l<i.height;l++){var c=l*i.width+u;if(!l||i.map[c]!=i.map[c-i.width]){var f=i.map[c],d=o.nodeAt(f).attrs,p=1==d.colspan?0:u-i.colCount(f);if(!d.colwidth||d.colwidth[p]!=n){var h=d.colwidth?d.colwidth.slice():oL(d.colspan);h[p]=n,s.setNodeMarkup(a+f,null,GF(d,"colwidth",h))}}}s.docChanged&&e.dispatch(s)}(e,r.activeHandle,nL(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(JF,{setDragging:null})))}function u(t){if(!t.which)return a(t);var r=JF.getState(e.state),o=nL(r.dragging,t,n);!function(e,t,n,r){var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),u=fR.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,s=e.domAtPos(o.start(-1)).node;for(;"TABLE"!=s.nodeName;)s=s.parentNode;GR(i,s.firstChild,s,r,u,n)}(e,r.activeHandle,o,n)}return e.dispatch(e.state.tr.setMeta(JF,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",u),t.preventDefault(),!0}function eL(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}function tL(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var o=r.pos,i=mR(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=fR.get(i.node(-1)),u=i.start(-1),s=a.map.indexOf(i.pos-u);return s%a.width==0?-1:u+a.map[s-1]}function nL(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function rL(e,t){e.dispatch(e.state.tr.setMeta(JF,{setHandle:t}))}function oL(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function iL(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=fR.get(o),a=r.start(-1),u=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,s=0;s<i.height;s++){var l=u+s*i.width-1;if((u==i.width||i.map[l]!=i.map[l+1])&&(0==s||i.map[l-1]!=i.map[l-1-i.width])){var c=i.map[l],f=a+c+o.nodeAt(c).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(mm.widget(f,d))}}return bm.create(e.doc,n)}var aL=yE("color","table","preselect","border"),uL=yE("color","table","preselect","controller");var sL=new Ep("remirrorTableControllerPluginKey");function lL(){return new wp({key:sL,state:{init:function(){return new cL({})},apply:function(e,t){return t.apply(e)}},props:{decorations:function(e){var t=sL.getState(e);if(!t)return null;var n=t.values,r=n.tableNodeResult,o=n.predelete,i=n.preselectTable;if(r){var a=function(e){var t=XI(wF||(wF=BS(["\n    /* Make the border-style 'double' instead of 'solid'. This works because 'double' has a higher priority than 'solid' */\n    border-style: double;\n    border-color: ",";\n  "])),aL),n=XI(xF||(xF=BS(["\n    ","\n    background-color: ",";\n  "])),t,uL),r="";return-1!==e.preselectColumn?r=XI(SF||(SF=BS(["\n      & table."," tbody tr {\n        th,\n        td {\n          &:nth-child(",") {\n            ",";\n          }\n        }\n        th.",":nth-child(",") {\n          ","\n        }\n      }\n    "])),ZE.TABLE,e.preselectColumn+1,t,ZE.TABLE_CONTROLLER,e.preselectColumn+1,n):-1!==e.preselectRow?r=XI(EF||(EF=BS(["\n      & table."," tbody tr:nth-child(",") {\n        td,\n        th {\n          ",";\n        }\n        th."," {\n          ","\n        }\n      }\n    "])),ZE.TABLE,e.preselectRow+1,t,ZE.TABLE_CONTROLLER,n):e.preselectTable&&(r=XI(CF||(CF=BS(["\n      &."," table."," tbody tr {\n        td,\n        th {\n          ",";\n        }\n        th."," {\n          ","\n        }\n      }\n    "])),ZE.TABLE_PRESELECT_ALL,ZE.TABLE,t,ZE.TABLE_CONTROLLER,n)),r}(t.values),u="".concat(ZE.TABLE_SHOW_CONTROLLERS," ").concat(a);i&&(u+=" ".concat(ZE.TABLE_PRESELECT_ALL)),o&&(u+=" ".concat(ZE.TABLE_SHOW_PREDELETE));var s=[mm.node(r.pos,r.end,{class:u})];return bm.create(e.doc,s)}return null}}})}var cL=function(){function e(t){v(this,e),this.action=t,PF(this,"values"),this.values=h({tableNodeResult:null,preselectTable:!1,preselectColumn:-1,preselectRow:-1,predelete:!1,insertButtonAttrs:null},t)}return g(e,[{key:"apply",value:function(t){this.values.tableNodeResult=sy({types:"table",selection:t.selection});var n=t.getMeta(sL);return n?new e(h(h({},this.values),n)):this}}]),e}();function fL(e,t){return e.setMeta(sL,t)}function dL(e){return fL(e,{preselectRow:-1,preselectColumn:-1,preselectTable:!1,predelete:!1})}function pL(e){var t=e.schema,n=e.getMap,r=e.table,o=t.nodes.tableControllerCell.create(),i=function(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n}(o,n().width+1),a=[t.nodes.tableRow.create({},i)];r.content.forEach((function(e){if(e.content.child(0).type!==t.nodes.tableControllerCell){var n=e.content,r=af.from(o).append(n),i=e.copy(r);a.push(i)}else a.push(e.copy())}));var u=af.fromArray(a),s=r.copy(u);return s.attrs=h(h({},s.attrs),{},{isControllersInjected:!0}),s}function hL(e){var t=e.view,n=e.findTable;return{onClick:function(e){var r=kL(t,e);r&&(r.row>0?mL(t,n,r.row):r.col>0?gL(t,n,r.col):yL(t,n))},onMouseEnter:function(e){var n=kL(t,e);n&&(n.row>0?function(e,t){e.dispatch(fL(e.state.tr,{preselectRow:t}))}(t,n.row):n.col>0?function(e,t){e.dispatch(fL(e.state.tr,{preselectColumn:t}))}(t,n.col):function(e,t){e.dispatch(fL(e.state.tr,{preselectTable:t}))}(t,!0))},onMouseLeave:function(){!function(e){e.dispatch(dL(e.state.tr))}(t)}}}function vL(e){return function(t,n){var r=n();if(r){for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return e.apply(void 0,[t,r].concat(i))}}}var mL=vL((function(e,t,n){var r=fR.get(t.node),o=bL(r,n,0),i=e.state.tr,a=r.map[o+1],u=t.pos+a+1,s=i.doc.resolve(u),l=ER.rowSelection(s);i=i.setSelection(l),e.dispatch(i)})),gL=vL((function(e,t,n){var r=fR.get(t.node),o=bL(r,0,n),i=e.state.tr,a=r.map[o],u=t.pos+a+1,s=i.doc.resolve(u),l=ER.colSelection(s);i=i.setSelection(l),e.dispatch(i)})),yL=vL((function(e,t){var n=fR.get(t.node);if(n.map.length>0){var r=e.state.tr,o=n.map[0],i=n.map[n.map.length-1],a=t.pos+o+1,u=t.pos+i+1,s=r.doc.resolve(a),l=r.doc.resolve(u),c=new ER(s,l);r=r.setSelection(c),e.dispatch(r)}}));function bL(e,t,n){return e.width*t+n}function kL(e,t){var n=eL(t.target);if(!n)return null;var r=n.getBoundingClientRect();return function(e,t){var n=e.posAtCoords(t);if(!n)return null;var r=mR(e.state.doc.resolve(n.pos));if(!r)return null;var o=fR.get(r.node(-1)),i=r.start(-1),a=o.findCell(r.pos-i),u=a.left,s=a.top;return{col:u,row:s}}(e,{left:r.left+1,top:r.top+1})}function wL(e){return e.isRowSelection()?e.isColSelection()?3:1:e.isColSelection()?2:4}lC.create({hasChanged:cC,getActive:function(e){var t=e.state.selection;if(AP(t)){var n=wL(t);if(2===n||1===n){var r=sy({types:"table",selection:t});if(r)return[{tableResult:r,cellSelectionType:n,anchorCellPos:t.$anchorCell.pos,headCellPos:t.$headCell.pos}]}}return lC.EMPTY},getPosition:function(e){var t=e.view,n=e.data,r=t.nodeDOM(n.anchorCellPos),o=t.nodeDOM(n.headCellPos);if(!r||!o||!Zg(r)||!Zg(o))return mC;var i=fR.get(n.tableResult.node);if(2===n.cellSelectionType&&i.width<=2)return mC;if(1===n.cellSelectionType&&i.height<=2)return mC;var a=ty(r.getBoundingClientRect(),o.getBoundingClientRect()),u=t.dom.getBoundingClientRect(),s=a.height,l=a.width,c=t.dom.scrollLeft+a.left-u.left,f=t.dom.scrollTop+a.top-u.top,d=fC(a,t.dom);return 1===n.cellSelectionType?{rect:a,visible:d,height:0,width:0,x:c-16,y:f+s/2}:{rect:a,visible:d,height:0,width:0,x:c+l/2,y:f-16}}});lC.create({hasChanged:cC,getActive:function(e){var t=sy({types:"table",selection:e.state.selection});return t?[{tableResult:t}]:lC.EMPTY},getPosition:function(e){var t=e.view,n=e.data.tableResult,r=n.node,o=n.pos,i=fR.get(r),a=t.nodeDOM(o+i.map[0]+1),u=t.nodeDOM(o+ra(i.map)+1);if(!a||!u||!Zg(a)||!Zg(u))return mC;var s=ty(a.getBoundingClientRect(),u.getBoundingClientRect()),l=t.dom.getBoundingClientRect(),c=t.dom.scrollLeft+s.left-l.left,f=t.dom.scrollTop+s.top-l.top;return{rect:s,visible:fC(s,t.dom),height:0,width:0,x:c+s.width/2,y:f+s.height+16}}});var xL=function(e){var t=e.isTopLeft,n=e.view,r=e.findTable,o=(0,OP.h)("div",{className:ZE.TABLE_CONTROLLER_TRIGGER_AREA,onMouseEnter:function(e){var i,a=kL(n,e);a&&(a.row>0?i=t?3:4:a.col>0&&(i=t?1:2),i&&function(e,t,n,r,o){var i=null==e?void 0:e.getBoundingClientRect();if(i&&(i.width||i.height)){var a=t();if(a){var u=function(e,t,n,r){var o=r.row,i=r.col,a=function(e,t){var n=t.getBoundingClientRect();return{x:e.x+t.scrollLeft-n.left,y:e.y+t.scrollTop-n.top}}(t,n);switch(e){case 1:return{triggerRect:t,x:a.x-1,y:a.y+12,row:-1,col:i};case 2:return{triggerRect:t,x:a.x+t.width,y:a.y+12,row:-1,col:i+1};case 3:return{triggerRect:t,x:a.x+12,y:a.y+5-1,row:o,col:-1};default:return{triggerRect:t,x:a.x+12,y:a.y+5+t.height,row:o+1,col:-1}}}(n,i,o.dom,r);o.dispatch(VF(o.state.tr,a.pos,{insertButtonAttrs:u}))}}}(o,r,i,a,n))}});return o},SL=function(e){var t=e.view,n=e.findTable;return[xL({view:t,findTable:n,isTopLeft:!0}),xL({view:t,findTable:n,isTopLeft:!1})]},EL=function(){return[(0,OP.h)("div",{className:ZE.TABLE_CONTROLLER_MARK_ROW_CORNER}),(0,OP.h)("div",{className:ZE.TABLE_CONTROLLER_MARK_COLUMN_CORNER})]},CL=function(e){var t=e.view,n=e.getPos,r=e.contentDOM,o=function(){return sy({types:"table",selection:t.state.doc.resolve(n())})},i=hL({view:t,findTable:o}),a=t.editable?[].concat(d(SL({view:t,findTable:o})),d(EL())):[],u=OP.h.apply(void 0,["div",{contentEditable:"false",className:ZE.TABLE_CONTROLLER_WRAPPER},r].concat(d(a)));return(0,OP.h)("th",h({contentEditable:"false",className:"".concat(ZE.TABLE_CONTROLLER," ").concat(ZE.CONTROLLERS_TOGGLE),dataset:{controllerCell:""}},i),u)},AL=function(){function e(t,n,r){v(this,e),this.node=t,this.view=n,this.getPos=r,PF(this,"dom"),PF(this,"contentDOM"),this.contentDOM=(0,OP.h)("div",{contentEditable:!1}),this.dom=CL({view:n,getPos:r,contentDOM:this.contentDOM})}return g(e,[{key:"ignoreMutation",value:function(){return!0}},{key:"stopEvent",value:function(){return!0}}]),e}(),DL=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"table"}},{key:"createNodeViews",value:function(){return function(e,t,n,r){return new KF(e,10,r,t,n)}}},{key:"createExternalPlugins",value:function(){var e=[];if(this.store.isMounted()&&!1===this.store.helpers.isViewEditable())return e;var t=this.options,n=t.resizable,r=t.resizeableOptions;return n&&e.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.handleWidth,n=void 0===t?5:t,r=e.cellMinWidth,o=void 0===r?25:r,i=(e.View,e.lastColumnResizable),a=void 0===i||i,u=e.firstResizableColumn,s=void 0===u?0:u,l=new wp({key:JF,state:{init:function(e,t){return new YF(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return JF.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,t){XF(e,t,n,0,a,s)},mouseleave:function(e){QF(e)},mousedown:function(e,t){ZF(e,t,o)}},decorations:function(e){var t=JF.getState(e);if(t.activeHandle>-1)return iL(e,t.activeHandle)},nodeViews:{}}});return l}(h(h({},r),{},{firstResizableColumn:1}))),e.push(CP(),lL()),e}},{key:"createNodeSpec",value:function(e){var t={isolating:!0,attrs:h(h({},e.defaults()),{},{isControllersInjected:{default:!1},insertButtonAttrs:{default:null}}),content:"tableRow+",tableRole:"table",parseDOM:[{tag:"table",getAttrs:function(t){return Zg(t)?h(h({},e.parse(t)),{},{isControllersInjected:t.hasAttribute("data-controllers-injected")}):{}}}],toDOM:function(t){var n={};return t.attrs.isControllersInjected&&(n["data-controllers-injected"]=""),["table",h(h({},e.dom(t)),n),["tbody",0]]},allowGapCursor:!1};return t}},{key:"createExtensions",value:function(){return[new OL({priority:ci.Low})]}},{key:"onView",value:function(e){ei(k(n.prototype),"onView",this).call(this,e);var t=this.store.schema;t.cached.tableNodeTypes={cell:t.nodes.tableCell,row:t.nodes.tableRow,table:t.nodes.table,header_cell:t.nodes.tableHeaderCell};var r=e.dispatch,o=e.state,i=o.doc,a=o.tr,u=mb({node:i,predicate:function(e){var n=e.node,r=n.type,o=n.attrs;return r===t.nodes.table&&!1===o.isControllersInjected}});if(0!==u.length){var s,l=qe(u);try{var c=function(){var e=s.value,n=e.node,r=e.pos,o=pL({schema:t,getMap:function(){return fR.get(n)},table:n});iy({pos:r,tr:a,content:o})};for(l.s();!(s=l.n()).done;)c()}catch(f){l.e(f)}finally{l.f()}r(a.setMeta("addToHistory",!1))}}},{key:"createTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t.tr,r=t.dispatch,o=t.state;if(!n.selection.empty)return!1;var i=o.schema,a=n.selection.anchor+1,u=uF(h({schema:i},e)),s=pL({schema:i,getMap:function(){return fR.get(u)},table:u});return null==r||r(n.replaceSelectionWith(s).scrollIntoView().setSelection(ap.near(n.doc.resolve(a)))),!0}}},{key:"addTableColumnBefore",value:function(){return Kb(LF)}},{key:"addTableColumnAfter",value:function(){return Kb(BF)}},{key:"addTableRowBefore",value:function(){return Kb(zF)}},{key:"addTableRowAfter",value:function(){return Kb($F)}},{key:"createPlugin",value:function(){return{appendTransaction:function(e,t,n){var r=ry(e,t),o=n.schema,i=n.tr,a=bb(r,{predicate:function(e){return e.type===o.nodes.table}});if(0!==a.length){var u,s=qe(a);try{var l=function(){var e=u.value,t=e.node,n=e.pos;if(t.attrs.isControllersInjected)return"continue";var r=pL({schema:o,getMap:function(){return fR.get(t)},table:t});iy({pos:n,tr:i,content:r})};for(s.s();!(u=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}return i.steps.length>0?i:void 0}}}}}]),n}(hF);RF([kw(dF)],DL.prototype,"createTable",1),RF([kw()],DL.prototype,"addTableColumnBefore",1),RF([kw()],DL.prototype,"addTableColumnAfter",1),RF([kw()],DL.prototype,"addTableRowBefore",1),RF([kw()],DL.prototype,"addTableRowAfter",1);var OL=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableRow"}},{key:"createNodeSpec",value:function(e,t){var r=ei(k(n.prototype),"createNodeSpec",this).call(this,e,t);return r.content="(tableCell | tableHeaderCell | tableControllerCell)*",r.toDOM=function(t){return["tr",e.dom(t),0]},r.allowGapCursor=!1,r}},{key:"createExtensions",value:function(){return[new TL({priority:ci.Low}),new ML({priority:ci.Medium}),new _L({priority:ci.Low})]}}]),n}(vF),_L=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableHeaderCell"}},{key:"createNodeSpec",value:function(e,t){var r=ei(k(n.prototype),"createNodeSpec",this).call(this,e,t);return r.attrs=h({},r.attrs),r.allowGapCursor=!1,r}}]),n}(gF),TL=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"name",get:function(){return"tableCell"}},{key:"createNodeSpec",value:function(e,t){var r=ei(k(n.prototype),"createNodeSpec",this).call(this,e,t);return r.allowGapCursor=!1,r}}]),n}(mF),ML=function(e){b(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"createNodeSpec",value:function(e){return{atom:!0,isolating:!0,content:"block*",attrs:h(h({},e.defaults()),{},{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}}),tableRole:"header_cell",parseDOM:[{tag:"th[data-controller-cell]"}],toDOM:function(){return["th",{"data-controller-cell":""},0]},allowGapCursor:!1}}},{key:"createNodeViews",value:function(){return function(e,t,n){return new AL(e,t,n)}}},{key:"createExtensions",value:function(){return[]}},{key:"createPlugin",value:function(){var e=this;return{filterTransaction:function(t){var n=bb(t,{descend:!0,predicate:function(t){return t.type===e.type&&""!==t.textContent}});return 0===n.length}}}}]),n}(yF),NL="ContentEditorComp_menu__47le5",RL="ContentEditorComp_main__yTwIh",PL="ContentEditorComp_aLike__WFVNN",IL="ButtonBase_button__rSzqv",FL="ButtonBase_div__-2zbt";function LL(e){return(0,L.jsx)("button",{className:IL,disabled:e.disabled,onClick:e.click,onMouseDown:e.mouseDown,style:{height:e.height,width:e.width},children:(0,L.jsx)("div",{className:FL,children:e.children})})}var BL="icons_link__w2kVZ";function jL(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.content,r=(e.document,e.selection),o=e.extensions,a=i(e,fA),u=CA(null!=o?o:function(){return[]},a),s=Ye((0,t.useState)((function(){return u.createState({selection:r,content:null!=n?n:u.createEmptyDoc()})})),2),l=s[0],c=s[1],f=(0,t.useCallback)((function(e){var t=e.state;c(t)}),[]),d=(0,t.useCallback)((function(){return u.output}),[u]);return(0,t.useMemo)((function(){return{state:l,setState:c,manager:u,onChange:f,getContext:d}}),[d,u,f,l])}({extensions:function(){return[new tD,new sD,new yD,new SD,new DD,new QD,new mO,new zO,new VO({width:ae(.125,"rem"),color:"var(--c-boxshadow)"}),new e_,new Hx,new uR,new i_,new v_,new x_,new _S,new D_,new Z_,new iT({enableResizing:!0}),new cT,new JD,new GD,new IM,new eN,new ZD,new _C({placeholder:V.current.contentEditor.placeholder}),new wC,new iN,new cN,new vN,new DL,new rO,new eO,new SN,new PN,new $N,new KN,new XN]}});function r(){var e="2.15rem",t="1.6rem",n=(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];yA({autoUpdate:e}).active}(),yA().chain),r=yA().commands,o=r.toggleBold,i=r.toggleItalic,a=r.toggleUnderline,u=r.toggleStrike,s=r.toggleCode;return(0,L.jsxs)("div",{className:NL,children:[(0,L.jsx)(LL,{height:e,width:t,disabled:!1===o.enabled(),click:function(){return n.toggleBold().focus().run()},children:(0,L.jsx)("strong",{children:"B"})}),(0,L.jsx)(LL,{height:e,width:t,disabled:!1===i.enabled(),click:function(){return n.toggleItalic().focus().run()},children:(0,L.jsx)("em",{children:"i"})}),(0,L.jsx)(LL,{height:e,width:t,disabled:!1===a.enabled(),click:function(){return n.toggleUnderline().focus().run()},children:(0,L.jsx)("u",{children:"U"})}),(0,L.jsx)(LL,{height:e,width:t,disabled:!1===u.enabled(),click:function(){return n.toggleStrike().focus().run()},children:(0,L.jsx)("s",{children:"S"})}),(0,L.jsx)(LL,{height:e,width:"2.1rem",disabled:!1===s.enabled(),click:function(){return n.toggleCode().focus().run()},children:(0,L.jsx)("code",{children:"<>"})}),(0,L.jsx)(LL,{height:e,width:"2rem",children:(0,L.jsx)("span",{className:"".concat(BL," ").concat(PL)})})]})}return(0,L.jsxs)(PA,{manager:n.manager,hooks:[function(){}],classNames:[RL],children:[(0,L.jsx)(NA,{}),(0,L.jsx)(r,{})]})}var zL=function(){function e(t){v(this,e),this.windowID=void 0,this.windowID=HL.current.createWindow({children:(0,L.jsx)(jL,{bookID:t}),height:300,width:500,top:100,left:200,label:"\u7f16\u8f91 ".concat(t)})}return g(e,[{key:"close",value:function(){HL.current.removeWindow(this.windowID)}}]),e}(),$L=window,UL=document.getElementById($L.oeRoot||"oinkedit");if(!UL)throw new ReferenceError("".concat(V.current.errors.rootElNotFound.main,"\n").concat($L.oeRoot?V.current.errors.rootElNotFound.causedByCustomEl:V.current.errors.rootElNotFound.causedByOriginEl));var WL=(0,o.s)(UL),HL=t.createRef();function VL(){WL.render((0,L.jsx)(t.StrictMode,{children:(0,L.jsx)(Ue,{ref:HL},Date.now())}))}VL(),function(){Xo.apply(this,arguments)}(),window.addEventListener("beforeunload",(function(e){if(!Qo)return e.preventDefault(),e.returnValue="",""})),We({React:t,dataBase:Yo,oinkedit:HL,reload:VL,el:(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{children:"\u4e03\u6708\u6d41\u706b\uff0c\u4e5d\u6708\u6388\u8863\u3002\u4e00\u4e4b\u65e5\u89f1\u53d1\uff0c\u4e8c\u4e4b\u65e5\u6817\u70c8\u3002\u65e0\u8863\u65e0\u8910\uff0c\u4f55\u4ee5\u5352\u5c81\uff1f"}),(0,L.jsx)("div",{children:"\u4e09\u4e4b\u65e5\u4e8e\u801c\uff0c\u56db\u4e4b\u65e5\u4e3e\u8dbe\u3002\u540c\u6211\u5987\u5b50\uff0c\u998c\u5f7c\u5357\u4ea9\u3002\u7530\u756f\u81f3\u559c\u3002"}),(0,L.jsx)("div",{children:"\u4e03\u6708\u6d41\u706b\uff0c\u4e5d\u6708\u6388\u8863\u3002\u6625\u65e5\u8f7d\u9633\uff0c\u6709\u9e23\u4ed3\u5e9a\u3002\u5973\u6267\u61ff\u7b50\uff0c\u9075\u5f7c\u5fae\u884c\uff0c\u7230\u6c42\u67d4\u6851\u3002"}),(0,L.jsx)("div",{children:"\u6625\u65e5\u8fdf\u8fdf\uff0c\u91c7\u8629\u7941\u7941\u3002\u5973\u5fc3\u4f24\u60b2\uff0c\u6b86\u53ca\u516c\u5b50\u540c\u5f52\u3002"}),(0,L.jsx)("div",{children:"\u4e03\u6708\u6d41\u706b\uff0c\u516b\u6708\u8411\u82c7\u3002\u8695\u6708\u6761\u6851\uff0c\u53d6\u5f7c\u65a7\u65a8\u3002\u4ee5\u4f10\u8fdc\u626c\uff0c\u7317\u5f7c\u5973\u6851\u3002"}),(0,L.jsx)("div",{children:"\u4e03\u6708\u9e23\u9d59\uff0c\u516b\u6708\u8f7d\u7ee9\u3002\u8f7d\u7384\u8f7d\u9ec4\uff0c\u6211\u6731\u5b54\u9633\uff0c\u4e3a\u516c\u5b50\u88f3\u3002"}),(0,L.jsx)("div",{children:"\u56db\u6708\u79c0\u847d\uff0c\u4e94\u6708\u9e23\u8729\u3002\u516b\u6708\u5176\u83b7\uff0c\u5341\u6708\u9668\u841a\u3002\u4e00\u4e4b\u65e5\u4e8e\u8c89\uff0c\u53d6\u5f7c\u72d0\u72f8\uff0c\u4e3a\u516c\u5b50\u88d8\u3002"}),(0,L.jsx)("div",{children:"\u4e8c\u4e4b\u65e5\u5176\u540c\uff0c\u8f7d\u7f35\u6b66\u529f\u3002\u8a00\u79c1\u5176\u8c75\uff0c\u732e\u8c5c\u4e8e\u516c\u3002"}),(0,L.jsx)("div",{children:"\u4e94\u6708\u65af\u87bd\u52a8\u80a1\uff0c\u516d\u6708\u838e\u9e21\u632f\u7fbd\u3002\u4e03\u6708\u5728\u91ce\uff0c\u516b\u6708\u5728\u5b87\uff0c\u4e5d\u6708\u5728\u6237\uff0c\u5341\u6708\u87cb\u87c0\uff0c\u5165\u6211\u5e8a\u4e0b\u3002"}),(0,L.jsx)("div",{children:"\u7a79\u7a92\u718f\u9f20\uff0c\u585e\u5411\u5890\u6237\u3002\u55df\u6211\u5987\u5b50\uff0c\u66f0\u4e3a\u6539\u5c81\uff0c\u5165\u6b64\u5ba4\u5904\u3002"}),(0,L.jsx)("div",{children:"\u516d\u6708\u98df\u90c1\u53ca\u8581\uff0c\u4e03\u6708\u4ea8\u8475\u53ca\u83fd\u3002\u516b\u6708\u5265\u67a3\uff0c\u5341\u6708\u83b7\u7a3b\u3002\u4e3a\u6b64\u6625\u9152\uff0c\u4ee5\u4ecb\u7709\u5bff\u3002"}),(0,L.jsx)("div",{children:"\u4e03\u6708\u98df\u74dc\uff0c\u516b\u6708\u65ad\u58f6\uff0c\u4e5d\u6708\u53d4\u82f4\uff0c\u91c7\u837c\u85aa\u6a17\u3002\u98df\u6211\u519c\u592b\u3002"}),(0,L.jsx)("div",{children:"\u4e5d\u6708\u7b51\u573a\u5703\uff0c\u5341\u6708\u7eb3\u79be\u7a3c\u3002\u9ecd\u7a37\u91cd\u7a4b\uff0c\u79be\u9ebb\u83fd\u9ea6\u3002\u55df\u6211\u519c\u592b\uff0c\u6211\u7a3c\u65e2\u540c\uff0c\u4e0a\u5165\u6267\u5bab\u529f\u3002"}),(0,L.jsx)("div",{children:"\u663c\u5c14\u4e8e\u8305\uff0c\u5bb5\u5c14\u7d22\u7daf\uff0c\u4e9f\u5176\u4e58\u5c4b\uff0c\u5176\u59cb\u64ad\u767e\u8c37\u3002"}),(0,L.jsx)("div",{children:"\u4e8c\u4e4b\u65e5\u51ff\u51b0\u51b2\u51b2\uff0c\u4e09\u4e4b\u65e5\u7eb3\u4e8e\u51cc\u9634\u3002\u56db\u4e4b\u65e5\u5176\u86a4\uff0c\u732e\u7f94\u796d\u97ed\u3002\u4e5d\u6708\u8083\u971c\uff0c\u5341\u6708\u6da4\u573a\u3002"}),(0,L.jsx)("div",{children:"\u670b\u9152\u65af\u98e8\uff0c\u66f0\u6740\u7f94\u7f8a\uff0c\u8dfb\u5f7c\u516c\u5802\u3002\u79f0\u5f7c\u5155\u89e5\uff1a\u4e07\u5bff\u65e0\u7586\uff01"})]})}),!0===I.dev&&(console.log('oinkedit.current.createWindow({label:"test",top:0,left:0,children:el})'),setTimeout((function(){setTimeout((function(){new zL("iiiii")}),200)}),0))}()}();